import{b as D,c as U}from"./chunk-JINEVGIZ.js";import{b as x,c as K}from"./chunk-46NSFYB3.js";import{n as W}from"./chunk-FFQESTX4.js";import{a as B}from"./chunk-PH2A2GR3.js";import{a as C}from"./chunk-URG4MCPH.js";import{hb as g,y as N}from"./chunk-ZPOCIBPN.js";import{a as J}from"./chunk-IOCZ22XI.js";import{Qa as R,Sa as f,Ta as _,Zb as A,la as v,o as I,pb as z}from"./chunk-M54COW6Q.js";import{H as y}from"./chunk-RIJWHGTU.js";import{I as j,v as h}from"./chunk-K4MPEKC5.js";import{a as q}from"./chunk-CXUPEGDW.js";import{f as u,m as o,o as l}from"./chunk-ICCOEXX5.js";o();l();var H=u(q()),L=u(N()),b=u(J());j();o();l();var Y=u(N());function k(){return(0,Y.useSelector)(B)}o();l();v();z();var G=({walletAccounts:n,rpcData:m,assetsMap:r,showNftAmount:p,selectedCurrency:d,hiddenSmallAsset:c})=>{let a=n.map(t=>{if(!t)return{walletAsset:"0",platformAsset:"0"};let{walletId:e}=t;if(!!m){let{chainTokensAccountMap:E}=m,i=t?.account?.[I];if(!i||[A.HD_KEYRING,A.SIMPLE_KEYRING,A.MPC_KEYRING].indexOf(t?.initialType)<0)return{unsupported:!0,walletAsset:"0",platformAsset:"0",...t};let{balance:F="0"}=E[i]?.filter(({address:O})=>!O)[0]||{};return{walletAsset:F,platformAsset:"0",...t}}let s=r.get(e),T=(s?[s.tokenTotalAssetsUSD,s.defiTotalAssetsUSD,p?s.nftTotalAssetsUSD:"0"]:[]).reduce((E,i)=>f(E,i),"0");return{walletAsset:s?R(c?_(T,s.smallTotalAssetsUSD):T,d.usdToThisRate):"--",platformAsset:s?s.platformTotalAssetsUSD:"--",...t}}),{walletAsset:w,platformAsset:M}=a.reduce((t,e)=>({walletAsset:f(t.walletAsset,e.walletAsset==="--"?"0":e.walletAsset),platformAsset:f(t.platformAsset,e.platformAsset==="--"?"0":e.platformAsset)}),{walletAsset:"0",platformAsset:"0"});return{walletAccountsWidthBalance:a,walletAsset:w,platformAsset:M}};var Q=n=>{let m=(0,b.useHistory)(),r=W(n),[p]=K(x.showNftAmount),d=D(),c=U(d),a=k(),w=(0,L.useSelector)(g);return r||(y.error(h("wallet_extension_top_error_parameters")),m.push(C)),(0,H.useMemo)(()=>{let{walletIdentities:M}=r,{walletAccountsWidthBalance:t,walletAsset:e,platformAsset:S}=G({walletAccounts:M,showNftAmount:p,rpcData:null,selectedCurrency:c,assetsMap:a,hiddenSmallAsset:w});return{...r,walletAsset:e,platformAsset:S,walletIdentities:t}},[r,p,c,a])},Et=Q;export{k as a,G as b,Et as c};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-5IXTSGAM.js.map
