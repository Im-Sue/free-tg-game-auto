import{a as L,g as u,h as T}from"./chunk-6XRHLHYT.js";import"./chunk-6YBNTFOQ.js";import"./chunk-VPDXC6IS.js";import"./chunk-EV6SM3OD.js";import"./chunk-NKCGHO5F.js";import"./chunk-ETTYI3VF.js";import{a as D,b as E}from"./chunk-P7FJ7NEB.js";import"./chunk-XGXABYQN.js";import"./chunk-KKTPGZSO.js";import"./chunk-ESKOSV75.js";import"./chunk-ZDQ5EBGN.js";import"./chunk-2KEW2T4M.js";import{a as w}from"./chunk-7O3XK67L.js";import"./chunk-ARY3LW2J.js";import"./chunk-OG5AG3VZ.js";import{m as l}from"./chunk-CA5MYYD6.js";import"./chunk-RZ7GFYMN.js";import"./chunk-IOCZ22XI.js";import"./chunk-XGFQCNHX.js";import"./chunk-4JZ3HIS7.js";import"./chunk-JLA5HXVC.js";import{c as I}from"./chunk-I4WIGQLD.js";import"./chunk-LYNLETTP.js";import"./chunk-FQ4XEVKF.js";import"./chunk-VMYDP774.js";import"./chunk-A7LNVEYU.js";import"./chunk-2YWUVAR3.js";import"./chunk-VA2HGDZT.js";import"./chunk-AKPDCNMH.js";import{Gb as c,Kb as F,la as A,o as a}from"./chunk-M54COW6Q.js";import"./chunk-PWWHYQAY.js";import"./chunk-RIJWHGTU.js";import"./chunk-K4MPEKC5.js";import"./chunk-X6USBUO5.js";import"./chunk-XIGC6FD5.js";import"./chunk-CXUPEGDW.js";import"./chunk-363VDWOO.js";import"./chunk-7B5WANGL.js";import"./chunk-4P4FGPYZ.js";import"./chunk-YGNOWOE7.js";import"./chunk-TAJDMRFA.js";import"./chunk-YZ3HFF2L.js";import"./chunk-2BD64J7Y.js";import"./chunk-RYJHESAH.js";import"./chunk-DOQ5NSSP.js";import"./chunk-VULQOB2N.js";import{f as y,h as f,m as M,n as g,o as S}from"./chunk-ICCOEXX5.js";M();S();var m=y(I());F();var i=y(L());A();var h=class{constructor(){f(this,"signTransaction",async(t,e,n)=>{e=w(e);let o=D(e),s=o.getMessageToSign(!1),p=g.Buffer.isBuffer(s)?s.toString("hex"):m.rlp.encode(s).toString("hex"),{type:r,chainId:P}=e,q={path:t.hdPathMap[a],chainId:P,requestId:c().toLowerCase(),signData:p,dataType:r===l.FEE_MARKET?i.KeystoneEthereumSDK.DataType.typedTransaction:i.KeystoneEthereumSDK.DataType.transaction,xfp:t.masterFingerprint},C=await T.openModal(u.showTxParams,{signRequest:q,baseChain:a}),d=g.Buffer.from(C,"hex"),R=d.slice(0,32),b=d.slice(32,64),N=d.slice(64),x=E(o,{r:R,s:b,v:N});return n?x:{rawTxResult:x}});f(this,"signTypedData",async(t,e)=>{let n=t.hdPathMap[a];if(!["V4","V3"].includes(e.version)){e.uiSignErrorMessage="this version of typed data signing is no't supported";return}let s=g.Buffer.from(e.data,"utf-8"),p={path:n,requestId:c().toLowerCase(),signData:s,dataType:i.KeystoneEthereumSDK.DataType.typedData,xfp:t.masterFingerprint},r=await T.openModal(u.showTxParams,{signRequest:p,baseChain:a});e.rawSig=`0x${r}`})}async signPersonalMessage(t,e){let n=t.hdPathMap[a],o=(0,m.stripHexPrefix)(e.data),s={path:n,requestId:c().toLowerCase(),signData:o,dataType:i.KeystoneEthereumSDK.DataType.personalMessage,xfp:t.masterFingerprint},r=`0x${await T.openModal(u.showTxParams,{signRequest:s,baseChain:a})}`;e.result=r}},$=new h;export{$ as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ethAdapter-7MEYQEY4.js.map
