import{a as so}from"./chunk-S7SGBFOT.js";import{a as be}from"./chunk-EJIIUJNT.js";import{a as io}from"./chunk-JEQ6GJXM.js";import{b as we}from"./chunk-GGPFCAHR.js";import{a as Pe,c as U}from"./chunk-LJK5U7KV.js";import{a as no}from"./chunk-QNZPWHPG.js";import"./chunk-4ZG74PQY.js";import"./chunk-74GTIAZN.js";import{a as Ee}from"./chunk-SMPKI7U4.js";import"./chunk-C3P5GP5W.js";import"./chunk-2ZLYTJ3L.js";import"./chunk-H43TVLNI.js";import"./chunk-SG4LXTVB.js";import"./chunk-6GFVKSAR.js";import"./chunk-JVLSBRR5.js";import"./chunk-5IXTSGAM.js";import{a as to,c as ge}from"./chunk-BFVA6OLJ.js";import{a as ro}from"./chunk-RC3QMLDN.js";import"./chunk-JINEVGIZ.js";import"./chunk-SRU2IM3A.js";import"./chunk-46NSFYB3.js";import{h as oo,i as he}from"./chunk-FFQESTX4.js";import"./chunk-P6SDUFQ6.js";import"./chunk-5TNZ4MQV.js";import"./chunk-ZDQ5EBGN.js";import"./chunk-2KEW2T4M.js";import"./chunk-R7VTXTCL.js";import"./chunk-LBYCQPAD.js";import"./chunk-IZ5XPPXG.js";import"./chunk-A23SHFFL.js";import{b as Qe}from"./chunk-KT53NMHD.js";import{a as qe,c as xe,e as Ke,i as v}from"./chunk-64STH2HN.js";import"./chunk-RMA2FZOE.js";import"./chunk-KRHB66KZ.js";import"./chunk-4RHFH7IF.js";import"./chunk-LPTRVNVL.js";import"./chunk-PH2A2GR3.js";import"./chunk-JEZIPKDY.js";import"./chunk-SR2BDP3A.js";import"./chunk-WMUTUJYX.js";import"./chunk-B23OWGFX.js";import"./chunk-OSWXWF4A.js";import"./chunk-Q7FJER56.js";import"./chunk-RBTIRMSE.js";import"./chunk-7GZ2ZCGI.js";import"./chunk-WTP3OIOS.js";import"./chunk-D66ZH3O3.js";import{r as Xe}from"./chunk-X764QIVO.js";import"./chunk-HISWVX7W.js";import{a as eo}from"./chunk-PYJPOVV7.js";import{b as h}from"./chunk-AO6MUSOH.js";import{a as Re}from"./chunk-I435LZHT.js";import{v as je,x as r}from"./chunk-SJIW4WAV.js";import"./chunk-SLDECH2O.js";import"./chunk-5JJQQHKZ.js";import"./chunk-URG4MCPH.js";import{Pa as de,Va as $e,o as ze,q as He,y as V}from"./chunk-ZPOCIBPN.js";import"./chunk-CA5MYYD6.js";import"./chunk-RZ7GFYMN.js";import"./chunk-IOCZ22XI.js";import{k as Je,o as Po}from"./chunk-EJY3MW2I.js";import"./chunk-3VRAVMMN.js";import"./chunk-YJ45QIWT.js";import"./chunk-WR62TYUO.js";import{d as G,f as Me}from"./chunk-2G2AXMFT.js";import"./chunk-XGFQCNHX.js";import"./chunk-7JF42X5G.js";import{b as _e,c as E,d as P,f as Ze,g as Ge,i as Ue,j as We,p as Se,q as Ye,r as Ae,w as I,x as fe}from"./chunk-JLA5HXVC.js";import"./chunk-I4WIGQLD.js";import"./chunk-ZNGQ6IUR.js";import"./chunk-JERFAOJH.js";import"./chunk-JXZFOFB5.js";import"./chunk-LYNLETTP.js";import"./chunk-FQ4XEVKF.js";import{c as l}from"./chunk-VMYDP774.js";import"./chunk-A7LNVEYU.js";import"./chunk-2YWUVAR3.js";import"./chunk-VA2HGDZT.js";import"./chunk-AKPDCNMH.js";import{Pa as Eo,S as Fe,_b as ue,la as R,o as J,pa as Ve,q as A,t as Q,x as X}from"./chunk-M54COW6Q.js";import"./chunk-PWWHYQAY.js";import{B as ce,E as pe,G as Oe,c as L}from"./chunk-RIJWHGTU.js";import{I as y,v as n}from"./chunk-K4MPEKC5.js";import"./chunk-X6USBUO5.js";import"./chunk-674MHQJQ.js";import{L as Be,X as K,c as Ao}from"./chunk-XIGC6FD5.js";import{a as w}from"./chunk-CXUPEGDW.js";import"./chunk-363VDWOO.js";import"./chunk-7B5WANGL.js";import"./chunk-4P4FGPYZ.js";import"./chunk-YGNOWOE7.js";import"./chunk-RYJHESAH.js";import"./chunk-DOQ5NSSP.js";import"./chunk-VULQOB2N.js";import{f,m as e,o}from"./chunk-ICCOEXX5.js";e();o();e();o();var d=f(w()),H=f(V());y();Me();e();o();var De=f(w());y();e();o();var W=f(w());e();o();var ee={main:"_main_1coks_1",logo:"_logo_1coks_6",content:"_content_1coks_10",network:"_network_1coks_17",icon:"_icon_1coks_22"};function Te({icon:t,customIcon:i,name:m,content:a=null,disconnect:u,showDisconnect:s=!0,className:c=""}){return W.default.createElement("div",{className:`${ee.main} ${c}`},i||W.default.createElement(h,{src:t,text:m,size:h.SIZE.lg,className:ee.logo}),W.default.createElement("div",{className:ee.content},W.default.createElement(r.Text,{strong:700,ellipsis:!0},m),a),s&&W.default.createElement(h.IconButton,{icon:"okds-unlink",className:ee.icon,onClick:u}))}e();o();var mo={main:"_main_ntvor_1"};var bo=({connectedDomains:t,onDisconnect:i,domainHostCount:m})=>{let a=s=>i(s.origin),u=s=>s.extensionId?n("wallet_dapp_conncetion_subtitle_external_extension"):m[s.host]>1?s.origin:He(s.origin);return De.default.createElement("main",{className:mo.main},t.map(s=>De.default.createElement(Te,{key:s.origin,icon:s.icon,name:u(s),disconnect:()=>a(s)})))},ao=bo;e();o();Po();e();o();var lo=f(w());Me();var co=f(V()),ye=({origin:t})=>{let i=(0,co.useSelector)(({metamask:a})=>a.silence||{});return{removeSilencePermission:(0,lo.useCallback)(async()=>{await G().removeSilencePermission(t)},[t]),silencePermissions:i[t]||[]}};e();o();var g=f(w()),ve=f(V());y();e();o();var te=f(w());y();e();o();var oe={wrapper:"_wrapper_snb9e_1",silence:"_silence_snb9e_4",text:"_text_snb9e_10",cancel:"_cancel_snb9e_13"};var po=({origin:t})=>{let{removeSilencePermission:i,silencePermissions:m}=ye({origin:t});if(m.findIndex(s=>s.expireTime>Date.now())===-1)return null;let u=async()=>{await i()};return te.default.createElement(l.Box,{className:oe.wrapper},te.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:oe.silence},te.default.createElement(r.Text,{className:oe.text,type:r.TYPE.secondary,size:r.SIZE.xs},n("wallet_extension_connect_text_silent_mode_enabled")),te.default.createElement(r.Text,{strong:500,className:oe.cancel,size:r.SIZE.xs,onClick:u},n("wallet_extension_connect_btn_cancel"))))};e();o();var _=f(w()),yo=f(V());y();R();e();o();var N=f(w()),fo=f(V());y();e();o();var z={wrapper:"_wrapper_uubzp_1",switchNetwork:"_switchNetwork_uubzp_4",title:"_title_uubzp_7",arrow:"_arrow_uubzp_10",chainIcon:"_chainIcon_uubzp_14",tip:"_tip_uubzp_17"};e();o();var Ie=f(w());y();var _o=({providerType:t})=>{let[i,m]=(0,Ie.useState)({}),a=to(),u=no(t);return(0,Ie.useEffect)(()=>{switch(t){case E:{let s=a.filter(c=>c.factionType===4).find(c=>c.chainName===u?.chainName)||{};m({...s,title:n("wallet_extension_sonic_desc_solana_comaptible")});break}case P:{let s=a.filter(c=>c.factionType===5).find(c=>c.localType===u?.localType)||{};m({...s,title:n("wallet_extension_sonic_desc_aptos_comaptible")});break}default:break}},[t,u,a]),i};var T=({providerType:t})=>{let i=_o({providerType:t}),{title:m,imageUrl:a,chainName:u}=i,[s,c]=(0,N.useState)(!1),C=(0,fo.useSelector)(v);return N.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:z.wrapper},N.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:z.title},m),N.default.createElement(L,{width:16,height:16,alt:"chain",src:a||I,errorImg:I,pictureClassName:z.chainIcon}),N.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:z.switchNetwork,onClick:()=>c(!0)},N.default.createElement(r.Text,{size:r.SIZE.xs},u),N.default.createElement(h,{className:`okx-wallet-plugin-select-unfold ${z.arrow}`,size:h.SIZE.xxs})),N.default.createElement(be,{visible:s,providerType:t,onClose:()=>c(!1),origin:C?.origin},N.default.createElement(be.Header,{title:n("wallet_extension_title_switch_network"),subTitle:n("wallet_extension_aptos_toast_manually_switch_network",{network:u})})))},Do=({chainName:t})=>N.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:z.tip},n("wallet_extension_sonic_toast_manually_switch_network",{network:t}));T.Tip=Do;e();o();var re=f(w());y();R();e();o();e();o();Eo();function uo(){let t=Ve;return{address:ro(t)||"",localType:t}}y();R();var b=f(w());e();o();var Le={wrapper:"_wrapper_1ujno_1",arrow:"_arrow_1ujno_4"};var xo=({walletId:t})=>{let{address:i}=uo(),[m,a]=b.default.useState(!1);return b.default.createElement(b.default.Fragment,null,b.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:Le.wrapper,onClick:()=>{a(!0)}},b.default.createElement(r.Text,{size:r.SIZE.xs},ze(i)),b.default.createElement(h,{className:`okx-wallet-plugin-select-unfold ${Le.arrow}`,size:h.SIZE.xxs})),b.default.createElement(Ee,{visible:m,onClose:()=>a(!1),coinId:Fe,walletId:t},b.default.createElement(Ee.Header,{title:n("extension_defi_top_header_title_select_address_type"),subTitle:n("extension_defi_popup_desc_new_address_default")})))};e();o();var Ne={lineItem:"_lineItem_1ljn3_1",chainIcon:"_chainIcon_1ljn3_4",networkTitle:"_networkTitle_1ljn3_7"};var Y=()=>{let t=oo(),i=ge({localType:A});return re.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:Ne.lineItem},re.default.createElement(r.Text,{size:r.SIZE.xs,type:r.TYPE.secondary,className:Ne.networkTitle},n("wallet_extension_sonic_header_btc_address")),re.default.createElement(L,{width:16,height:16,alt:"chain",src:i?.imageUrl||I,errorImg:I,pictureClassName:Ne.chainIcon}),re.default.createElement(xo,{walletId:t}))};e();o();var j=f(w());y();e();o();var ie={lineItem:"_lineItem_1bqk8_1",chainIcon:"_chainIcon_1bqk8_4"};var ne=({showImage:t=!0,info:i})=>j.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:ie.lineItem},j.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:ie.title},n("wallet_extension_card_dropdown_available_network",{network:""})),t&&j.default.createElement(L,{width:16,height:16,alt:"chain",src:i.image||I,errorImg:I,pictureClassName:ie.chainIcon}),j.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:ie.switchNetwork},j.default.createElement(r.Text,{size:r.SIZE.xs},i.chainName||"")));e();o();var B=f(w());y();e();o();var x=f(w()),ke=f(V()),go=f(Ao());y();R();e();o();var ho={arrow:"_arrow_t61c5_1"};var Lo=({isOkx:t,isFromConnectedSitesPage:i=!1})=>{let[m,a]=(0,x.useState)(!1),u=(0,ke.useSelector)(de),c=(0,ke.useSelector)($e)[u].keyringIdentityType===ue.PRIVATE_KEY,{origin:C}=(0,ke.useSelector)(v),M=U({dappUrl:C})?.provider,F=M?fe[M]===A:!1,{isEVMProvider:D,isEVM:Z,icon:me,chainName:q,isRpcModeCustomNetwork:ae}=we(),S=t||D;return x.default.createElement(x.default.Fragment,null,x.default.createElement(so,{type:"dapp",visible:m,closeCallback:()=>{a(!1)},isOkx:t,isEVM:Z,isPRIVATE:c,isBitcoinProvider:F}),x.default.createElement("div",{className:(0,go.default)("network-block",{"network-block-cursor":S}),onClick:()=>{S&&a(!0)}},t?x.default.createElement(x.default.Fragment,null,x.default.createElement("img",{src:"/static/images/all-chain.svg",className:"network-block--icon",alt:"network-icon"}),x.default.createElement("span",{className:"network-block-name"},n("wallet_extension_option_allchain")),x.default.createElement(h,{className:"okx-wallet-plugin-select-unfold network-block--arrow",size:h.SIZE.xxs})):x.default.createElement(x.default.Fragment,null,!i&&(ae?x.default.createElement(h,{text:q,size:h.SIZE.xs,className:"network-block--text-icon"}):x.default.createElement(pe,{width:24,height:24,alt:q,src:me||Ae,errorImg:Ae,className:"network-block--icon"})),x.default.createElement("span",{className:"network-block-name"},q),D&&x.default.createElement(h,{className:`okx-wallet-plugin-select-unfold ${ho.arrow}`,size:h.SIZE.xxs}))))},wo=Lo;e();o();var Ce={lineItem:"_lineItem_1ljn3_1",chainIcon:"_chainIcon_1ljn3_4",networkTitle:"_networkTitle_1ljn3_7"};var $=({isAllchain:t=!1})=>{let{icon:i}=we();return B.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:Ce.lineItem},B.default.createElement(r.Text,{size:r.SIZE.xs,type:r.TYPE.secondary,className:Ce.networkTitle},n("wallet_extension_sonic_header_evm_network")),t?B.default.createElement(r.Text,{type:r.SIZE.xs},n("wallet_extension_sonic_desc_all_networks")):B.default.createElement(B.default.Fragment,null,B.default.createElement(L,{width:16,height:16,alt:"chain",src:i||I,errorImg:I,pictureClassName:Ce.chainIcon}),B.default.createElement(wo,{isOkx:!1,isFromConnectedSitesPage:!0})))};e();o();var To={headerTip:"_headerTip_tbl1j_1"};var Io=({isAllchain:t,isCurrentDappConnect:i})=>{let m=he(),a=(0,yo.useSelector)(v),{provider:u}=U({dappUrl:a?.origin}),s=fe[u],c=ge({localType:s}),C=()=>_.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:To.headerTip},n("wallet_extension_sonic_desc_switch_network_btc"));if(!i)return _.default.createElement(_.default.Fragment,null,C(),m?.account[J]&&_.default.createElement($,null),m?.account[Q]&&_.default.createElement(T,{providerType:E}),m?.account[X]&&_.default.createElement(T,{providerType:P}),m?.account[A]&&_.default.createElement(Y,null));if(t)return _.default.createElement(_.default.Fragment,null,C(),m?.account[J]&&_.default.createElement($,{isAllchain:!0}),m?.account[Q]&&_.default.createElement(T,{providerType:E}),m?.account[X]&&_.default.createElement(T,{providerType:P}),m?.account[A]&&_.default.createElement(Y,null));switch(u){case _e:case Se["okx6963-provider"]:case Se["ethereum-provider"]:return _.default.createElement($,null);case E:case Ge:return _.default.createElement(_.default.Fragment,null,_.default.createElement(T.Tip,{chainName:c?.chainName}),_.default.createElement(T,{providerType:E}));case P:case Ue:return _.default.createElement(_.default.Fragment,null,_.default.createElement(T.Tip,{chainName:c?.chainName}),_.default.createElement(T,{providerType:P}));case We:return _.default.createElement(Y,null);case Ze:return _.default.createElement(ne,{info:{chainName:n("wallet_extension_cosmos_text_cosmos_network")},showImage:!1});default:return _.default.createElement(ne,{info:{image:c?.imageUrl,chainName:c?.chainName}})}};e();o();var k=f(w()),No=f(V());R();var ko=({isAllchain:t,isCurrentDappConnect:i})=>{let m=(0,No.useSelector)(Qe),a=m?.length?m[0]:{};switch(a?.localType){case J:return k.default.createElement($,{isAllchain:i?t:!1});case A:return k.default.createElement(Y,null);case Q:return k.default.createElement(k.default.Fragment,null,k.default.createElement(T.Tip,{chainName:a?.chainName}),k.default.createElement(T,{providerType:E}));case X:return k.default.createElement(k.default.Fragment,null,k.default.createElement(T.Tip,{chainName:a?.chainName}),k.default.createElement(T,{providerType:P}));default:return k.default.createElement(ne,{info:{image:a?.image,chainName:a?.chainName}})}};e();o();var se={main:"_main_80cch_1",connectedItem:"_connectedItem_80cch_4",chainIcon:"_chainIcon_80cch_7",lineItem:"_lineItem_80cch_10",tooltip:"_tooltip_80cch_13",tipIcon:"_tipIcon_80cch_16",networkTitle:"_networkTitle_80cch_21"};var Co=({activeTab:t,removeAccount:i,domain:m})=>{let a=(0,ve.useSelector)(xe),u=he(),{method:s,provider:c}=U({dappUrl:t?.origin}),C=(0,g.useMemo)(()=>u?.keyringIdentityType===ue.PRIVATE_KEY,[u]),O=(0,g.useMemo)(()=>Boolean((a||[]).find(Z=>Z.origin===t?.origin)),[a,t]),M=(0,ve.useSelector)(qe),F=(0,g.useMemo)(()=>M[t?.origin]?.isOkx,[M,t]),D=(0,g.useMemo)(()=>F||c===_e&&(s===Pe.requestWallets||s===Pe.walletRequestWallets),[s,F,c]);return g.default.createElement(l.Box,{className:se.main},g.default.createElement(l.FlexBox,{align:l.ALIGN.center},g.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs},n("wallet_extension_header_subtitle_current_dapp")),g.default.createElement(ce,{title:n("wallet_extension_toast_tooltip_adjust_retry"),trigger:ce.TRIGGER_TYPES.hover,placement:ce.DIRECTION.bottom,className:se.tooltip},g.default.createElement(Be,{className:`okds-question-mark-circle-fill ${se.tipIcon}`}))),g.default.createElement(Te,{className:se.connectedItem,customIcon:g.default.createElement(pe,{alt:"connected",src:t?.icon||"/static/images/default-img.svg",errorImg:Ye,className:"connect-site-page__origin-icon"}),name:m,disconnect:()=>i(t?.origin),showDisconnect:O}),C?g.default.createElement(ko,{isAllchain:D,isCurrentDappConnect:O}):g.default.createElement(Io,{isAllchain:D,isCurrentDappConnect:O}),g.default.createElement(po,{origin:t?.origin}))};e();o();var So={chainIcon:"_chainIcon_rikh8_1",lineItem:"_lineItem_rikh8_4",connectedText:"_connectedText_rikh8_7"};var vo=()=>{let t=(0,H.useSelector)(Ke),i=(0,H.useSelector)(xe),m=(0,H.useSelector)(de),a=(0,H.useDispatch)(),[u,s]=(0,d.useState)(!1),c=(0,H.useSelector)(v),{removeSilencePermission:C,silencePermissions:O}=ye({origin:c?.origin}),M=c?.origin&&c?.origin.replace(/^https?:\/\//iu,""),{setDisconnectUpgrade:F,isNeedShowDisconnectUpgrade:D}=io(),Z=(0,d.useCallback)(()=>{D&&(Oe.success({title:n("wallet_extension_card_subtitle_disconnect_update")}),F())},[D,F]),me=async S=>{G().clearCookie(S),await G().removePermittedAllAccount(S),Z(),O.length>0&&C(S),await Je(a)},q=()=>{s(!0);try{Promise.all(i.map(le=>(O.length>0&&C(le.origin),G().clearCookie(le.origin)))).catch(()=>{});let S=i.map(async le=>a(Xe(le.origin,m)));Promise.all(S).then(()=>{s(!1),Z()}).catch(()=>{s(!1)})}catch{s(!1)}},ae=(0,d.useMemo)(()=>(i||[]).filter(S=>S.origin!==c?.origin),[i,c]);return d.default.createElement("div",{className:"connect-site-page__wrapper"},d.default.createElement(eo,{title:n("wallet_home_dapp_connection_btn_connect"),closeable:!1}),d.default.createElement(Co,{activeTab:c,removeAccount:me,domain:M}),ae.length>0&&d.default.createElement(d.default.Fragment,null,d.default.createElement(je,null),d.default.createElement(l.Box,null,d.default.createElement(l.FlexBox,{align:l.ALIGN.center},d.default.createElement(r.Text,{type:r.TYPE.secondary,size:r.SIZE.xs,className:So.connectedText},n("wallet_extension_header_subtitle_connected_dapp"))),d.default.createElement(ao,{domainHostCount:t,connectedDomains:ae,onDisconnect:me}))),i.length?d.default.createElement(Re.FooterActions,null,d.default.createElement(K,{block:!0,category:K.CATEGORY.fill,type:K.TYPE.highlight,size:K.SIZE.lg,onClick:q,loading:u},n("wallet_extension_withdraw_btn_disconnected"))):null)},Bo=(0,d.memo)(vo);export{Bo as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=DAppNetworkManage-UIT2KHT4.js.map
