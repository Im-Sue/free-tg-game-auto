import{a as Ot,b as zt,c as Bt}from"./chunk-SP3S3L5M.js";import{a as qt}from"./chunk-LSZZKHZT.js";import{a as Y,b as I,c as rt}from"./chunk-JPV5PNQX.js";import{a as Rt}from"./chunk-74GTIAZN.js";import{a as At}from"./chunk-IKIWJ4RT.js";import{a as Ut}from"./chunk-YVRJEQO6.js";import{a as $}from"./chunk-6XTUWRPU.js";import{a as vt}from"./chunk-TPVT7ZCY.js";import"./chunk-SRU2IM3A.js";import"./chunk-FFQESTX4.js";import{a as Dt}from"./chunk-OCZAVPFZ.js";import"./chunk-P6SDUFQ6.js";import"./chunk-5TNZ4MQV.js";import"./chunk-ZDQ5EBGN.js";import"./chunk-2KEW2T4M.js";import"./chunk-R7VTXTCL.js";import"./chunk-LBYCQPAD.js";import"./chunk-KVIYCH5A.js";import"./chunk-U43G73LH.js";import"./chunk-I27PVEIN.js";import"./chunk-R2QYIBE7.js";import"./chunk-KT53NMHD.js";import"./chunk-64STH2HN.js";import"./chunk-RMA2FZOE.js";import{f as Mt,g as St,h as Pt,m as Ft}from"./chunk-4RHFH7IF.js";import{b as E}from"./chunk-LPTRVNVL.js";import{a as Tt,d as Lt}from"./chunk-2LLM6N6U.js";import{a as Et}from"./chunk-PYJPOVV7.js";import{b as C}from"./chunk-AO6MUSOH.js";import{a as It}from"./chunk-I435LZHT.js";import{x as y}from"./chunk-SJIW4WAV.js";import"./chunk-SLDECH2O.js";import{b as Ct,r as gt,z as Nt}from"./chunk-5JJQQHKZ.js";import{Ca as ot,T as bt,U,a as ht}from"./chunk-URG4MCPH.js";import{y as yt}from"./chunk-ZPOCIBPN.js";import"./chunk-CA5MYYD6.js";import"./chunk-RZ7GFYMN.js";import{a as W}from"./chunk-IOCZ22XI.js";import{k as xt,o as ye}from"./chunk-EJY3MW2I.js";import"./chunk-3VRAVMMN.js";import"./chunk-YJ45QIWT.js";import"./chunk-WR62TYUO.js";import{d as wt,f as we}from"./chunk-2G2AXMFT.js";import"./chunk-XGFQCNHX.js";import{s as kt}from"./chunk-JLA5HXVC.js";import"./chunk-I4WIGQLD.js";import"./chunk-ZNGQ6IUR.js";import"./chunk-JERFAOJH.js";import"./chunk-JXZFOFB5.js";import"./chunk-LYNLETTP.js";import"./chunk-FQ4XEVKF.js";import{c as M}from"./chunk-VMYDP774.js";import"./chunk-A7LNVEYU.js";import"./chunk-2YWUVAR3.js";import"./chunk-VA2HGDZT.js";import"./chunk-AKPDCNMH.js";import"./chunk-M54COW6Q.js";import"./chunk-PWWHYQAY.js";import{M as B,q as et,x as V,y as ut}from"./chunk-RIJWHGTU.js";import{I as R,v as m}from"./chunk-K4MPEKC5.js";import"./chunk-X6USBUO5.js";import"./chunk-674MHQJQ.js";import{L as ft,X as z,c as O}from"./chunk-XIGC6FD5.js";import{a as T}from"./chunk-CXUPEGDW.js";import"./chunk-363VDWOO.js";import"./chunk-7B5WANGL.js";import"./chunk-4P4FGPYZ.js";import"./chunk-YGNOWOE7.js";import"./chunk-RYJHESAH.js";import"./chunk-DOQ5NSSP.js";import"./chunk-VULQOB2N.js";import{f as l,m as t,o as e}from"./chunk-ICCOEXX5.js";t();e();var a=l(T()),oe=l(W()),K=l(yt());R();var re=l(O());t();e();var Kt=l(T());R();t();e();var Ht={"search-input":"_search-input_6izyw_1",searchInput:"_search-input_6izyw_1"};var Gt=({onSearch:o,searchKeyword:r})=>Kt.default.createElement(et.Search,{className:Ht.searchInput,placeholder:m("extension_wallet_network_input_search_network"),size:et.SIZE.md,value:r,onChange:c=>{let i=c.target.value;o(i)}});t();e();var S=l(T());var Vt=l(W());t();e();var A={tabs:"_tabs_8vwgq_1","tabs-container":"_tabs-container_8vwgq_5",tabsContainer:"_tabs-container_8vwgq_5","panel-list":"_panel-list_8vwgq_10",panelList:"_panel-list_8vwgq_10",right:"_right_8vwgq_19",left:"_left_8vwgq_22"};var Wt=({currentTab:o,onTabChange:r,tabsConfig:c})=>{let i=(0,Vt.useHistory)(),s=(0,S.useCallback)(n=>{r(n),i.replace(`${bt}?tab=${String(n)}`)},[i]);return S.default.createElement(S.default.Fragment,null,S.default.createElement(B,{className:A.tabsContainer,headerClassName:A.tabs,panelListClassName:A.panelList,activeId:o,size:B.SIZE.xl,color:B.COLOR.grey,paneSpacing:24,noPadding:!0,noLine:!0,onChange:s,navLeftClassName:A.left,navRightClassName:A.right},c.map(n=>{let{title:p,id:_}=n;return S.default.createElement(B.TabPane,{tab:p,key:_,id:_},n.contentComponent)})))};t();e();var b=l(T());t();e();var h=l(T()),$t=l(O());t();e();var Z={root:"_root_eurf0_1",box:"_box_eurf0_4",name:"_name_eurf0_7"};var ke=({icon:o,name:r,children:c,keyword:i,className:s,onClick:n,id:p,..._})=>{let x=$(),D=p===x,N=(0,h.useMemo)(()=>{if(o&&h.default.isValidElement(o))return o;let k={size:C.SIZE.lg};return o&&typeof o=="string"?{src:o,type:C.TYPE.image,defaultIcon:kt,...k}:o&&typeof o=="object"?{...k,...o}:r&&typeof r=="string"?{text:r,type:C.TYPE.text,textTheme:C.TEXT_THEME.black,...k}:!1},[o,r]);return h.default.createElement(Tt,{icon:N,className:(0,$t.default)(Z["wallet-list-token"],s),onClick:n,..._},h.default.createElement(M.FlexBox,{className:Z.box,direction:M.DIRECTION.vertical},h.default.createElement(M.FlexBox,{align:M.ALIGN.center,className:Z.name},h.default.createElement(y.HighlightKeyword,{strong:!0,text:r,keyword:i,ellipsis:{tooltip:!0}}))),D&&h.default.createElement(C,{icon:"okds-success-circle-fill"}),c)},Yt=h.default.memo(ke);var Zt=l(O());R();t();e();var j={root:"_root_1dyrv_1","empty-container":"_empty-container_1dyrv_4",emptyContainer:"_empty-container_1dyrv_4","list-container":"_list-container_1dyrv_7",listContainer:"_list-container_1dyrv_7","search-mode":"_search-mode_1dyrv_11",searchMode:"_search-mode_1dyrv_11"};var v=({listData:o,keywords:r,onSelect:c,emptyText:i,renderCustomItem:s,isRpcMode:n,listContainerClassName:p,searchMode:_=!1})=>{let x=(0,b.useRef)(null),D=(0,b.useCallback)(f=>{let{chainName:J,icon:tt}=f||{};return b.default.createElement(Yt,{id:f.id,name:J,icon:tt,keyword:r,onClick:()=>{c(f,n)}},s?.(f))},[r,c,n,s]),N=(0,b.useCallback)(()=>_?null:b.default.createElement(ut.State,{className:j.emptyContainer,title:i??m("wallet_extension_cryptodetail_text_nodata_found")}),[i,_]),k=Nt(x);return b.default.createElement("div",{ref:x,className:(0,Zt.default)(j.listContainer,p,{[j.searchMode]:_})},b.default.createElement(Lt,{virtualable:!_,itemKey:"id",height:k?.height??408,searchable:!1,dataSource:o,renderItem:D,renderEmpty:N}))};t();e();var P=l(T());var Xt=l(W()),Jt=l(yt());t();e();var g=l(T()),jt=l(O());R();t();e();var q={"option-item":"_option-item_ecfdy_1",optionItem:"_option-item_ecfdy_1","option-icon":"_option-icon_ecfdy_5",optionIcon:"_option-icon_ecfdy_5",option:"_option_ecfdy_1","option-text":"_option-text_ecfdy_17",optionText:"_option-text_ecfdy_17","more-icon":"_more-icon_ecfdy_24",moreIcon:"_more-icon_ecfdy_24"};var Ce=({onViewDetail:o,onDelete:r})=>{let c=(0,g.useMemo)(()=>[{icon:"okx-wallet-plugin-edit-wallet",label:m("extension_wallet_network_text_check_details"),value:"detail",action:o},{icon:"okx-wallet-plugin-trash",label:m("extension_wallet_network_text_remove_network"),value:"delete",action:r}],[o,r]),i=()=>g.default.createElement(C.IconButton,{icon:"okx-wallet-plugin-more",className:q.moreIcon}),s=({option:p})=>{let _=p;return g.default.createElement("div",{className:q.option},g.default.createElement(C,{className:(0,jt.default)(_.icon,q.optionIcon)}),g.default.createElement("span",{className:q.optionText},_.label))},n=(0,g.useCallback)(p=>{p.preventDefault(),p.stopPropagation()},[]);return g.default.createElement("div",{onClick:n},g.default.createElement(V,{options:c,align:V.DIRECTION.right,optionAlign:V.DIRECTION.left,displayArea:i,renderOption:s,onChange:p=>{p?.action()},optionItemClassName:q.optionItem}))},Qt=Ce;R();var te=l(O());t();e();var nt={"list-container":"_list-container_15bwz_1",listContainer:"_list-container_15bwz_1",unScollListContainer:"_unScollListContainer_15bwz_5"};var Q=({isEVMChainExisted:o,disableScroll:r=!1,...c})=>{let i=(0,Xt.useHistory)(),s=(0,Jt.useDispatch)(),n=$(),p=async()=>{window.location.href.includes("/home.html")||window.location.href.includes("/sidepanel.html")?i.push(U):globalThis.platform.openExtensionInBrowser(U)},_=async f=>{i.push(`${U}?id=${encodeURIComponent(f.id)}&modify=${Y.CAN}`)},x=qt(),D=f=>{x({editRpcInfo:{uniqueId:f.id,rpcUrl:f.rpcUrl},onDeleted:()=>{n===f.id&&(s(E("currentNetworkUniqueId","")),s(E("isRpcMode",!1)))}})},N=f=>P.default.createElement(Qt,{onDelete:()=>{D(f)},onViewDetail:()=>{_(f)}}),k=o;return P.default.createElement(P.default.Fragment,null,P.default.createElement(v,{...c,listContainerClassName:(0,te.default)({[nt.listContainer]:k,[nt.unScollListContainer]:r}),renderCustomItem:N}),k&&P.default.createElement(It.FooterActions,null,P.default.createElement(z,{block:!0,size:z.SIZE.lg,type:z.TYPE.highlight,category:z.CATEGORY.fill,onClick:p},m("developer_mode_network_maintitle_add_network"))))};t();e();var st=l(T());var ee=l(W());t();e();var it={"more-icon":"_more-icon_61eiy_1",moreIcon:"_more-icon_61eiy_1","more-icon__core":"_more-icon__core_61eiy_5",moreIconCore:"_more-icon__core_61eiy_5"};var X=o=>{let r=(0,ee.useHistory)();return st.default.createElement(v,{...o,renderCustomItem:i=>st.default.createElement(C.IconButton,{icon:"okx-wallet-plugin-more",className:it.moreIcon,coreClassName:it["more-icon__core"],onClick:s=>{s.preventDefault(),s.stopPropagation(),r.push(`${U}?id=${encodeURIComponent(i.id)}&modify=${Y.CANT}`)}})})};we();ye();t();e();var at={root:"_root_31k2g_1","header-gulf":"_header-gulf_31k2g_7",headerGulf:"_header-gulf_31k2g_7"};t();e();var u=l(T());R();t();e();var H={"list-title":"_list-title_1nee9_1",listTitle:"_list-title_1nee9_1","search-container":"_search-container_1nee9_6",searchContainer:"_search-container_1nee9_6"};function lt(o){let{mainnetList:r,testnetList:c,customList:i,debouncedKeywords:s,onSelect:n}=o;return u.default.createElement("div",{className:H.searchContainer},r.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(y.Text,{className:H.listTitle,size:y.SIZE.xs,type:y.TYPE.secondary},m("extension_wallet_network_tab_main_network")),u.default.createElement(v,{listData:r,keywords:s,onSelect:n,isRpcMode:!1,searchMode:!0})):null,c.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(y.Text,{className:H.listTitle,size:y.SIZE.xs,type:y.TYPE.secondary},m("developer_mode_network_title_test_network")),u.default.createElement(X,{listData:c,keywords:s,onSelect:n,isRpcMode:!0,searchMode:!0})):null,i.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(y.Text,{className:H.listTitle,size:y.SIZE.xs,type:y.TYPE.secondary},m("developer_mode_network_title_editcustom")),u.default.createElement(Q,{isEVMChainExisted:!1,disableScroll:!0,listData:i,keywords:s,onSelect:n,isRpcMode:!0,searchMode:!0})):null)}var ge=()=>{let o=(0,oe.useHistory)(),r=(0,K.useDispatch)(),c=Dt(),i=(0,a.useCallback)(()=>{o.replace(ht)},[o]),[s,n]=(0,a.useState)(I.init),[p,_]=(0,a.useState)({rpcUrl:"",uniqueId:"",name:""}),x=(0,K.useSelector)(Mt),D=(0,K.useSelector)(Ft);Ct(()=>{n(I.success),rt(x,p)&&o.replace(ot)},[D]);let N=(0,a.useRef)(!1),k=async w=>{n(I.loading),N.current=!1;try{let{rpcUrl:L,uniqueId:ue}=w;await Ot(L),N.current||(await r(E("isRpcMode",!0)),await r(E("currentNetworkUniqueId",ue)),await r(St(w)))}catch{N.current||n(I.failed)}},[f,J]=(0,a.useState)(""),tt=w=>{J(w)},[ne,ie]=(0,a.useState)(parseInt(c.get("tab")||"0",10)),se=w=>{ie(w)},F=gt(f,{wait:300}),{resetFilterInfo:ae}=Ut(),{mainnetListForUI:mt,customListForUI:ct,testnetListForUI:pt,isEVMChainExisted:dt}=At(F),{isRpcMode:le}=Rt(),me=async w=>{let L=await Pt(w.id);if(le&&rt(x,L)){o.replace(ot);return}_(L),await k(L)},ce=async w=>{await r(E("isRpcMode",!1)),await r(E("currentNetworkUniqueId",w.id)),ae(!0),i()},pe=async()=>{await wt().clearDappData(),await xt(r)},G=async(w,L)=>{await pe(),L?await me(w):await ce(w)},de=vt(),_e=()=>{globalThis.platform.openTab({url:de.faucetCenter})},_t=dt?m("wallet_extension_cryptodetail_text_nodata_found"):m("extension_wallet_network_text_unused_testnet"),fe=[{title:m("extension_wallet_network_tab_main_network"),id:0,contentComponent:a.default.createElement(v,{listData:mt,keywords:F,onSelect:G,isRpcMode:!1})},{title:m("developer_mode_network_title_test_network"),id:1,contentComponent:a.default.createElement(X,{listData:pt,keywords:F,onSelect:G,emptyText:_t,isRpcMode:!0})},{title:m("developer_mode_network_title_editcustom"),id:2,contentComponent:a.default.createElement(Q,{isEVMChainExisted:dt,emptyText:_t,listData:ct,keywords:F,onSelect:G,isRpcMode:!0})}];return a.default.createElement(M.Container,{className:at.root},a.default.createElement(Et,{title:m("wallet_extension_top_maintitle_select_network"),onBack:i,closeable:!1},a.default.createElement(ft,{className:(0,re.default)("okx-wallet-plugin-faucet-1",at.headerGulf),onClick:_e})),a.default.createElement(Gt,{onSearch:tt,searchKeyword:f}),F?a.default.createElement(lt,{mainnetList:mt,testnetList:pt,customList:ct,debouncedKeywords:F,onSelect:G}):a.default.createElement(Wt,{currentTab:ne,onTabChange:se,tabsConfig:fe}),a.default.createElement(zt,{visible:s===I.failed,onRetry:async()=>{await k(p)},onChangeNet:()=>{n(I.init)}}),a.default.createElement(Bt,{visible:s===I.loading,network:p?.name,onClose:()=>{n(I.init),N.current=!0}}))},_n=ge;export{ge as NetworkManagement,_n as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=NetworkManagement-JHKKDVRY.js.map
