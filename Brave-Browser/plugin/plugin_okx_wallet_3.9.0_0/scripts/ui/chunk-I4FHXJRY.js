import{a as So,b as Bo,c as Mo}from"./chunk-BQBRVMZJ.js";import{c as Ao}from"./chunk-XKXVOEIB.js";import{a as ko}from"./chunk-HOMBI2ED.js";import{a as vo}from"./chunk-JV2QGIZV.js";import{b as Fo}from"./chunk-G6RAUYSM.js";import{a as fe,b as We}from"./chunk-GGPFCAHR.js";import{a as et,c as _e,d as Pe}from"./chunk-LJK5U7KV.js";import{a as Oe,e as Co}from"./chunk-IL2ELGO7.js";import{a as bo}from"./chunk-QNZPWHPG.js";import{a as De}from"./chunk-74GTIAZN.js";import{a as oe}from"./chunk-BXKGIUFS.js";import{a as Lo}from"./chunk-LDMXQFRF.js";import{a as Eo}from"./chunk-IM6LLRHH.js";import{a as tt}from"./chunk-XVNT5VUK.js";import{a as Fe}from"./chunk-TPVT7ZCY.js";import{a as No}from"./chunk-RFEJLMRV.js";import{a as wo,c as Io}from"./chunk-BFVA6OLJ.js";import{b as To}from"./chunk-SRU2IM3A.js";import{h as ue,i as Le}from"./chunk-FFQESTX4.js";import{i as wt}from"./chunk-KZR43RPO.js";import{a as xo}from"./chunk-QXNKNSJH.js";import{a as fo}from"./chunk-KT53NMHD.js";import{c as io,i as ao,j as lo,k as co,l as po}from"./chunk-64STH2HN.js";import{D as bt,K as de,b as Nt}from"./chunk-WTP3OIOS.js";import{j as go,q as ho}from"./chunk-X764QIVO.js";import{g as Me}from"./chunk-HISWVX7W.js";import{b as k}from"./chunk-AO6MUSOH.js";import{a as yo}from"./chunk-I435LZHT.js";import{g as Ct,h as kt,i as Ht,q as Gt,s as Vt,u as Kt,x as o}from"./chunk-SJIW4WAV.js";import{a as Ut}from"./chunk-SLDECH2O.js";import{q as Se}from"./chunk-5JJQQHKZ.js";import{I as Jt,Na as to,Sa as oo,T as Qt,Ua as ro,Xa as no,a as qt,aa as eo,gb as so,i as Be}from"./chunk-URG4MCPH.js";import{Fb as Xt,Pa as Ae,Va as ve,cb as $t,gb as Yt,lb as te,o as It,y as ee}from"./chunk-ZPOCIBPN.js";import{a as Ie}from"./chunk-IOCZ22XI.js";import{i as mo,j as uo,k as _o,o as Qe}from"./chunk-EJY3MW2I.js";import{c as ht,d as me,f as Re}from"./chunk-2G2AXMFT.js";import{b as Ee,c as Et,d as At,e as vt,f as St,h as Bt,i as Mt,j as Lt,k as Ft,l as Ot,m as Dt,n as Pt,o as Wt,p as Je,s as zt,w as ae}from"./chunk-JLA5HXVC.js";import{h as Rt}from"./chunk-JXZFOFB5.js";import{c as a}from"./chunk-VMYDP774.js";import{Bb as fr,Cb as Tt,Db as gr,Ib as qe,Kb as hr,Ub as Zt,Wb as jt,_b as le,la as _r,m as dr,q as yt,xb as xt}from"./chunk-M54COW6Q.js";import{B as ce,E as ke,G as $,H as pe,a as _t,c as Xe,e as ie,o as Ce,x as we}from"./chunk-RIJWHGTU.js";import{B as $e,I as Z,l as dt,v as p}from"./chunk-K4MPEKC5.js";import{L as ut,Q as ft,R as gt,X as q,c as Ye}from"./chunk-XIGC6FD5.js";import{a as M,g as ur}from"./chunk-CXUPEGDW.js";import{f,m as e,o as t}from"./chunk-ICCOEXX5.js";e();t();var Oo=f(M()),ot=f(ee()),zr=r=>{let n=(0,ot.useSelector)(Ae),c=(0,ot.useSelector)(ve)[r||n];return(0,Oo.useMemo)(()=>c?.keyringIdentityType===le.MPC,[c])};e();t();var h=f(M()),ze=f(ee()),Po=f(Ie());Z();Qe();Re();e();t();var H={main:"_main_17c8w_1",connectManage:"_connectManage_17c8w_11",button:"_button_17c8w_14",left:"_left_17c8w_22",imgWrapper:"_imgWrapper_17c8w_29",icon:"_icon_17c8w_35",chainIcon:"_chainIcon_17c8w_38",status:"_status_17c8w_41",origin:"_origin_17c8w_49",arrowIcon:"_arrowIcon_17c8w_53",disconnectIcon:"_disconnectIcon_17c8w_58",divider:"_divider_17c8w_67"};e();t();var Do=({origin:r})=>{let{provider:n}=_e({dappUrl:r}),i=bo(n);return Io({localType:i?.localType})||{}};var yr=({disconnectCallback:r})=>{let n=(0,Po.useHistory)(),i=(0,ze.useDispatch)(),{icon:c}=We(),s=fe(),l=_e({dappUrl:s?.origin}),g=ue(),{walletInfo:m}=Pe({dappUrl:s?.origin,walletId:g}),{imageUrl:d}=Do({origin:s?.origin}),T=(0,ze.useSelector)(te),C=(0,h.useMemo)(()=>{let{provider:I,method:D}=l||{};return s?.isOkx||I===Ee&&(D===et.requestWallets||D===et.walletRequestWallets)},[l,s]),v=(0,h.useMemo)(()=>{if(l?.provider===St)return h.default.createElement(h.default.Fragment,null,h.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,style:{color:"var(--okd-color-border-primary)"}},"\uFF5C"),h.default.createElement(o.Text,{size:o.SIZE.xs,strong:500,ellipsis:!0},p("wallet_extension_cosmos_text_cosmos_network")));if(!m?.address&&!s.isOkx)return null;let I=null;switch(!0){case C:I=h.default.createElement(o.Text,{size:o.SIZE.xs,strong:500,ellipsis:!0},p("wallet_extension_card_text_all_network"));break;case!!m?.address:I=h.default.createElement(h.default.Fragment,null,h.default.createElement(Xe,{width:14,height:14,alt:"chain",src:d||c||ae,errorImg:ae,pictureClassName:H.chainIcon}),h.default.createElement(o.Text,{size:o.SIZE.xs,ellipsis:!0,strong:500},It(m?.address)));break;default:break}return h.default.createElement(h.default.Fragment,null,h.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary},"\uFF5C"),I)},[l?.provider,c,s.isOkx,m?.address,d]);if(!s.originNoPrefix||T)return"";let _=()=>{n.push(Be)},y=async()=>{me().clearCookie(s.origin),await me().removePermittedAllAccount(s.origin),await me().removeSilencePermission(s.origin),r(),await _o(i)};return h.default.createElement(yo,{offsetBottom:0},h.default.createElement("div",{className:H.main},h.default.createElement("div",{className:H.left},h.default.createElement("div",{className:H.imgWrapper},h.default.createElement(Xe,{width:44,height:44,alt:"dapp-icon",src:s.icon||ae,errorImg:ae,className:H.icon})),h.default.createElement("div",{className:H.status},h.default.createElement(o.Text,{strong:700,ellipsis:!0,className:H.origin},s.originNoPrefix),h.default.createElement(a.FlexBox,null,h.default.createElement(a.FlexBox,{align:a.ALIGN.center,onClick:_,className:H.connectManage},h.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,style:{color:"var(--okd-color-content-disabled)"},ellipsis:!0},p("extension_defi_bot_text_connected")),v,h.default.createElement(ut,{className:`okds-arrow-chevron-right-centered-sm ${H.arrowIcon}`}))))),h.default.createElement("div",{className:H.divider}),h.default.createElement(ce,{title:p("wallet_extension_footer_textbtn_disconnect"),placement:ce.DIRECTION.topLeft},h.default.createElement(k.IconButton,{icon:"okds-unlink",className:H.disconnectIcon,onClick:y}))))},In=yr;e();t();var Y=f(M());var Wo=f(ee());e();t();var Ne={balanceWrapper:"_balanceWrapper_1j1uf_1",refreshIcon:"_refreshIcon_1j1uf_9",balance:"_balance_1j1uf_1",refreshAnimation:"_refreshAnimation_1j1uf_26",refresh:"_refresh_1j1uf_9"};var Hn=({balance:r,className:n="",symbol:i,hiddenAssets:c,onToggleHiddenAssets:s})=>{let[l,g]=Y.default.useState("hidden"),m=(0,Wo.useSelector)($t),d=(0,Y.useMemo)(()=>i?`${r} ${i}`:Vt(r,{symbol:m,useApproximate:!1}),[i,r,m]),T=()=>{g("hidden")},C=(0,Y.useCallback)(()=>{l!=="loading"&&g("show")},[l]),v=(0,Y.useCallback)(()=>{l!=="loading"&&g("hidden")},[l]);return Y.default.createElement(a.FlexBox,{align:a.ALIGN.center,className:`${Ne.balanceWrapper} ${n}`,onClick:s,onMouseEnter:C,onMouseLeave:v},Y.default.createElement(o.AdaptiveText,{strong:!0,autoSize:!0,ellipsis:{tooltip:!0},text:d,onAnimationEnd:T,className:`${Ne.balance} ${l==="success"&&Ne.refreshAnimation}`},c?"*****":""),!c&&Y.default.createElement(Co,{className:Ne.refreshIcon,status:l,handleRefresh:g}))};e();t();var B=f(M());Z();e();t();var zo=f(M());var xr={"MNEMONIC WALLET":"seed_phrase","PRIVATE KEY WALLET":"private_key","MPC WALLET":"mpc","HARDWARE WALLET":"hardware"},Tr=r=>{let n=ue(),i=Le(n),c=xr[i?.keyringIdentityType];return(0,zo.useCallback)(l=>{r({...l,wallet_type:c})},[r,c])},ge=Tr;e();t();var He=f(M());var Ue=f(ee());Re();Qe();hr();e();t();gr();fr();var L={gasTracker:{title:"wallet_extension_home_text_gas_tracker",img:{light:"/cdn/assets/imgs/241/A80AEDB730957F83.png",dark:"/cdn/assets/imgs/245/BC8F036AFA9943CA.png"},monitor:"gas_tracker"},faucetCenter:{title:"wallet_extension_toolkit_tab_title_testnet_faucets",subtitle:"wallet_extension_toolkit_tab_desc_obtain_test_tokens",img:{light:"/cdn/assets/imgs/247/8A4A0E77D847F957.png",dark:"/cdn/assets/imgs/247/0E8D59E03D443348.png"},monitor:"faucet_center",tag:"wallet_extension_tag_expand_new"},batchTransfer:{title:"wallet_extension_home_title_crypto_multisender",subtitle:"wallet_extension_home_text_crypto_multisender",button:"batch_transfer",img:{light:"/cdn/assets/imgs/241/4F4A83D1A999297F.png",dark:"/cdn/assets/imgs/245/5F5376B72110257C.png"},monitor:"mutisender"},batchAddAccount:{title:"wallet_extension_home_title_add_multiple",subtitle:"wallet_extension_home_text_add_multiple",button:"batch_add_account",img:{light:"/cdn/assets/imgs/241/559B6DED0D42D247.png",dark:"/cdn/assets/imgs/245/A9C36C4334132F5E.png"},monitor:"add_account"},bulkRename:{title:"wallet_extension_account_tab_title_bulk_edit_name",subtitle:"wallet_extension_account_tab_subtitle_bulk_edit_name",button:"bulk_rename",img:{light:"/cdn/assets/imgs/247/D3E1142CAE248091.png",dark:"/cdn/assets/imgs/247/920B783D6E3F3393.png"},monitor:"bulk_rename"},downloadAddress:{title:"wallet_extension_home_title_download_addresses",subtitle:"wallet_extension_home_text_download_addresses",button:"download_address",hideFn:()=>Tt()===xt,img:{light:"/cdn/assets/imgs/241/3485F4D090FC934B.png",dark:"/cdn/assets/imgs/245/F63CA4BB0CA9A69B.png"},monitor:"download_address"},batchImportPrivateKey:{title:"wallet_extension_home_title_bulk_private",subtitle:"wallet_extension_home_text_bulk_private",button:"batch_import_private_key",img:{light:"/cdn/assets/imgs/241/0537CCEC20A2C6FD.png",dark:"/cdn/assets/imgs/245/0C18EB89C20D59EE.png"},monitor:"import_private"},runeSplit:{title:"wallet_extension_runes_header_title_split_merge",subtitle:"wallet_extension_runes_desc_split_merge",button:"batch_import_private_key",img:{light:"/cdn/assets/imgs/247/95736E81C61BDE7B.png",dark:"/cdn/assets/imgs/247/516588A192F5E988.png"},monitor:"Split_Runes"}};var wr=207,Ir=!(qe&&qe<=wr);function Nr({manual:r=!Ir}={}){let n=(0,Ue.useDispatch)(),[i,c]=(0,He.useState)(!1),s=(0,Ue.useSelector)(kt),l=(m,d)=>{let T=d.some(C=>!m.includes(C));c(T)};return(0,He.useEffect)(()=>{if(r)return;let m=s??[],d=Object.keys(L);l(m,d)},[s,r]),{onReadNewFeature:async()=>{if(i){let m=Object.keys(L);try{await me().setConvenientToolsKeys(m),c(!1)}finally{await uo(n)}}},hasNewFeature:i,checkNewFeature:l}}var Ge=Nr;e();t();var be=f(M()),nt=f(Ye());e();t();var rt={root:"_root_c5avj_1",dot:"_dot_c5avj_4"};e();t();function br(r){let{children:n,offset:i={},dot:c=!1,dotStyle:s={},className:l,dotClassName:g}=r,m=(0,be.useMemo)(()=>{if(Array.isArray(i)){let[C=0,v=0]=i;return{...s,top:C,right:v}}let{top:d=0,right:T=0}=i;return{...s,top:d,right:T}},[s,i]);return c?be.default.createElement(a.Box,{className:(0,nt.default)(rt.root,l)},be.default.createElement(a.Box,{className:(0,nt.default)(rt.dot,g),style:m}),n):n}var Ho=br;e();t();var j=f(M());e();t();var jo=f(Ie());Z();e();t();Z();e();t();var Cr=To(Ct),Uo=Cr;var kr=(r=[])=>r.filter(n=>[le.MNEMONIC,le.MPC].includes(n.keyringIdentityType)).every(n=>n.walletIdentities.some(i=>(i.backupData??[]).length>0));function Er(){let{canAddAccount:r,keyringIdentities:n}=Eo(),i=Uo(),c=Oe();return{openBatchAddAccount:()=>{if(!n.some(g=>[le.MNEMONIC,le.MPC].includes(g.keyringIdentityType))){pe.warn(p("wallet_extension_tools_alert_add_seedphrase_wallet"));return}if(kr(n)){c();return}if(i){pe.warn(p("wallet_extension_addaccount_text_feature_unavailable"));return}if(!r){pe.warn(p("wallet_extension_addaccount_text_max_accounts"));return}oe(oo)}}}var Go=Er;e();t();function Ar(){return{openBatchImportPrivateKey:()=>{oe(ro)}}}var Vo=Ar;e();t();Z();function vr(){let{hasBackUpWallet:r,batchTransferAvailable:n}=Ao(),i=Oe();return{openBatchTransfer:()=>{if(!r){i();return}if(!n){pe.warn(p("wallet_extension_sending_text_multisender_unsupported"));return}oe(to)}}}var Ko=vr;e();t();function Sr(){return{openBulkRename:()=>{oe(no)}}}var Zo=Sr;function Br(r){let n=(0,jo.useHistory)(),{openBatchTransfer:i}=Ko(),{downloadAddress:c}=vo(),{openBatchAddAccount:s}=Go(),{openBatchImportPrivateKey:l}=Vo(),{openBulkRename:g}=Zo(),{isRpcMode:m}=De(),d=xo(),T=Fe(),{hasNewFeature:C}=Ge();return L.batchAddAccount.func=s,L.batchTransfer.func=i,L.downloadAddress.func=c,L.batchImportPrivateKey.func=l,L.bulkRename.func=g,L.gasTracker.func=()=>{n.push(so)},L.runeSplit.func=()=>{globalThis.platform.openTab({url:`https://${d}/web3/toolkit/runes-split`})},L.gasTracker.hideFn=()=>m,L.gasTracker.customSubtitle=r(),L.faucetCenter.func=()=>{globalThis.platform.openTab({url:T.faucetCenter})},{subMenus:Object.entries(L).map(([y,I])=>({key:y,title:p(I.title)||I.title,subtitle:I.customSubtitle||p(I.subtitle),hideFn:I.hideFn,tag:I.tag,img:Rt(I.img),onClick:ko(bt,{tools:I.monitor})(I.func)})).filter(y=>y.hideFn?!y.hideFn():!0),hasNewFeature:C}}var $o=Br;Z();var Ro=f(dr());e();t();var re=f(M());Z();e();t();var he={wrapper:"_wrapper_1k679_1",img:"_img_1k679_7",title:"_title_1k679_12",right:"_right_1k679_16",tag:"_tag_1k679_19"};var Yo=({onClick:r,img:n,title:i,subtitle:c,tag:s})=>re.default.createElement(a.FlexBox,{className:he.wrapper,onClick:r,align:a.ALIGN.center},re.default.createElement(ke,{src:n,className:he.img}),re.default.createElement(a.FlexBox,{direction:a.DIRECTION.vertical,className:he.right},re.default.createElement(o.Text,{className:he.title,strong:700},i),re.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,ellipsis:{rows:2}},c)),s&&re.default.createElement(a.FlexBox,{className:he.tag,align:a.ALIGN.center},re.default.createElement(o.Text,{strong:700,size:o.SIZE.xs,style:{color:"var(--okx-wallet-color-black)"}},p(s))));e();t();var Xo={wrapper:"_wrapper_17e30_1"};var qo=()=>{let{isRpcMode:r}=De(),{chainName:n,coinId:i}=We(),c=wo(),s=fe(),l=c.find(y=>y.coinId===i)?.chainId,g=s.originNoPrefix?l:1,{supportChain:m}=Bo(),d=Mo(g,m),{gasData:T,gasDataFn:C}=So(d?.chainId);(0,j.useEffect)(()=>{!r&&!(0,Ro.isUndefined)(d?.chainId)&&C()},[C,r,d?.chainId]);let v=(0,j.useCallback)(()=>{if(!m.length)return"--";let{baseFee:y,priorityFee:I,feeUnit:D}=T,X=y?dt.add(y,I):"--",R=Kt(X,{type:Gt});return d?.chainId===1?$e("wallet_extension_home_text_eth_current_gas",{gwei:j.default.createElement(o.Text,{size:o.SIZE.xs},`${R} ${D}`)}):$e("wallet_extension_home_text_current_network_fee",{network:n,amount:j.default.createElement(o.Text,{size:o.SIZE.xs},`${R} ${D}`)})},[n,T,d?.chainId,m]),{subMenus:_}=$o(v);return j.default.createElement(j.default.Fragment,null,_.map((y,I)=>j.default.createElement("div",{className:Xo.wrapper,key:I},j.default.createElement(Yo,{...y}))))};e();t();e();t();var ne={main:"_main_1b5nv_1",iconWrapper:"_iconWrapper_1b5nv_9",iconItem:"_iconItem_1b5nv_12",dialogHeader:"_dialogHeader_1b5nv_19",headerIcon:"_headerIcon_1b5nv_25",toolkitWrapper:"_toolkitWrapper_1b5nv_29",iconAniWrapper:"_iconAniWrapper_1b5nv_51",text:"_text_1b5nv_66",moveOutAnimation:"_moveOutAnimation_1b5nv_69",moveOut:"_moveOut_1b5nv_69",moveInAnimation:"_moveInAnimation_1b5nv_73",moveIn:"_moveIn_1b5nv_73",iconTitle:"_iconTitle_1b5nv_85"};var Mr=46,Ea=({clickHandle:r,iconOptions:n,customMore:i})=>{let[c,s]=(0,B.useState)(!1),{onReadNewFeature:l}=Ge(),[g,m]=(0,B.useState)(""),d=(0,B.useRef)(),T=ge(de),C=_=>{_.type==="MORE"&&(T({homepage:"toolkit"}),s(!0),l()),r(_)};(0,B.useLayoutEffect)(()=>{let _=Mr;for(let y of d?.current?.children)_=Math.max(_,y.getBoundingClientRect().width||0);d.current?.children?.length>0&&m(Math.ceil(_))},[n]);let v=_=>{let y=_.type==="MORE";return y&&i?B.default.createElement("div",{onClick:()=>{C(_)}},i(g)):B.default.createElement(k.IconButtonWithLabel,{style:{width:g},className:ne.iconWrapper,iconClassName:`${ne.iconItem} ${y?ne.moveOutAnimation:""}`,strong:!1,disabled:_.disabled,space:13,ellipsis:!0,text:p(_.text),icon:_.icon,onClick:()=>{C(_)}})};return B.default.createElement("div",{className:ne.main,ref:d},n.map(_=>_.hasNewFeature?B.default.createElement(Ho,{dot:!0,offset:{right:2,top:2},className:ne.iconWrapper},v(_)):_.disabled&&_.disabledText?B.default.createElement(ce,{title:p(_.disabledText),placement:ce.DIRECTION.bottom},v(_)):v(_)),B.default.createElement(Ce,{footer:null,alignBottom:!0,maskClosable:!0,noContentPadding:!0,noMargin:!0,title:B.default.createElement(a.FlexBox,{align:a.ALIGN.center,justify:a.ALIGN.center},p("wallet_extension_home_text_toolkit")),topClassName:ne.dialogHeader,visible:c,onClose:()=>s(!1)},B.default.createElement("div",{className:ne.toolkitWrapper},B.default.createElement(qo,null))))};e();t();var x=f(M()),Ve=f(ee()),nr=f(Ie());var sr=f(Ut());Z();Qe();e();t();var ye=f(M());var Jo=f(Ie());e();t();var st={container:"_container_1eikt_1",arrowIcon:"_arrowIcon_1eikt_13"};var Qo=()=>{let r=Lo(),n=(0,Jo.useHistory)(),i=ge(de),c=(0,ye.useCallback)(()=>{i({homepage:"network"}),n.push(`${Qt}?tab=${r?.networkType}`)},[n,r]);if(!r)return null;let{chainName:s,icon:l}=r;return ye.default.createElement("div",{className:st.container,onClick:c},ye.default.createElement(k,{size:"18px",fontSize:"12px",src:l,text:s,textTheme:k.TEXT_THEME.black,defaultIcon:ae}),ye.default.createElement(k,{size:"18px",fontSize:"12px",className:`okx-wallet-plugin-select-unfold ${st.arrowIcon}`}))};e();t();var A=f(M()),tr=f(ee());var or=f(Ut());Z();_r();e();t();var F=f(M()),J=f(ur());Z();var it=f(Ye());e();t();var S={container:"_container_1uj01_1",contentContainer:"_contentContainer_1uj01_4",firstInMore:"_firstInMore_1uj01_15",expanded:"_expanded_1uj01_18",isGroup:"_isGroup_1uj01_22",left:"_left_1uj01_25",main:"_main_1uj01_33",name:"_name_1uj01_40",addr:"_addr_1uj01_44",right:"_right_1uj01_50",copyIcon:"_copyIcon_1uj01_50",moreOrLessContainer:"_moreOrLessContainer_1uj01_53",text:"_text_1uj01_57",accordion:"_accordion_1uj01_66",accordionContent:"_accordionContent_1uj01_70",accordionHeader:"_accordionHeader_1uj01_73"};var at=({image:r,chainName:n,addressType:i,address:c,isGroup:s,expanded:l,lastInMore:g,onToggle:m})=>{let d=()=>l?p("extension_defi_popup_textbtn_show_less"):p("extension_defi_popup_textbtn_show_all_address_types");return F.default.createElement("div",{className:(0,it.default)(S.container,l?S.expanded:"")},F.default.createElement("div",{className:(0,it.default)(S.contentContainer,l?S.expanded:"",s?S.isGroup:"",s&&!l?S.firstInMore:"")},F.default.createElement("div",{className:S.left},F.default.createElement(k,{src:r,size:Ht.lg,className:"new-home__address-copy-chain-item-left",defaultIcon:zt})),F.default.createElement("div",{className:S.main},F.default.createElement(o.Text,{ellipsis:!0,className:S.name,size:o.SIZE.md},n),i&&F.default.createElement(ie,{className:"address-copy-badge",type:ie.TYPE.rounded},p(Zt[i])),F.default.createElement("div",{className:S.addr},c)),F.default.createElement("div",{className:S.right},F.default.createElement(k,{icon:"okx-wallet-plugin-copy-1",className:S.copyIcon}))),s&&!l||g?F.default.createElement("div",{className:S.moreOrLessContainer},F.default.createElement("div",{onClick:T=>{T.stopPropagation()}},F.default.createElement(_t,{expanded:l,className:S.accordion,contentClassName:S.accordionContent,headerClassName:S.accordionHeader,onToggle:m,title:F.default.createElement("div",{className:S.text},d())}))):null)};at.propTypes={image:J.default.string,chainName:J.default.string,addressType:J.default.string,address:J.default.string,expanded:J.default.bool,isGroup:J.default.bool,lastInMore:J.default.bool,onToggle:J.default.func};at.defaultProps={image:"",chainName:"",addressType:"",address:"",expanded:!1,isGroup:!1,lastInMore:!1,onToggle:()=>{}};var er=at;e();t();var xe={addressIcon:"_addressIcon_yti0a_1",close:"_close_yti0a_7",underlineWrapper:"_underlineWrapper_yti0a_10",tag:"_tag_yti0a_13"};var Lr=(r,n,i,c)=>{if(!r)return[];let s={},l=[...r].sort((m,d)=>{let T=m?.chainName?.charAt(0).toUpperCase(),C=d?.chainName?.charAt(0).toUpperCase();return T?.localeCompare(C)});if(r.length<=4||i)return l;for(let m=0;m<l.length;m++){let d=l[m]?.chainName?.charAt(0).toUpperCase();d&&!s[d]&&(l.splice(m,0,{isTag:!0,tagName:d}),m!==0&&l.splice(m,0,{isTag:!0,tagName:"",isUnderLine:!0}),s[d]=!0,m++)}let g=n.length?[{isTag:!0,tagName:p("extension_wallet_switchnetwork_subtitle_popular_networks")},...n.map(m=>m.address===c.address?{...m,showMore:c.showMore}:m),{isTag:!0,tagName:"",isUnderLine:!0},...l]:l;return i?[[],""]:g},Fr=({addresses:r,hotAddresses:n,CopyButton:i,visible:c,setVisible:s})=>{let[l,g]=(0,A.useState)({address:"",showMore:!1}),m=(0,tr.useSelector)(te),{run:d}=Se(()=>{m&&$.warn({title:p("wallet_account_toast_backup_view_address"),duration:1.5,containerClassName:"address-copy-notification",placement:$.DIRECTION.top})},{leading:!0,wait:300}),{isSm:T}=ft(),[C,v]=(0,A.useState)(!1),_=(0,A.useRef)(null),y=({value:E},P)=>{if(E==="disable")return!1;let z=P.toLowerCase()||"",W=E?.chainName.toLowerCase()||"",N=E?.symbol.toLowerCase()||"";return W.indexOf(z)>-1||N.indexOf(z)>-1},I=Lr(r,n,C,l),X=(E=>{let P=[],z=(W,N,{lastInMore:V=!1}={})=>{P.push({value:{address:N.address,chainName:N.chainName,symbol:N.symbol,addressType:N.addressType},label:A.default.createElement(er,{image:N.image,chainName:N.chainName,address:N.address,addressType:N.addressType,expanded:W.showMore,isGroup:N.moreAddress&&N.moreAddress.length>0,lastInMore:V,onToggle:se=>{g({address:W.address,showMore:se})}})})};return E.forEach(W=>{let{isTag:N,tagName:V,isUnderLine:se,moreAddress:Q,showMore:Ke}=W;if(se){P.push({value:"disable",label:A.default.createElement("div",{className:xe.underlineWrapper},A.default.createElement("div",{className:"new-home__address-copy-underline"}))});return}if(N){P.push({value:"disable",label:A.default.createElement("div",{className:xe.underlineWrapper},A.default.createElement(o.Text,{size:o.SIZE.sm,type:o.TYPE.secondary,className:xe.tag},V)),className:"title-tag"});return}z(W,W),Ke&&Q.map((Ze,je)=>z(W,Ze,{lastInMore:je===Q.length-1}))}),P})(I),R=E=>{if((0,or.default)(E.value.address),E.value==="disable")return;let P=E.value.addressType,z=P?No(p,jt[yt][P],E.value.symbol):p("wallet_extension_transaction_toast_network_address_copied",{network:E.value.chainName});$.success({title:z,desc:E.value.address,duration:1.5,placement:$.DIRECTION.top,containerClassName:"address-copy-notification"})};return(0,A.useEffect)(()=>{_.current?.setVisible(c)},[c]),A.default.createElement("div",{className:"new-home__address-copy",onClick:d,"data-testid":"address"},A.default.createElement(we,{ref:_,disabled:m,onSearch:E=>{v(!!E)},options:X,onChange:R,dialogMode:!0,dropMode:!1,dialogProps:{titleCenter:!0,isFull:!T,noContentPadding:!0,noTopRadius:!1,windowStyle:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},closeClassName:xe.close},optionTitle:p("extension_wallet_address_title_wallet_address"),searchable:X.length>10,searchFilter:y,scrollStyle:{maxHeight:"398px",height:"auto"},searchEmpty:A.default.createElement("div",{className:"search-empty"},p("wallet_toast_address_input_noresults")),searchPlaceholder:p("wallet_toast_address_input_search"),displayArea:i,popupProps:{zIndex:10001,offset:[-150,0]},optionContClassName:"new-home__address-copy-drop-container",optionItemClassName:"new-home__address-copy-drop-option",onToggleShow:E=>{s(E)}}))},Or=({visible:r,addresses:n,hotAddresses:i,setVisible:c})=>A.default.createElement(A.default.Fragment,null,A.default.createElement(k.IconButton,{size:k.SIZE.md,icon:"okx-wallet-plugin-copy-3",className:xe.addressIcon}),A.default.createElement(Fr,{visible:r,setVisible:c,CopyButton:()=>A.default.createElement("div",null),addresses:n,hotAddresses:i})),rr=Or;e();t();var U={main:"_main_1czhn_1",avatar:"_avatar_1czhn_10",topTitle:"_topTitle_1czhn_19",content:"_content_1czhn_22",address:"_address_1czhn_28",copyWrapper:"_copyWrapper_1czhn_31",title:"_title_1czhn_36",maxWitdh:"_maxWitdh_1czhn_40",divider:"_divider_1czhn_43",locking:"_locking_1czhn_47",optionIcon:"_optionIcon_1czhn_52",network:"_network_1czhn_56",setting:"_setting_1czhn_63",chainIcon:"_chainIcon_1czhn_70",unfoldIcon:"_unfoldIcon_1czhn_75"};var nc=x.default.memo(({titleLeft:r,titleRight:n,subTitle:i,address:c,chainName:s,filterAddress:l,filterHotAddress:g,isNotBackupWallet:m,isFactionPKAccount:d})=>{let T=ue(),[C,v]=x.default.useState(!1),_=Fe(),y=(0,Ve.useDispatch)(),I=Le(T),{sidepanelAvailable:D,sidepanelMode:X}=(0,Ve.useSelector)(Yt),[R,E]=x.default.useState([{type:"url",to:Jt,label:p("wallet_extension_top_hover_settings"),icon:"okx-wallet-plugin-settings-2",monitor:"setting"},{type:"url",to:Be,label:p("wallet_extension_home_title_dapps_connection"),icon:"okds-language",monitor:"connect_dapp"},{name:"link-to-web3",type:"url",href:`${_.web3}`,label:p("extension_wallet_home_dropdown_expanded_view"),icon:"okx-wallet-plugin-official-website",monitor:"go_to_dashboard"},{type:"sidepanel",hide:!D,label:X?p("wallet_extension_home_title_popup_mode"):p("wallet_extension_home_title_sidebar_mode"),icon:"okx-wallet-plugin-home-swap"},{type:"lock",label:p("wallet_settings_btn_lock_wallet"),icon:"okx-wallet-plugin-lock-1",monitor:"lock_wallet"}]),P=R.filter(w=>!w.hide),z=d?p("wallet_extension_popup_title_receiving_address_copied"):p("wallet_extension_transaction_toast_network_address_copied",{network:s});x.default.useEffect(()=>{E(w=>{let K=w.findIndex(Te=>Te.name==="link-to-web3");if(K!==-1){let Te=[...w];return Te[K]={...Te[K],href:`${_.web3}`},Te}return w})},[_.web3]);let W=async()=>{E(w=>w.map(K=>K.type==="lock"?{...K,type:"locking"}:K)),wt(),await y(mo()),E(w=>w.map(K=>K.type==="locking"?{...K,type:"lock"}:K))},N=async()=>{try{X?(await globalThis.platform.setPanelBehavior(!1),await y(Me(!1)),window.close()):(Nt(),await globalThis.platform.setPanelBehavior(!0),await y(Me(!0)),await globalThis.platform.openSidepanel(),window.close())}catch{await globalThis.platform.setPanelBehavior(!1),await y(Me(!1))}},V=(0,nr.useHistory)(),se=`${eo}?fromHome=1`,Q=ge(de),Ke=async w=>{if(w.monitor&&Q({homepage:w.monitor}),w.type==="lock"&&W(),w.type!=="locking")return w.type==="sidepanel"&&N(),w?.to&&V.push(w.to),w?.href&&globalThis.open(w.href),!0},{run:Ze}=Se(()=>{if(m){$.warn({title:p("wallet_account_toast_backup_view_address"),duration:1.5,containerClassName:"address-copy-notification",placement:$.DIRECTION.top});return}c?($.success({title:z,desc:c,duration:1.5,placement:$.DIRECTION.top,containerClassName:"address-copy-notification"}),(0,sr.default)(c)):l.length>0&&v(!0)},{leading:!0,wait:300}),je=()=>{Q({homepage:"manage_wallet"})},mt=()=>{je(),V.push(se)};return x.default.createElement(a.FlexBox,{align:a.ALIGN.center,className:U.main},x.default.createElement(a.Box,{onClick:mt,className:U.avatar},x.default.createElement(tt,{size:tt?.SIZE.sm,walletIdentity:I})),x.default.createElement(a.FlexBox,{className:U.content,gutter:6,align:a.ALIGN.center},x.default.createElement(a.FlexBox,{direction:a.DIRECTION.vertical,className:U.copyWrapper,onClick:mt},x.default.createElement(a.FlexBox,{align:a.ALIGN.center,gutter:6,className:U.title},x.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,ellipsis:!0,className:n?U.maxWitdh:""},r,"\xA0"),n&&x.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,ellipsis:!0,className:U.maxWitdh},`- ${n}`)),x.default.createElement(a.FlexBox,{align:a.ALIGN.center,className:U.address},x.default.createElement(o.Text,{strong:500,ellipsis:!0,size:o.SIZE.sm},i),x.default.createElement(k,{size:"16px",fontSize:"16px",className:"okx-wallet-plugin-down-1"})))),x.default.createElement(a.FlexBox,{align:a.ALIGN.center},x.default.createElement(a.FlexBox,{onClick:w=>{w.stopPropagation(),Q({homepage:"copy_address"}),Ze()}},x.default.createElement(rr,{visible:C,setVisible:v,addresses:l,hotAddresses:g})),x.default.createElement(we,{displayArea:()=>x.default.createElement(k.IconButton,{size:k.SIZE.md,icon:"okx-wallet-plugin-settings-2",className:U.setting}),renderOption:({option:w})=>w?.type==="locking"?x.default.createElement(a.FlexBox,{align:a.ALIGN.center},x.default.createElement(gt,{className:U.locking,loaderStyle:{height:16,width:16}}),x.default.createElement(o.Text,{size:o.SIZE.sm,strong:500},w.label)):x.default.createElement(a.FlexBox,{align:a.ALIGN.center},x.default.createElement(k,{size:k.SIZE.xs,icon:w.icon,className:U.optionIcon}),x.default.createElement(o.Text,{size:o.SIZE.sm,strong:500},w.label)),hoverMode:!0,options:P,onChange:Ke,align:we.DIRECTION.right}),x.default.createElement(a.FlexBox,{align:a.ALIGN.center},x.default.createElement(Qo,null))))});e();t();var b=f(M()),G=f(ee()),cr=f(Ie()),pr=f(Ye());Z();Re();e();t();var O={main:"_main_bin2h_1",header:"_header_bin2h_5",logo:"_logo_bin2h_5",dappName:"_dappName_bin2h_11",currentAccount:"_currentAccount_bin2h_15",title:"_title_bin2h_18",connectItem:"_connectItem_bin2h_21",connectItemTitle:"_connectItemTitle_bin2h_27",badge:"_badge_bin2h_30",disabled:"_disabled_bin2h_33","disable-message":"_disable-message_bin2h_42",disableMessage:"_disable-message_bin2h_42"};e();t();var ar=f(M());e();t();var ir=[Ee,Lt,vt,Et,At,Bt,Ft,Ot,Dt,Pt,Je["ethereum-provider"],Je["okx6963-provider"],Wt,Mt];var lr=r=>{let n=_e({dappUrl:r});return{allowChangeAccount:(0,ar.useMemo)(()=>ir.includes(n?.provider),[n])}};var lt=null,Dr=({showBackup:r})=>{let n=(0,G.useDispatch)(),[i,c]=(0,b.useState)(!1),s=(0,G.useSelector)(po),l=(0,G.useSelector)(ve),g=(0,cr.useHistory)(),m=(0,G.useSelector)(io),d=(0,G.useSelector)(ao),T=(0,G.useSelector)(co),C=(0,G.useSelector)(Xt),v=fo(d.origin,C),_=(0,G.useSelector)(lo),y=(0,G.useSelector)(Ae),I=(0,G.useSelector)(te),{connectable:D,chainName:X}=Pe({dappUrl:d.origin,walletId:y}),R=Fo(y),{allowChangeAccount:E}=lr(d.origin);if((0,b.useEffect)(()=>{if(!lt||lt!==s){if(lt=s,!d||!_||!R)return;if(I){r();return}c(!m.find(N=>N.host===d?.host))}},[d,_,m,s,I,R,r]),!i||!E||!D)return null;let P=()=>{n(ho(d?.origin,y)),c(!1)},z=({title:N,right:V,active:se=!1,disabled:Q})=>b.default.createElement(a.FlexBox,{justify:"space-between",className:(0,pr.default)({[O.connectItem]:!0,[O.disabled]:Q}),align:a.ALIGN.center},b.default.createElement(a.FlexBox,{justify:"center",align:a.ALIGN.center},b.default.createElement(o.Text,{strong:700,ellipsis:{tooltip:!0,rows:2},size:o.SIZE.md,className:O.connectItemTitle},N),se&&b.default.createElement(ie,{color:ie.COLOR.green,type:ie.TYPE.rounded,className:O.badge},p("wallet_extension_mid_tag_active"))),V),W=N=>{n(go(N)),ht().getChainFromServer(),g.push(qt)};return b.default.createElement(Ce.Action,{onClose:()=>{c(!1)},visible:!0,noTopRadius:!1,topStyle:{border:"none"},windowStyle:{overflow:"hidden",background:"var(--okd-color-container-primary)",height:"540px"},title:b.default.createElement(b.default.Fragment,null)},b.default.createElement("div",{className:O.main},b.default.createElement(a.FlexBox,{align:a.ALIGN.center,className:O.header,direction:a.DIRECTION.vertical},b.default.createElement(ke,{alt:"dapp-logo",className:O.logo,src:d.icon}),b.default.createElement(o.Text,{strong:700,size:o.SIZE.md,className:O.dappName},p("wallet_extension_top_title_current_unconnected",{dapp:d?.name||""}))),b.default.createElement("div",{className:O.currentAccount},b.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,className:O.title},p("wallet_extension_header_subtitle_current_account")),z({title:s,disabled:!D,right:b.default.createElement(q,{category:q.CATEGORY.fill,type:q.TYPE.highlight,size:q.SIZE.xs,onClick:P,disabled:!D},p("wallet_extension_mid_btn_connect"))}),!D&&b.default.createElement(a.Space,{align:a.ALIGN.center,space:8,className:O["disable-message"]},b.default.createElement(k,{size:k.SIZE.sm,icon:"okds-fail-circle-fill"}),b.default.createElement(o.Text,{size:o.SIZE.sm,className:O["disable-message"]},p("wallet_connect_alert_text_account_doesnt_support",{network:X})))),T.length>0&&b.default.createElement("div",{className:O.connectedAccount},b.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,className:O.title},p("wallet_extension_header_subtitle_connected_account2",{wallet_extension_header_subtitle_connected_account2:T.length,num:T.length})),T.map(N=>{let V=l[N]||{};return z({title:`${V.keyringName} - ${V.walletName}`,active:v===N,right:b.default.createElement(q,{category:q.CATEGORY.outline,type:q.TYPE.primary,size:q.SIZE.xs,onClick:()=>W(N)},p("wallet_extension_mid_btn_switch"))})}))))},zc=Dr;e();t();var pt=f(M());var mr=f(ee()),ct=64,Zc=({isButtonAbsolute:r=!1,backupHeight:n=0})=>{let i=(0,mr.useSelector)(te),s=fe().originNoPrefix&&!i,l=(0,pt.useMemo)(()=>r?n+80+(s?ct:0):16,[r,s,n]),g=(0,pt.useMemo)(()=>r?0:n+24+(s?ct:0),[r,s,n]);return{paddingBottom:l,buttonPaddingBottom:g,absoluteBottom:n+24+(s?ct:0)}};export{zr as a,In as b,Hn as c,ge as d,Ge as e,Ea as f,Zc as g,nc as h,zc as i};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-I4FHXJRY.js.map
