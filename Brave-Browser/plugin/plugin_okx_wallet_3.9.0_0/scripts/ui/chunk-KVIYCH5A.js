import{b as x}from"./chunk-U43G73LH.js";import{b as f}from"./chunk-I27PVEIN.js";import{d as T}from"./chunk-LPTRVNVL.js";import{B as O,C as w,D as M,Pa as S}from"./chunk-ZPOCIBPN.js";import{d as y,f as K}from"./chunk-2G2AXMFT.js";import{m as V}from"./chunk-M54COW6Q.js";import{f as H,m as o,o as n}from"./chunk-ICCOEXX5.js";o();n();K();var p=H(M());o();n();var A=H(V());o();n();var E="nft_list_filters";o();n();var h={hideNoValue:"hideNoValue",hideManualHidden:"hideManualHidden",hideUnverifiedCollection:"hideUnverifiedCollection"},l={[h.hideNoValue]:!0,[h.hideManualHidden]:!0,[h.hideUnverifiedCollection]:!1};o();n();var C={SHOW:0,MANUAL:1,AUTO:2};function v(t){if(!t)return l;try{let e=localStorage.getItem(E);if(!e)return l;let r=JSON.parse(e);return r?r[t]??l:l}catch{return l}}var z=t=>({projectCertificated:t.hideUnverifiedCollection,hiddenStatus:[t.hideManualHidden?void 0:C.MANUAL,t.hideNoValue?void 0:C.AUTO].filter(Boolean).join(",")}),_=t=>{let e=v(t);return z(e)},et=(t,e)=>{let r=v(t);return e?r[e]!==l[e]:!(0,A.isEqual)(r,l)};var D={list:[],total:0,pageNo:1,pageSize:x},R={nftFilterChain:[],nftListCatch:[],computedNftCurrency:!1,testNftCurrency:100,nftFilterInfo:{collectionFilter:[],saleStatusFilter:[]},firstSet:!1,nftFilterStatus:!1,nftCollectionLoadingStatus:!1,activeId:1,nftListData:{},listLoading:!0,listLoadingError:!1,hasHiddenNft:!1},c=O({name:"Nft",initialState:R,reducers:{setHasHiddenNft(t,{payload:e}){t.hasHiddenNft=e},setNftFilterChian(t,{payload:e}){t.nftFilterChain=e.list},setNftListCatch(t,{payload:{list:e}}){t.nftListCatch=e},setComputedNftCurrency(t,{payload:{computedNftCurrency:e}}){t.computedNftCurrency=e},setNftFilterInfo(t,{payload:e}){t.nftFilterInfo=e},setFirstSet(t,{payload:e}){t.firstSet=e},setActiveId(t,{payload:{id:e}}){t.activeId=e},setNftListData(t,{payload:{nftListData:e,walletId:r}}){t.nftListData[r]=e},setNftListLoading(t,{payload:e}){t.listLoading=e},setNftListLoadingError(t,{payload:e}){t.listLoadingError=e},setNftFilterStatus(t,{payload:{nftFilterStatus:e}}){t.nftFilterStatus=e},setNftCollectionLoadingStatus(t,{payload:{nftCollectionLoadingStatus:e}}){t.nftCollectionLoadingStatus=e},updateNftData(t,{payload:{newData:e={},walletId:r,id:i}}){t.nftListData?.[r]||(t.nftListData[r]={list:[],total:0});let a=t.nftListData[r],d=a.list.findIndex(N=>N.id===i);d!==-1?a.list[d]={id:i,...a.list[d]??{},...e}:(a.list.push({id:i,...e}),a.total+=1)},removeNftData:(t,{payload:{walletId:e,id:r}})=>{if(t.nftListData[e]){let i=t.nftListData[e],a=i.list.findIndex(d=>d.id===r);a!==-1&&(i.list.splice(a,1),i.total-=1)}}}}),ut=t=>t[c.name].hasHiddenNft;var I=(0,p.createSelector)(t=>t[c.name].nftListData,t=>S(t),(t,e)=>t[e]??D),pt=(0,p.createSelector)(t=>t[c.name].listLoading,I,(t,e)=>e===D?!0:t),Nt=(0,p.createSelector)(t=>t[c.name].listLoadingError,I,(t,e)=>e===D?!1:t),mt=t=>t[c.name].nftFilterInfo;var gt=t=>t[c.name].activeId;var Lt=c.reducer,{actions:s}=c,b=t=>({...t,lastPrice:f(t.lastPrice),bestOfferPrice:f(t.bestOffer),salePrice:f(t.sale),floorPrice:f(t.floorPriceDetail)}),Ft=s.setHasHiddenNft,yt=s.updateNftData,St=s.removeNftData,xt=s.setNftFilterInfo,ht=s.setNftListData;function Ct(t){return async(e,r)=>{let i=r(),a=S(i),{list:d}=I(i),N=_(a),{currentNetworkUniqueId:j=""}=T(i),P={projects:"",chainIds:j,pageNo:1,pageSize:x,saleStatus:"",...N},m=Object.assign(P,t);e(s.setNftListLoading(!0));let g=await y().fetchNftList(Object.assign(P,t)),U=d.map(F=>b(F)),L=[];m.pageNo>1&&L.push(...U),g.error?e(s.setNftListLoadingError(!0)):(e(s.setNftListLoadingError(!1)),L.push(...g.list.map(F=>b(F)))),e(s.setNftListData({nftListData:{list:L,total:g.total,pageNo:m.pageNo,pageSize:m.pageSize},walletId:a})),e(s.setNftListLoading(!1))}}function Dt(t){return t.metamask.preferences.showNftAmount}async function It(t){let e=await y().fetchNftDetail(t);return e?(e.lastPrice&&(e.lastPrice=f(e?.lastPrice)),e.salePrice&&(e.salePrice=f(e?.salePrice)),e.bestOfferPrice&&(e.bestOfferPrice=f(e?.bestOfferPrice)),e.floorPriceDetail&&(e.floorPriceDetail=f(e?.floorPriceDetail)),e):{}}export{E as a,h as b,l as c,C as d,v as e,z as f,et as g,ut as h,I as i,pt as j,Nt as k,mt as l,gt as m,Lt as n,s as o,Ft as p,yt as q,St as r,xt as s,ht as t,Ct as u,Dt as v,It as w};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-KVIYCH5A.js.map
