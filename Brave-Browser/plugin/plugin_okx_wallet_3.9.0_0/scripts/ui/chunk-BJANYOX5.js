import{a as R,b as P,d as ce,f as me,k as pe,l as le,m as fe,q as Te}from"./chunk-UYALNF4Q.js";import{a as ue}from"./chunk-BOWCSZLW.js";import{a as re,b as se,c as nt,d as ie}from"./chunk-TFCBP6UV.js";import{a as E}from"./chunk-U3CLRNWK.js";import{a as Qt}from"./chunk-7ODXCTBK.js";import{b as ne}from"./chunk-C54I6GL3.js";import{e as ot,f as ee,h as oe}from"./chunk-6GFVKSAR.js";import{b as et}from"./chunk-RC3QMLDN.js";import{b as Bt,d as Zt}from"./chunk-6YBNTFOQ.js";import{a as jt}from"./chunk-OMKW26U3.js";import{a as de}from"./chunk-3P5YDD2R.js";import{b as ae}from"./chunk-PRHPRTXY.js";import{a as zt,b as Tt}from"./chunk-IZ5XPPXG.js";import{d as $t}from"./chunk-6PN4BR3D.js";import{a as Wt,g as Vt}from"./chunk-64STH2HN.js";import{d as Xt,f as k,j as te}from"./chunk-4RHFH7IF.js";import{b as lt}from"./chunk-LPTRVNVL.js";import{a as gt,i as Jt}from"./chunk-SR2BDP3A.js";import{a as F,d as ut,e as Mt,j as qt,q as Yt}from"./chunk-5JJQQHKZ.js";import{R as Kt}from"./chunk-URG4MCPH.js";import{$a as bt,Ga as J,Ja as Ft,Ma as kt,Xa as Gt,eb as Ut,fb as Ht,y as D}from"./chunk-ZPOCIBPN.js";import{A as Dt,m as W}from"./chunk-CA5MYYD6.js";import{a as Ve}from"./chunk-IOCZ22XI.js";import{j as ft,k as j,o as dt}from"./chunk-EJY3MW2I.js";import{d as O,f as X}from"./chunk-2G2AXMFT.js";import{a as V,b as L}from"./chunk-4JZ3HIS7.js";import{c as We}from"./chunk-I4WIGQLD.js";import{a as tt}from"./chunk-FQ4XEVKF.js";import{Gb as Lt,Kb as Ke,Ta as It,Xa as U,a as ht,b as Ye,db as Ot,hb as wt,la as Ct,m as xt,nb as St,o as Rt,p as vt,pb as pt}from"./chunk-M54COW6Q.js";import{G as b}from"./chunk-RIJWHGTU.js";import{I as Nt,v as S}from"./chunk-K4MPEKC5.js";import{a as K}from"./chunk-CXUPEGDW.js";import{f as N,m as d,o as T}from"./chunk-ICCOEXX5.js";d();T();var B=N(D());function To(){let t=(0,B.useSelector)(Vt),e=t&&t.metadata?t.metadata.id:null,n=e?1:0,o=(0,B.useSelector)(kt),a=o.length,s=(0,B.useSelector)(Ft),r=(0,B.useSelector)(Ht),i=r.length,c=(0,B.useSelector)(Ut),m=c.length;return{unapprovedTxList:o,unapprovedTxCount:a,unapprovedSmCount:s,unapprovedStList:r,unapprovedStCount:i,unapprovedPermissionCount:n,unapprovedPermissionsRequestId:e,unapprovedSnList:c,unapprovedSnCount:m,unapprovedRequestCount:a+s+i+m+n}}d();T();d();T();var _=N(K());Nt();var at=N(D()),ke=N(Ve());d();T();var ge=N(D());var Z=N(K());function Be(t){let e=t.map(o=>{let{nonce:a}=o.txParams;return parseInt(a,16)}),n=Math.max.apply(null,e);return Number.isInteger(n)?n+1:0}function _e(t){let e=ot(),n=et(),o=t||n,a=(0,ge.useSelector)(Xt),s=ut(ce()),r=ut(me()),[i,c]=(0,Z.useState)(!1),[m,p]=(0,Z.useState)(null),[u,f]=(0,Z.useState)(null),g=F(async()=>{let A;try{c(!0),A=await(await e()).eth.getTransactionCount(o,"latest")}finally{c(!1)}let C=Be(s.current),h=Math.max(A,C),w=r.current.map(I=>{let{nonce:x}=I.txParams;return ae(x)}),l=h;for(;w.includes(l);)l+=1;return p(A),f(l),{nonce:A,suggestedNonce:l}});return(0,Z.useEffect)(()=>{g()},[e,o,a]),{loadingNonce:i,nonce:m,suggestedNonce:u,request:g}}pt();d();T();var Q=N(D()),M=N(xt());X();var H=N(We());Ct();Ye();Ke();d();T();var Pe=N(K());Nt();var Ze=()=>{let t=pe();return e=>{if(e){let{type:n,status:o,txHash:a,extraParams:s}=e,r={[P.TRANS_OUT]:{key:"wallet_transfer_notif_send_success",params:{first:s?.value,second:s?.coinSymbol}},[P.CONTRACT_CALL]:{key:"wallet_transfer_notif_contract_interaction_success"},[P.AUTHORIZATION]:{key:"wallet_transfer_notif_approval_success",params:{first:s?.coinSymbol}},[P.CANCEL_AUTHORIZATION]:{key:"wallet_transfer_notif_cancel_approval_success",params:{first:s?.coinSymbol}},[P.CONTRACT_DEPLOY]:{key:"developer_mode_dapp_toast_deployed_successfully"}},i={[P.TRANS_OUT]:{key:"wallet_transfer_notif_send_fail",params:{first:s?.value,second:s?.coinSymbol}},[P.CONTRACT_CALL]:{key:"wallet_transfer_notif_contract_interaction_fail"},[P.AUTHORIZATION]:{key:"wallet_transfer_notif_approval_fail",params:{first:s?.coinSymbol}},[P.CANCEL_AUTHORIZATION]:{key:"wallet_transfer_notif_cancel_approval_fail",params:{first:s?.coinSymbol}},[P.CONTRACT_DEPLOY]:{key:"developer_mode_dapp_toast_deployfailed"}},c,m,p,u,f;o===R.PENDING?(c=b.TYPE.success,n===P.CANCEL_AUTHORIZATION?(m="wallet_transfer_notif_cancel_approval_submit",p={first:s?.coinSymbol}):m="wallet_transfer_notif_transaction_submit"):(o===R.SUCCEED?(c=b.TYPE.success,m=r[n]?.key,p=r[n]?.params):(c=b.TYPE.error,m=i[n]?.key,p=i[n]?.params),o!==R.DROPPED&&(u=t(a),f="wallet_transfer_notif_view_on_explorer")),b[c]({title:S(m,p)||m,desc:u?Pe.default.createElement(jt,{url:u,urlText:S(f)}):null,duration:3})}}},Ae=Ze;d();T();X();var Ee=async t=>await O().rpcEvmAddTransaction(t),_t=async t=>await O().rpcEvmUpdateTransaction(t),ye=async t=>await O().rpcEvmConfirmTransaction(t),he=async t=>await O().rpcEvmFindTransaction(t),Ne=async t=>await O().rpcEvmPublishTransaction(t);function $e(t){let e={to:t.to,value:(0,H.addHexPrefix)(L(t.value)),gasLimit:(0,H.addHexPrefix)(L(t.gasLimit)),nonce:(0,H.addHexPrefix)(L(t.nonce))};return t.type===W.FEE_MARKET?(e.maxFeePerGas=(0,H.addHexPrefix)(L(t.maxFeePerGas)),e.maxPriorityFeePerGas=(0,H.addHexPrefix)(L(t.maxPriorityFeePerGas)),e.type=t.type):(e.gasPrice=(0,H.addHexPrefix)(L(t.gasPrice)),t.type=W.LEGACY),t.data&&(e.data=t.data),e}function Pt(){let t=(0,Q.useSelector)(k),e=et();return F(n=>{let{type:o,txParams:a,extraParams:s}=n,r=o;return r||(a.to?r=P.CONTRACT_CALL:r=P.CONTRACT_DEPLOY),{id:Lt(),type:r,txParams:{...$e(a),from:a.from||e,chainId:t.chainId},status:R.UNAPPROVED,createTime:+new Date,txPool:[],isCanceling:!1,isSpeeding:!1,extraParams:s||{}}})}function At(){let t=Ae(),e=(0,Q.useSelector)(bt),n=gt();return F(async(o,{walletId:a=n,signedCallback:s=M.noop}={})=>{if(!o)throw new Error("tx meta error");let r;if(o.txParams.result)r=o.txParams.result;else{let{from:c}=o.txParams;r=await O().signRpcEvmTransaction(o.txParams,c,e,a)}let i=await Qt(Rt,r);return await s({rawTx:r,txHash:i,status:R.PENDING}),new Promise((c,m)=>{Ne({txId:o.id,rawTx:r}).then(({error:p,data:u,tx:f})=>{if(p){(f?.status===R.PENDING||f?.status===R.DROPPED)&&t(f),m(p);let{type:g,txParams:A,extraParams:C}=o,{from:h,to:w,value:l,gasLimit:I,gasPrice:x,nonce:y,chainId:z}=A||{},{approvedAmount:Y,coinSymbol:rt,tokenAddress:st,approvedAddress:it,value:ct,toAddress:mt}=C||{};ht.captureEvent({tags:{address:h},message:"API_ERROR_evm_rpc_send_tx",contexts:{report:{info:JSON.stringify({type:g,txParams:{from:h,to:w,value:l,gasLimit:I,gasPrice:x,nonce:y,chainId:z},extraParams:(0,M.omitBy)({approvedAmount:Y,coinSymbol:rt,tokenAddress:st,approvedAddress:it,value:ct,toAddress:mt},M.isNil)})}},exception:{values:[{type:"API_ERROR_evm_rpc_send_tx",value:p?.message}]},level:"info"})}else t(f),c({id:o.id,txHash:u.result})}).catch(async p=>{await ye({txId:o.id,tx:{status:R.DROPPED,finishTime:+new Date,errorMessage:p?.message},checkPoolEmpty:!0}),m(p)})})})}var Et=()=>{let t=(0,Q.useDispatch)(),e=gt();return async(n,o=e)=>{await t($t({walletId:o,txParams:n.txParams,isRpcMode:!0}));let{id:a}=n,s=await he(a);if(s&&(s.status===R.SUCCEED||s.status===R.DROPPED||s.status===R.DROPPED))throw Error(tt)}};function xe(){let t=Pt(),e=At(),n=Et();return F(async(o,a)=>{if(!await ne({walletId:a}))return M.noop;let r=t(o);return await n(r,a),e(r,{walletId:a,signedCallback:i=>Ee({...r,...i})})})}function rn(){let t=Pt(),e=At(),n=Et();return F(async(o,a)=>{let{type:s,txParams:r,extraParams:i}=o,c=t({type:s,txParams:{...r,...a},extraParams:i}),{id:m,txPool:p}=o;return o.id=c.id,c.id=m,o.txPool=[],await n(c),e(c,{signedCallback:u=>_t({txId:m,tx:{...c,status:R.PENDING,isSpeeding:!0,txPool:[o,...p],...u}})})})}function sn(){let t=ee(!0),e=Pt(),n=At(),o=Et();return F(async(a,s)=>{let{txParams:r,extraParams:i}=a,{from:c,nonce:m,type:p,chainId:u}=r,f=t.find(({address:h})=>!h),g=e({type:P.TRANS_OUT,txParams:{to:c,value:"0x0",nonce:m,chainId:u,type:p,...s},extraParams:i}),{id:A,txPool:C}=a;return a.id=g.id,g.id=A,a.txPool=[],await o(g),n(g,{signedCallback:h=>_t({txId:A,tx:{...g,status:R.PENDING,isCanceling:!0,txPool:[a,...C],extraParams:{toAddress:c,tokenAddress:"",coinSymbol:f?.symbol,value:"0"},...h}})})})}d();T();dt();X();var Re=N(K()),ve=N(D()),ze=()=>{let t=(0,ve.useDispatch)();return(0,Re.useCallback)(async({id:e})=>{await O().finishRequest({id:e,type:Dt.REJECTED}),await j(t)},[t])},Ce=ze;d();T();var Ie=async(t,e)=>{let n;try{n=await e.eth.getCode(t)}catch{n=null}return{isContractAddress:n&&n!=="0x"&&n!=="0x0"}};d();T();function Oe(t,{customPermissionAmount:e,decimals:n}){let o=J(t);if(o){if(o.name!==E.TOKEN_METHOD_APPROVE)throw new Error(`Invalid data; should be 'approve' method, but instead is '${o.name}'`)}else throw new Error("Invalid data");let a=nt(o);a.startsWith("0x")&&(a=a.substring(2));let[s,r]=t.split(a);if(!s||!r)throw new Error("Invalid data");if(r.length!==64)throw new Error("Invalid token value; should be exactly 64 hex digits long (u256)");let i=L(se(e,n));if(i.length>64)throw new Error("Custom value is larger than u256");return i=i.padStart(r.length,"0"),`${s}${a}${i}`}d();T();d();T();pt();var we=N(D()),$=N(K());var Je=({txParams:t={},dappInjectedGasInfo:e={}})=>{let{to:n,from:o,value:a,data:s,tokenAddress:r}=t,[i,c]=(0,$.useState)(""),[m,p]=(0,$.useState)(!0),[u,f]=(0,$.useState)(!1),{rpcUrl:g}=(0,we.useSelector)(k),A=le(g),{run:C}=Yt(async()=>{try{p(!0);let h=await A({to:n,from:o,value:a,data:s},r);c(h),f(!1)}catch{f(!0)}finally{p(!1)}},{wait:500});return(0,$.useEffect)(()=>{U(e.gasLimit,0)?(c(e.gasLimit),p(!1)):C()},[n,o,a,s,r,e.gasLimit]),{chainGasLimit:i,chainGasLimitLoading:m,chainGasLimitLoadFailed:u}},Se=Je;d();T();var yt=N(xt()),q=N(K()),Le=N(D());pt();var je=({dappInjectedGasInfo:t={}})=>{let[e,n]=(0,q.useState)({}),[o,a]=(0,q.useState)(!0),[s,r]=(0,q.useState)(!1),i=(0,Le.useSelector)(k),{rpcUrl:c,chainId:m}=i,p=fe(c),u=7e3,f=(0,q.useRef)(),g=(0,q.useRef)(!0),A=()=>{g.current=null,clearTimeout(f.current)},C=l=>{if((0,yt.isEmpty)(t))n(l);else{let{gasPrice:I,maxFeePerGas:x,maxPriorityFeePerGas:y}=t,{isSupportEip1559:z}=l;if(z){delete l.gasPrice;let Y=It(x,y);U(x,0)&&U(Y,0)&&U(y,0)?(n({...l,maxFeePerGas:x,baseFeePerGas:Y,maxPriorityFeePerGas:y}),A()):n(l)}else delete l.maxFeePerGas,delete l.baseFeePerGas,delete l.maxPriorityFeePerGas,U(I,0)?(n({...l,gasPrice:I}),A()):n(l)}},h=async(l=!1)=>{try{l&&a(!0);let x=(await p(m)).find(({level:y})=>y===de.MEDIUM)||{};delete x.level,(l||g.current)&&(C(x),r(!1))}catch{l&&r(!0)}finally{a(!1),g.current&&(f.current=setTimeout(()=>{h()},u))}},w=Te();return qt(async()=>{let l=w(i);(0,yt.isEmpty)(l)?h(!0):(n(l),a(!1))}),Mt(()=>{A()}),{chainGasPrice:e,stopPollingGasPrice:A,chainGasPriceLoading:o,chainGasPriceLoadFailed:s}},De=je;var Qe=(t={},e={})=>{let{chainGasPrice:n,stopPollingGasPrice:o,chainGasPriceLoading:a,chainGasPriceLoadFailed:s}=De({dappInjectedGasInfo:e}),{chainGasLimit:r,chainGasLimitLoading:i,chainGasLimitLoadFailed:c}=Se({txParams:t,dappInjectedGasInfo:e});return{chainGasPrice:n,chainGasLimit:r,chainGasLoading:a||i,chainGasLoadFailed:s||c,stopPollingGasPrice:o,chainGasPriceLoading:a,chainGasLimitLoading:i,chainGasPriceLoadFailed:s,chainGasLimitLoadFailed:c}},Fe=Qe;function Xe({data:t,to:e}){let n=ot(),[o,a]=(0,_.useState)(""),[s,r]=(0,_.useState)(!1);return(0,_.useEffect)(()=>{(async()=>{if(t&&!e){a(E.DEPLOY_CONTRACT);return}try{let u=J(t)?.name,f=[E.TOKEN_METHOD_APPROVE,E.TOKEN_METHOD_TRANSFER,E.TOKEN_METHOD_TRANSFER_FROM].find(g=>g.toLowerCase()===u.toLowerCase());if(f){a(f);return}}catch{}r(!0);let c=await n(),{isContractAddress:m}=await Ie(e,c);a(m?E.CONTRACT_INTERACTION:E.SENT_ETHER),r(!1)})()},[t,e,n]),[o,s]}function to({data:t,type:e}){let n,o,a,s;try{let r=J(t),i=ie(r);n=nt(r),s=i,o=e===E.TOKEN_METHOD_APPROVE,a=o&&Number(s)===0}catch{}return{address:n,isApprove:o,isRevoke:a,amount:s}}function eo(t){let e=oe(),[n,o]=(0,_.useState)({}),[a,s]=(0,_.useState)(!1),r=async()=>{try{s(!0);let{symbol:i,decimals:c}=await e(t);o({symbol:i,decimals:c}),s(!1)}catch{s(!1)}};return(0,_.useEffect)(()=>{t&&r()},[t]),[n,a]}function oo(t){let[n,o]=(0,_.useState)(-1),{isApprove:a,formattedAmount:s,decimals:r,symbol:i}=t;(0,_.useEffect)(()=>{a&&o(s)},[a,s]);let c=(0,_.useMemo)(()=>n>=1e13?S("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):`${St(wt(n,r))}${i||""}`,[n,r,i,1e13]);return[{...t,customApproveAmount:n,approveAmountDisplay:c,INFINITY:1e13},o]}function no({origin:t,isApprove:e,isRevoke:n,symbol:o,walletId:a}){let s=Jt(a),r=(0,at.useSelector)(Gt),i=a?s:r,m=(0,at.useSelector)(Wt)[t]||{},[p,u]=(0,_.useState)({});return(0,_.useEffect)(()=>{let f=null,g=null,A=null;e?(f=null,g=o,A=n?S("wallet_approval_subtitle_revoke_approval_desc",{tokenSymbol:o}):S("wallet_dapp_conncetion_alert_approve_tip",{name:m.name,tokenSymbol:o})):(f=m.icon,A=m.host,g=m.name),u({icon:f,host:A,name:g})},[n,o]),{...p,originInfo:m,wallet:`${i.keyringName} - ${i.walletName}`}}function ao(t){let{nonce:e,suggestedNonce:n}=_e(t),[o,a]=(0,_.useState)(0),[s,r]=(0,_.useState)(!0);return(0,_.useEffect)(()=>{a(n),r(!1)},[n]),[{suggested:e,custom:o,pending:s},a]}function ro(){return(0,at.useSelector)(k)}var so=({tx:t,nonce:e,txData:n,tokenInfo:o,chain:a,customGasInfo:s,approvedAmount:r,formattedAmount:i,txType:c})=>{let{from:m,to:p,value:u,data:f}=t,{isSupportEip1559:g,maxFeePerGas:A,maxPriorityFeePerGas:C,gasPrice:h,gasLimit:w}=s,l={from:m,to:p,value:u,gasLimit:w,nonce:e,data:f};g?(l.maxFeePerGas=A,l.maxPriorityFeePerGas=C,l.type=W.FEE_MARKET):(l.gasPrice=h,l.type=W.LEGACY);let x={[E.DEPLOY_CONTRACT]:P.CONTRACT_DEPLOY,[E.CONTRACT_INTERACTION]:P.CONTRACT_CALL,[E.TOKEN_METHOD_APPROVE]:P.AUTHORIZATION,[E.SENT_ETHER]:P.TRANS_OUT,[E.TOKEN_METHOD_TRANSFER]:P.TRANS_OUT,[E.TOKEN_METHOD_TRANSFER_FROM]:P.TRANS_OUT}[c]||P.CONTRACT_CALL;n.isRevoke&&(x=P.CANCEL_AUTHORIZATION);let y={};return c===E.TOKEN_METHOD_APPROVE&&(y.approvedAmount=r,y.coinSymbol=o.symbol,y.tokenAddress=p,y.approvedAddress=n.address),c===E.SENT_ETHER&&(y.value=Ot(V(u)),y.toAddress=p,y.coinSymbol=a.symbol),(c===E.TOKEN_METHOD_TRANSFER||c===E.TOKEN_METHOD_TRANSFER_FROM)&&(y.value=i,y.tokenAddress=p,y.toAddress=n.address,y.coinSymbol=o.symbol),{type:x,txParams:l,extraParams:y}};function io(t,e){let n=(0,ke.useHistory)(),o=ue(),a=Ce(),s=xe(),[r,i]=(0,_.useState)(!1);return[{sign:async p=>{i(!0),s(t,p).then(async({txHash:u})=>{o({id:e,result:u}),n.push(Kt)}).catch(u=>{u.message!==tt&&b.error({title:u?.message}),o({id:e,error:u?.message||"Transaction failed"}),i(!1)}).finally(()=>{n.go(0)})},cancel:async()=>{await a({id:e}),n.go(0)}},r]}function Pa(t){let[e]=Xe(t),n=to({data:t.data,type:e}),[o,a]=eo(t?.to),s=no({walletId:t?.walletId,origin:t.origin,...n,...o}),r=(0,_.useMemo)(()=>re(n?.amount||0,o?.decimals),[n?.amount,o?.decimals]),[i,c]=oo({...n,...o,formattedAmount:r}),[m,p]=(0,_.useState)(t.data);(0,_.useEffect)(()=>{if(e===E.TOKEN_METHOD_APPROVE&&i.customApproveAmount>=0&&i.customApproveAmount<=i.INFINITY)try{let G=Oe(t.data,{customPermissionAmount:i.customApproveAmount,decimals:o?.decimals});p(G)}catch{}},[i.customApproveAmount,i.INFINITY,t.data,o?.decimals,n,e]);let u=ro(),f={...u,name:u.name||u.chainName},[g,A]=ao(t.from),[C,h]=(0,_.useState)(null),[w,l]=(0,_.useState)({}),{chainGasPrice:I,chainGasLimit:x,chainGasLoading:y,chainGasLoadFailed:z,stopPollingGasPrice:Y,chainGasLimitLoadFailed:rt}=Fe({to:t.to,from:t.from,value:t.value||"0x0",data:m},{gasLimit:V(t.gas||t.gasLimit),gasPrice:V(t.gasPrice),maxFeePerGas:V(t.maxFeePerGas),maxPriorityFeePerGas:V(t.maxPriorityFeePerGas)}),st=G=>{h(qe=>({...qe,...G}))};(0,_.useEffect)(()=>{l(G=>({...G,...I}))},[I]),(0,_.useEffect)(()=>{l(G=>({...G,gasLimit:x}))},[x]);let it=so({tx:{...t,data:m},nonce:g.custom||g.suggested,txData:n,tokenInfo:o,chain:f,customGasInfo:C||w,approvedAmount:i.customApproveAmount,formattedAmount:r,txType:e}),[{sign:ct,cancel:mt},He]=io(it,t.id),Me=(0,_.useMemo)(()=>{switch(e){case E.DEPLOY_CONTRACT:return S("developer_mode_history_title_contract_eployment");case E.TOKEN_METHOD_APPROVE:return n?.isRevoke?S("wallet_extension_popup_btn_revoke_approval"):S("wallet_extension_popup_btn_approve");default:return S("wallet_extension_popup_title_contract_interaction")}},[e,n?.isRevoke]);return[{type:e,title:Me,auth:{...i,...o,formattedAmount:r},meta:s,chain:f,nonce:g,gas:{chainGasInfo:w,customGasInfo:C||w,chainGasLoading:y,chainGasLoadFailed:z,updateCustomGasInfo:st,stopPollingGasPrice:Y,chainGasLimitLoadFailed:rt},loading:{sign:He,token:a},data:m},{sign:ct,cancel:mt,setNonce:A,setAuthAmount:c}]}d();T();var Ue=N(D());d();T();dt();X();function Ge(t,e,n){return async o=>{await O().resolvePendingApproval(t,e);let{pendingApprovals:a}=await ft(o);Object.values(a).length===0&&!n&&o(Tt())}}function be(t){return async e=>{await O().rejectPendingApproval(t);let{pendingApprovals:n}=await ft(e);Object.values(n).length===0&&e(Tt())}}Ct();dt();function Fa(t){let e=(0,Ue.useDispatch)(),o=(r=>{let{id:i,origin:c,requestData:m,type:p,requestData:{chainId:u}}=r;return{id:i,origin:c,...m,requestData:m,chainIdToDisplay:parseInt(u,16),switchType:p,explorers:m.blockExplorerUrl}})(t);return[o,{cancel:async()=>{await e(be(o.id)),await j(e)},approve:async()=>{let{rpcUrl:r,ticker:i,blockExplorerUrl:c,chainId:m,faucetUrl:p,icon:u,chainName:f}=o,{uniqueId:g}=await e(te({chainId:m,explorerUrl:c,faucetUrl:p,icon:u,name:f,rpcUrl:r,symbol:i}));await e(lt("isRpcMode",!0)),await e(lt("currentNetworkUniqueId",g)),await e(zt(vt,r,i,f,m,{},!0,g)),await e(Ge(o.id,o.requestData)),await j(e)}}]}d();T();function Ha(t){return Bt(t?.image)?t.image=t.image[0]:Zt(t?.image)&&(t.image=null),t}export{_e as a,Ae as b,ye as c,he as d,xe as e,rn as f,sn as g,Ce as h,Fe as i,Xe as j,to as k,eo as l,ro as m,so as n,Pa as o,Fa as p,To as q,Ha as r};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-BJANYOX5.js.map
