import{j as s,k as M,o as _}from"./chunk-EJY3MW2I.js";import{c as k,d as S,e as b,f as h,g as m,h as d,l as T}from"./chunk-3VRAVMMN.js";import{Z as O,d as A,l as x,m as v}from"./chunk-YJ45QIWT.js";import{a as F}from"./chunk-WR62TYUO.js";import{c as a,d as w,f as N}from"./chunk-2G2AXMFT.js";import{f as K,m as p,o as y}from"./chunk-ICCOEXX5.js";p();y();var f=K(F());N();T();_();O();async function H(){return await w().getAllWalletsBalance()}async function D(){return await w().getCurrentWalletBalance()}function P(e,...o){return t=>{let r;return new Promise((n,u)=>{e(...o,(i,l)=>{if(i){u(i);return}r=l,n()})}).then(async()=>(await s(t),r)).catch(async n=>(await s(t),t(d(n.message)),Promise.reject(n)))}}function R(e=!0){return{type:A,value:e}}function g(){return e=>new Promise(o=>{a().unMarkPasswordForgotten(()=>{e(R(!1)),o()})}).then(()=>s(e))}function X(){return async e=>{try{await new Promise((o,t)=>a().markPasswordForgotten(r=>{if(r){t(r);return}o()}))}finally{e(m()),e(R()),await s(e)}}}function q(){return P(a().createWallet)}function z(...e){return o=>new Promise((t,r)=>{a().importWalletWithMnemonic(...e,(n,u)=>{if(n){r(n);return}t(u)})}).then(async t=>(await s(o),t)).catch(t=>Promise.reject(t))}function J(...e){return P(a().importWalletWithPrivateKey,...e)}function Q(...e){return P(a().removeWallet,...e)}function V(...e){return P(a().removeWallets,...e)}function Y(...e){return P(a().updateWalletAddress,...e)}function Z(e,o){return t=>{let r;return new Promise((n,u)=>{a().setSelectedWallet(e,(i,l)=>{if(i){u(i);return}r=l,n()})}).then(async()=>(await M(t),r)).catch(async n=>(await s(t),t(d(n.message)),Promise.reject(n)))}}function $(e){return o=>(o(k()),new Promise((t,r)=>{a().submitPassword(e,n=>{if(n){r(n);return}t()})}).then(()=>(o(b()),s(o))).catch(t=>(o(S(t.message)),Promise.reject(t))))}function ee(e){return o=>{f.default.debug("background.createWalletAndRestore");let t;return new Promise((r,n)=>{a().createWalletAndRestore(e,(u,i)=>{if(u){n(u);return}t=i,r()})}).then(()=>o(g())).then(()=>(o(j()),t)).catch(r=>(o(d(r.message)),Promise.reject(r)))}}function te(e,o,t={}){return r=>{f.default.debug("background.importWalletWithMnemonicAndRestore");let n;return new Promise((u,i)=>{a().importWalletWithMnemonicAndRestore(e,o,t,(l,c)=>{if(l){i(l);return}n=c,u()})}).then(()=>r(g())).then(()=>(r(j()),n)).catch(u=>(r(d(u.message)),Promise.reject(u)))}}function re(e,o,t,r=!1){return n=>{f.default.debug("background.importWalletWithPrivateKeyAndRestore");let u;return new Promise((i,l)=>{a().importWalletWithPrivateKeyAndRestore(e,o,t,r,(c,W)=>{if(c){l(c);return}u=W,i()})}).then(()=>n(g())).then(()=>(n(m()),u)).catch(i=>(n(m()),Promise.reject(i)))}}function ne(e,{cipherText:o,privateKey:t},r,n){return u=>{!n&&u(h()),f.default.debug("background.importWalletWithMpcAndRestore");let i;return new Promise((l,c)=>{a().importWalletWithMpcAndRestore(e,{cipherText:o,privateKey:t},r,(W,I)=>{if(W){c(W);return}i=I,l()})}).then(()=>u(g())).then(()=>(u(m()),i)).catch(l=>(u(m()),Promise.reject(l)))}}function oe(e){return new Promise((o,t)=>{a().verifyPassword(e,r=>{if(r){t(r);return}o(!0)})})}function ue(e,o){return async t=>{await new Promise((r,n)=>{a().addPermittedAccount(e,o,u=>{if(u){n(u);return}r()})}),await s(t)}}function ae(e,o){return async t=>{await new Promise((r,n)=>{a().removePermittedAccount(e,o,u=>{if(u){n(u);return}r()})}),await s(t)}}function j(){return{type:x}}function ie({id:e}={}){return{type:v,id:e}}export{H as a,D as b,X as c,q as d,z as e,J as f,Q as g,V as h,Y as i,Z as j,$ as k,ee as l,te as m,re as n,ne as o,oe as p,ue as q,ae as r,ie as s};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-X764QIVO.js.map
