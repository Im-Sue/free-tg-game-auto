import{a as at}from"./chunk-4FZQLD6G.js";import{a as st}from"./chunk-LHVA7Q62.js";import{c as it}from"./chunk-HC6ABCSA.js";import"./chunk-3TWPOAEX.js";import"./chunk-4KSIW65U.js";import"./chunk-FSXW45U6.js";import"./chunk-DQUBHXFU.js";import{a as rt}from"./chunk-OXTQMA4W.js";import"./chunk-RMPNHDVC.js";import"./chunk-YWELIV7Q.js";import"./chunk-53Z372L4.js";import"./chunk-EHDEZCO2.js";import"./chunk-TFCBP6UV.js";import{f as et}from"./chunk-FORV77D5.js";import{a as S}from"./chunk-D4V7ONZY.js";import"./chunk-U3CLRNWK.js";import{c as R}from"./chunk-M4STRGDO.js";import"./chunk-GYUX3JJ3.js";import{a as h}from"./chunk-H43TVLNI.js";import"./chunk-SIKYZQW4.js";import"./chunk-MCRNCTJS.js";import{c as L,d as A,e as ot,g as M}from"./chunk-YZAK46Y6.js";import"./chunk-VX7CI7XT.js";import"./chunk-D6HSNWGS.js";import{e as k}from"./chunk-7ODXCTBK.js";import"./chunk-GZMWLE4V.js";import{b as tt}from"./chunk-C54I6GL3.js";import"./chunk-ZJICRI36.js";import"./chunk-BIBDTDJA.js";import"./chunk-ADIQBHVU.js";import"./chunk-TPVT7ZCY.js";import"./chunk-A6HNAUBV.js";import"./chunk-6GFVKSAR.js";import"./chunk-JVLSBRR5.js";import"./chunk-5IXTSGAM.js";import"./chunk-OR2KMY5L.js";import"./chunk-FFJ36R7T.js";import"./chunk-NVCWAHOV.js";import"./chunk-RFEJLMRV.js";import{e as J}from"./chunk-UIABO6UG.js";import"./chunk-KJFAD5C4.js";import"./chunk-BFVA6OLJ.js";import"./chunk-ON3J2WQV.js";import"./chunk-RC3QMLDN.js";import"./chunk-JINEVGIZ.js";import"./chunk-SRU2IM3A.js";import"./chunk-46NSFYB3.js";import"./chunk-FFQESTX4.js";import"./chunk-OCZAVPFZ.js";import"./chunk-P6SDUFQ6.js";import"./chunk-5TNZ4MQV.js";import"./chunk-KKTPGZSO.js";import"./chunk-ESKOSV75.js";import"./chunk-ZDQ5EBGN.js";import"./chunk-2KEW2T4M.js";import"./chunk-WZVETVFR.js";import"./chunk-R7VTXTCL.js";import"./chunk-LBYCQPAD.js";import"./chunk-KSSIMCRC.js";import{b as z}from"./chunk-CWTKVHHS.js";import"./chunk-Y2PED5BF.js";import"./chunk-RUSRHRGO.js";import"./chunk-IZ5XPPXG.js";import"./chunk-6PN4BR3D.js";import"./chunk-EWK7ZFVN.js";import"./chunk-A23SHFFL.js";import"./chunk-VZ3BFZKL.js";import"./chunk-T6Z2C3RK.js";import"./chunk-R2QYIBE7.js";import"./chunk-KT53NMHD.js";import"./chunk-64STH2HN.js";import{b as d,c as Q,q as P,r as Z}from"./chunk-EKQH7XTV.js";import"./chunk-R2QKPEWB.js";import"./chunk-RMA2FZOE.js";import"./chunk-KRHB66KZ.js";import"./chunk-4RHFH7IF.js";import"./chunk-LPTRVNVL.js";import"./chunk-PH2A2GR3.js";import"./chunk-2LLM6N6U.js";import"./chunk-LF2PURXZ.js";import"./chunk-JEZIPKDY.js";import"./chunk-SR2BDP3A.js";import"./chunk-CFT6B56M.js";import"./chunk-WK32FAZW.js";import"./chunk-WMUTUJYX.js";import"./chunk-B23OWGFX.js";import"./chunk-OSWXWF4A.js";import"./chunk-Q7FJER56.js";import"./chunk-RBTIRMSE.js";import"./chunk-7GZ2ZCGI.js";import"./chunk-WTP3OIOS.js";import"./chunk-D66ZH3O3.js";import"./chunk-X764QIVO.js";import"./chunk-HISWVX7W.js";import{a as K}from"./chunk-PYJPOVV7.js";import"./chunk-AO6MUSOH.js";import{a as $}from"./chunk-I435LZHT.js";import"./chunk-SJIW4WAV.js";import"./chunk-SLDECH2O.js";import"./chunk-5JJQQHKZ.js";import"./chunk-URG4MCPH.js";import{y as yt}from"./chunk-ZPOCIBPN.js";import{$ as X,F as g}from"./chunk-CA5MYYD6.js";import"./chunk-RZ7GFYMN.js";import"./chunk-IOCZ22XI.js";import{k as G,o as wt}from"./chunk-EJY3MW2I.js";import"./chunk-3VRAVMMN.js";import"./chunk-YJ45QIWT.js";import"./chunk-WR62TYUO.js";import"./chunk-2G2AXMFT.js";import{e as w}from"./chunk-XGFQCNHX.js";import"./chunk-7JF42X5G.js";import"./chunk-4JZ3HIS7.js";import{s as v,t as j,v as H}from"./chunk-JLA5HXVC.js";import"./chunk-I4WIGQLD.js";import"./chunk-ZNGQ6IUR.js";import"./chunk-JERFAOJH.js";import"./chunk-JXZFOFB5.js";import"./chunk-LYNLETTP.js";import"./chunk-FQ4XEVKF.js";import{c as V}from"./chunk-VMYDP774.js";import{a as q,b as Ct}from"./chunk-A7LNVEYU.js";import{f as U,h as Tt}from"./chunk-2YWUVAR3.js";import"./chunk-VA2HGDZT.js";import"./chunk-AKPDCNMH.js";import{W as O,Xa as Y,la as gt,m as F,pb as kt}from"./chunk-M54COW6Q.js";import"./chunk-PWWHYQAY.js";import{b as x}from"./chunk-RIJWHGTU.js";import{I as N,v as m}from"./chunk-K4MPEKC5.js";import"./chunk-X6USBUO5.js";import"./chunk-674MHQJQ.js";import{X as W}from"./chunk-XIGC6FD5.js";import{a as T}from"./chunk-CXUPEGDW.js";import"./chunk-QAWZYDPQ.js";import"./chunk-PYTKRRY4.js";import"./chunk-363VDWOO.js";import"./chunk-7B5WANGL.js";import"./chunk-4P4FGPYZ.js";import"./chunk-Y47SQ3XQ.js";import"./chunk-YGNOWOE7.js";import"./chunk-N4GKTC7Y.js";import"./chunk-YZ3HFF2L.js";import"./chunk-2BD64J7Y.js";import"./chunk-RYJHESAH.js";import"./chunk-DOQ5NSSP.js";import"./chunk-VULQOB2N.js";import{f as u,m as a,o as n}from"./chunk-ICCOEXX5.js";a();n();var D=u(T());a();n();var I=u(T());gt();a();n();var C=u(T());Tt();Ct();var At=({message:o,chainId:t,method:i,originUrl:r})=>{let[c,p]=(0,C.useState)(!0),[_,l]=(0,C.useState)({});return(0,C.useEffect)(()=>{(async()=>{if(t){try{let{data:s}=await U(q.signMessageDataCheck,{data:"",source:2,chainId:t,raw:o,method:i,originUrl:r});l(s)}catch(s){console.log(s)}p(!1)}})()},[t]),{loading:c,signMessageCheckRet:_}},nt=At;a();n();var mt=u(F());var ct=u(T()),pt=u(yt());N();wt();var Mt=({unapproved:o,walletAccount:t,signMessageCheckRet:i})=>{let r=(0,pt.useDispatch)(),c=S(t?.walletId),p=(0,ct.useCallback)(async()=>{c({trade:"sign",all_confirmation:"cancel",dapp_url:o.origin,network:o.localType}),await r(P(o.id)),await G(r)},[c,r,o.id,o.origin,o.localType]),_={btnText:m("wallet_dapp_connection_btn_reject"),actionType:k.ACTION_TYPE.CANCEL,onClick:p},l=w(t.initialType),s=async()=>{try{if(!await tt({walletId:o.walletId,callback:async()=>{await r(P(o.id))}}))return;c({trade:"sign",all_confirmation:"confirm",dapp_url:o.origin,network:o.localType}),await r(Z(o.id)),await G(r)}catch(E){console.log(E)}},f={disabled:l,actionType:k.ACTION_TYPE.CONFIRM,onClick:s},b=R(),B=(0,mt.get)(i,"risk_black_list.0");return(i.risk===d.high||B)&&(f.type=W.TYPE.red,f.onClick=async()=>{try{await b({isDefraud:!0,address:B,similarType:X.EXACT}),await s()}catch{await p()}}),[_,f]},lt=Mt;a();n();var ft=u(F());N();var St=({unapproved:o,signMessageCheckRet:t})=>{let i=h(o);if(w(i.initialType))return{type:x.TYPE.error,message:m("wallet_extension_top_toast_dapp_comingsoon")};if(t?.risk===d.middle)return{type:x.TYPE.warn,message:m("extension_approve_alert_authorized_tips",{contract:t.contractName,asset:t.tokenSymbol})};if(t?.risk===d.high){let r=(0,ft.get)(t,"risk_black_list.0");if(r)return{type:M.TIP_TYPE.DEFRAUD,address:r}}return null},ut=St;a();n();var e=u(T());N();kt();var ht=o=>{let{signMessageCheckRet:t,walletAccount:i,buttonGroup:r,tipMessage:c,message:p,baseCoin:_}=o,{value:l=0}=t.addtion||{},s=Y(l,Q)?m("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):l,f=S(i.walletId);return e.default.createElement(V.Container,null,e.default.createElement(K,{title:m("wallet_extension_popup_btn_approve"),closeable:!1,backable:!1}),e.default.createElement(A,null,e.default.createElement(L,{title:m("extension_approve_maintitle_approve"),summaryList:[{icon:{src:t.tokenIcon||v},title:`${s} ${t.tokenSymbol||""}`,desc:t.tokenAddress}]}),e.default.createElement(L,{title:m("wallet_extension_popup_text_project"),summaryList:[{icon:{src:t.contractIcon||j},title:t.contractName||H,desc:t.contractAddress||""}]})),e.default.createElement(A,null,e.default.createElement(ot,{...i,title:m("wallet_extension_network_address_title_walletused"),onCopyCallback:()=>{f({trade:"contract_interaction",all_confirmation:"wallet_used_address"})}})),e.default.createElement(A,{bordered:!1},e.default.createElement(at,{coinId:_?.coinId}),e.default.createElement(rt,{data:p,copyable:{hideDesc:!0}})),e.default.createElement($,{placeholder:!0,offsetBottom:0,borderTop:!0},e.default.createElement(M,{...c}),e.default.createElement(k,{buttonGroup:r})))},dt=ht;var It=o=>{let{unapproved:t}=o,i=t?.params?.message||"",r=et(t),c=h(t),p=J(O)||{},{chainId:_}=p||{},{loading:l,signMessageCheckRet:s}=nt({message:i,chainId:_,originUrl:r.host,method:g.SIGN_MESSAGE}),f=ut({unapproved:t,signMessageCheckRet:s}),b=lt({unapproved:t,walletAccount:c,signMessageCheckRet:s});return l?I.default.createElement(z,null):[d.middle,d.high].includes(s?.risk)?I.default.createElement(dt,{signMessageCheckRet:s,walletAccount:c,baseCoin:p,message:i,tipMessage:f,buttonGroup:b}):I.default.createElement(st,{needCheckMpc:!0,message:i,unapproved:t,tipMessage:f})},_t=It;var Oo=({unapproved:o})=>{switch(o.method){case g.SIGN_TRANSACTION:case g.RPC_SIGN_TRANSACTION:return D.default.createElement(it,{unapproved:o});case g.SIGN_MESSAGE:case g.RPC_SIGN_MESSAGE:return D.default.createElement(_t,{unapproved:o});default:return""}};export{Oo as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Tron-5CT34SSM.js.map
