import{a as pn,b as dn,c as In,d as Lt,e as Nn,f as xn,g as Pe,h as Pn,i as Mn}from"./chunk-I4FHXJRY.js";import"./chunk-BQBRVMZJ.js";import"./chunk-XKXVOEIB.js";import"./chunk-HOMBI2ED.js";import"./chunk-JV2QGIZV.js";import"./chunk-FMELEEEB.js";import{a as un}from"./chunk-G6RAUYSM.js";import{a as On,c as vn,d as Bn}from"./chunk-K5HHWT43.js";import{a as Ft}from"./chunk-QGDC2SMT.js";import{a as cn}from"./chunk-JEQ6GJXM.js";import"./chunk-GGPFCAHR.js";import"./chunk-LJK5U7KV.js";import{a as Sn,b as Ln,c as Dn,d as Wn}from"./chunk-T6HK3VXZ.js";import{a as At,b as mn,c as St,d as yn}from"./chunk-IL2ELGO7.js";import"./chunk-D5WHGCWL.js";import{a as Tn}from"./chunk-UDYIY37L.js";import{a as An}from"./chunk-RQ3CXUPA.js";import"./chunk-QNZPWHPG.js";import"./chunk-LHNVUV3G.js";import{a as Fn}from"./chunk-JR7BDGRI.js";import{a as kn,b as Cn}from"./chunk-FVCGFTGN.js";import"./chunk-X6XBAGXF.js";import{a as _n,b as gn}from"./chunk-6PXE5HEH.js";import{a as jr}from"./chunk-SOVQELAE.js";import{a as fn}from"./chunk-IDA77UNI.js";import{a as wn}from"./chunk-PXGFGDPS.js";import"./chunk-5UOIKI2I.js";import{a as En}from"./chunk-2PQSDICF.js";import"./chunk-4ZG74PQY.js";import{a as Ie}from"./chunk-74GTIAZN.js";import"./chunk-BXKGIUFS.js";import{a as Hn}from"./chunk-NOKW7JBQ.js";import{a as Rn}from"./chunk-LDMXQFRF.js";import"./chunk-IKIWJ4RT.js";import{a as hn}from"./chunk-YVRJEQO6.js";import"./chunk-6XTUWRPU.js";import"./chunk-IM6LLRHH.js";import"./chunk-XVNT5VUK.js";import"./chunk-MRPWIG2O.js";import"./chunk-2ZLYTJ3L.js";import"./chunk-H43TVLNI.js";import"./chunk-PBOUQOH2.js";import"./chunk-SG4LXTVB.js";import"./chunk-M4JNKF23.js";import{a as wt}from"./chunk-3EYFKVOU.js";import"./chunk-QUUI62AZ.js";import"./chunk-GZMWLE4V.js";import"./chunk-C54I6GL3.js";import"./chunk-ZJICRI36.js";import"./chunk-BIBDTDJA.js";import{a as Ur}from"./chunk-ADIQBHVU.js";import{a as bt}from"./chunk-TPVT7ZCY.js";import{a as Gr}from"./chunk-A6HNAUBV.js";import"./chunk-6GFVKSAR.js";import{a as Yr}from"./chunk-JVLSBRR5.js";import"./chunk-5IXTSGAM.js";import"./chunk-RFEJLMRV.js";import"./chunk-UIABO6UG.js";import"./chunk-KJFAD5C4.js";import{a as Hr,c as $r}from"./chunk-BFVA6OLJ.js";import"./chunk-RC3QMLDN.js";import"./chunk-JINEVGIZ.js";import{a as Pr}from"./chunk-SRU2IM3A.js";import{d as Vr}from"./chunk-46NSFYB3.js";import{f as Dr,h as M,i as ye,k as Wr}from"./chunk-FFQESTX4.js";import"./chunk-P6SDUFQ6.js";import"./chunk-5TNZ4MQV.js";import{a as Ct}from"./chunk-ZDQ5EBGN.js";import"./chunk-2KEW2T4M.js";import"./chunk-R7VTXTCL.js";import"./chunk-LBYCQPAD.js";import{a as Nr}from"./chunk-3LQX6HRP.js";import{b as bn}from"./chunk-EYEZZYSI.js";import{m as Ot}from"./chunk-RBHUA4Z3.js";import"./chunk-CH3OIAHP.js";import"./chunk-L7ZCJVL2.js";import"./chunk-FV6MP3UU.js";import"./chunk-X6EEBMFW.js";import"./chunk-245PXJQJ.js";import{b as Ko}from"./chunk-KZR43RPO.js";import{a as Ar}from"./chunk-QXNKNSJH.js";import{b as zr,d as ce,e as Zr,g as Xr,h as Jr,i as Qr,j as en,k as tn,l as on,m as Re,o as rn,p as nn,q as sn,r as an,v as ln}from"./chunk-KVIYCH5A.js";import"./chunk-U43G73LH.js";import"./chunk-NMSQZNJG.js";import{b as Be}from"./chunk-SQ5W4RLM.js";import{b as me}from"./chunk-I27PVEIN.js";import"./chunk-EWK7ZFVN.js";import{b as Ir}from"./chunk-A23SHFFL.js";import"./chunk-T6Z2C3RK.js";import"./chunk-R2QYIBE7.js";import{c as Cr}from"./chunk-KT53NMHD.js";import{g as hr,h as yr}from"./chunk-64STH2HN.js";import{i as qr,m as Kr}from"./chunk-EKQH7XTV.js";import"./chunk-R2QKPEWB.js";import"./chunk-RMA2FZOE.js";import"./chunk-KRHB66KZ.js";import"./chunk-4RHFH7IF.js";import{d as kt}from"./chunk-LPTRVNVL.js";import"./chunk-PH2A2GR3.js";import{d as To}from"./chunk-2LLM6N6U.js";import{e as Br,f as Rr}from"./chunk-LF2PURXZ.js";import"./chunk-JEZIPKDY.js";import{a as Sr,e as Lr}from"./chunk-SR2BDP3A.js";import{x as Mr}from"./chunk-CFT6B56M.js";import"./chunk-WK32FAZW.js";import{g as Fr,h as Or,i as vr}from"./chunk-WMUTUJYX.js";import"./chunk-B23OWGFX.js";import"./chunk-OSWXWF4A.js";import"./chunk-Q7FJER56.js";import"./chunk-RBTIRMSE.js";import"./chunk-7GZ2ZCGI.js";import{A as po,G as fo,K as ht,V as Zo}from"./chunk-WTP3OIOS.js";import"./chunk-D66ZH3O3.js";import{b as ot}from"./chunk-YUPWBXXL.js";import{b as br}from"./chunk-X764QIVO.js";import"./chunk-HISWVX7W.js";import{b as oe}from"./chunk-AO6MUSOH.js";import{a as wr}from"./chunk-I435LZHT.js";import{s as Xo,x as G}from"./chunk-SJIW4WAV.js";import"./chunk-SLDECH2O.js";import{a as yt,b as lr,j as mr,l as It,q as cr,u as pr,w as dr}from"./chunk-5JJQQHKZ.js";import{$a as gr,Ca as _r,G as _o,X as go,aa as xt,cb as Tr,e as et,i as fr,la as Et,u as tt,v as ur}from"./chunk-URG4MCPH.js";import{D as Xi,Db as ar,Pa as Ce,Wa as tr,Xa as or,_a as rr,ab as nr,db as sr,hb as ir,lb as ve,na as Ji,o as Yo,pa as Jo,sa as Qo,t as jo,ta as er,u as zo,y as P}from"./chunk-ZPOCIBPN.js";import"./chunk-CA5MYYD6.js";import"./chunk-RZ7GFYMN.js";import{a as te}from"./chunk-IOCZ22XI.js";import{d as kr,o as Qi}from"./chunk-EJY3MW2I.js";import"./chunk-3VRAVMMN.js";import"./chunk-YJ45QIWT.js";import"./chunk-WR62TYUO.js";import{d as O,f as ke}from"./chunk-2G2AXMFT.js";import{a as xr,e as Er}from"./chunk-XGFQCNHX.js";import"./chunk-7JF42X5G.js";import"./chunk-4JZ3HIS7.js";import{y as uo}from"./chunk-JLA5HXVC.js";import"./chunk-I4WIGQLD.js";import"./chunk-ZNGQ6IUR.js";import"./chunk-JERFAOJH.js";import{g as Nt}from"./chunk-JXZFOFB5.js";import"./chunk-LYNLETTP.js";import"./chunk-FQ4XEVKF.js";import{c as h}from"./chunk-VMYDP774.js";import{a as W,b as he}from"./chunk-A7LNVEYU.js";import{c as ut,f as j,h as Te}from"./chunk-2YWUVAR3.js";import"./chunk-VA2HGDZT.js";import"./chunk-AKPDCNMH.js";import{Aa as Qe,Bb as Uo,Eb as Tt,Ib as Go,Ka as Ho,Kb as qo,Pa as mo,Qa as _t,S as Wo,Sa as co,Ta as $o,_b as Oe,a as Bo,b as ji,d as dt,e as zi,la as Fe,m as io,na as ze,o as je,pa as Ze,pb as Vo,q as ge,qa as Xe,rb as gt,x as Do,ya as Je}from"./chunk-M54COW6Q.js";import"./chunk-PWWHYQAY.js";import{B as Ke,E as Le,G as ie,H as lo,K as Ee,M as Ye,b as xe,d as Po,h as ao,m as Mo,o as se,p as ft,y as R}from"./chunk-RIJWHGTU.js";import{I as F,l as Ro,v as f}from"./chunk-K4MPEKC5.js";import"./chunk-X6USBUO5.js";import"./chunk-674MHQJQ.js";import{L as H,R as ee,X as w,c as qe}from"./chunk-XIGC6FD5.js";import{a as I,g as Zi}from"./chunk-CXUPEGDW.js";import"./chunk-363VDWOO.js";import"./chunk-7B5WANGL.js";import"./chunk-4P4FGPYZ.js";import"./chunk-YGNOWOE7.js";import"./chunk-RYJHESAH.js";import"./chunk-DOQ5NSSP.js";import"./chunk-VULQOB2N.js";import{f as p,m as t,o}from"./chunk-ICCOEXX5.js";t();o();var Ue=p(I());var Fo=p(P()),lt=p(te());qo();Uo();ke();t();o();var $n=p(Ji()),Me=p(Xi());Vo();var ea=(0,Me.createSelectorCreator)(Me.defaultMemoize,$n.default),rt=ea(e=>{let{createdMap:n={},needSyncMap:r={}}=e.metamask;return{createdMap:n,needSyncMap:r}},Ce,({createdMap:e,needSyncMap:n},r)=>{let s=Boolean(e[r]),i=Boolean(n[r]);return!(!s||i)}),ta=(0,Me.createSelector)(rt,Or,Ce,e=>e.metamask?.walletConfig?.currentNetworkUniqueId||"",nr,ln,Fr,Qo,er,Jo,ir,(e,n,r,s,i,m,a,d,g,_,u)=>{let l=null;_?.length&&n?.[r]&&(l=vr({isReady:n[r]?.coins&&e,defaultBaseCoinsCoinIds:a.size>0?Array.from(a):[],addedCoins:d[r]??[],reducedCoins:g[r]??[],balanceCoins:n[r]?.coins??[],defi:n[r]?.defi,nft:n[r]?.nft,networks:_.map(D=>({chainId:D})),hiddenSmallAssets:u,customFilter:({chainId:D})=>s===""||D===Number(s)}));let T="0",x="0",N="0",y="0",k="0",B="0";if(l){let{tokenTotalAssetsUSD:D,defiTotalAssetsUSD:L,nftTotalAssetsUSD:Y,smallTotalAssetsUSD:Q,platformTotalAssetsUSD:ne}=l;y=Y,k=L,B=D,N=ne,T=D,T=$o(T,Q),m&&(T=co(T,y)),T=co(T,L),x=T,T=_t(T,i?.usdToThisRate??"1")}else return{walletAsset:"--",walletAssetUSD:"--",platformAssetUSD:"--",nftBalanceUSD:"--"};return{walletAsset:T,walletAssetUSD:x,platformAssetUSD:N,nftBalanceUSD:y,defiBalanceUSD:k,tokenBalanceUSD:B}}),Vn=ta;t();o();var E=p(I()),Ve=p(P()),Li=p(te());F();Qi();qo();Uo();t();o();var De=p(I());F();t();o();var vt={root:"_root_h6iyb_1",animation:"_animation_h6iyb_14",text:"_text_h6iyb_17"};var oa=()=>{let[e,n]=(0,De.useState)(!1),r=Nt({dark:"/static/images/dapp/connected-success-dark.json",light:"/static/images/dapp/connected-success-light.json"});return De.default.createElement("div",{className:vt.root},De.default.createElement(Po,{className:vt.animation,path:r,loop:!1,onDataReady:()=>{n(!0)}}),e?De.default.createElement("span",{className:vt.text},f("wallet_home_foot_dapp_connceted")):null)},Un=oa;t();o();var z=p(I()),jn=p(P());t();o();var ho=(r=>(r.ERR_NETWORK="ERR_NETWORK",r.ERR_SERVER_LIMIT="ERR_SERVER_LIMIT",r))(ho||{});ke();t();o();var Gn=p(I());ji();var qn=()=>(0,Gn.useCallback)(e=>{try{let n=e===A.CREATE_FAIL_FROM_SERVER_ERROR?"Server":"Local";Bo.captureException(`CreateWalletToServerInHomePage-${n}`)}catch(n){console.log(n)}},[]);t();o();ke();he();Te();var Bt=p(I()),Kn=p(P());var Yn=()=>{let e=Dr({keyringType:Oe.MPC}),n=(0,Kn.useSelector)(ar),r=(0,Bt.useCallback)(async()=>{Promise.all(e.map(s=>{let i=s?.mpcId||"",m=s?.walletIdentities?.length-1;return j(W.syncMpcwallet,{mpcId:i,deriveIndex:m})})).then(s=>{O().setIsNeedSyncMpcIndex(!1)}).catch(s=>{console.log("syncMpcWallet error:")})},[e?.length]);(0,Bt.useEffect)(()=>{e?.length&&n&&r()},[e?.length,r,n])};var zn=(i=>(i.CREATE_FAIL_FROM_NETWORK_ERROR="CREATE_FAIL_FROM_NETWORK_ERROR",i.CREATE_FAIL_FROM_SERVER_ERROR="CREATE_FAIL_FROM_SERVER_ERROR",i.CREATE_FAIL_FROM_SERVER_LIMIT="CREATE_FAIL_FROM_SERVER_LIMIT",i.PENDING="PENDING",i))(zn||{}),A={...zn,...ho},Zn=()=>{let e=M();Yn();let{needSyncMap:n={},createdMap:r={}}=(0,jn.useSelector)(({metamask:y})=>y),s=Boolean(r[e]),i=Boolean(n[e]),m=qn(),a=fn(),[d,g]=(0,z.useState)(!s||i||a?A.PENDING:""),[_,u]=(0,z.useState)(""),l=(0,z.useCallback)(async()=>{try{await br()}catch(y){g(y?.message)}},[]),T=(0,z.useCallback)(async()=>{let y=await O().getWalletTypeCreated(e);g(A.PENDING);try{await O().createWalletToServer({walletId:e,walletType:y,noticeBackend:!0})}catch(k){switch(k?.message){case"ERR_NETWORK":g(A.CREATE_FAIL_FROM_NETWORK_ERROR),m();break;case"ERR_SERVER_LIMIT":g(A.CREATE_FAIL_FROM_SERVER_LIMIT),m(A.CREATE_FAIL_FROM_SERVER_LIMIT);break;default:g(A.CREATE_FAIL_FROM_SERVER_ERROR),u(k?.message);break}}},[m,e]),x=(0,z.useCallback)(async()=>{try{await O().syncWalletToServer(e)}catch{console.log("sync wallet error")}},[e]),N=(0,z.useCallback)(async()=>{s?i&&await x():await T()},[T,s,i,x]);return(0,z.useEffect)(()=>{(async()=>s&&!i&&(await l(),await O().getAccountKeys()))()},[l,s,i,e]),lr(()=>{g(A.PENDING)},[e]),(0,z.useEffect)(()=>{N()},[N]),(0,z.useEffect)(()=>{!a&&s&&!i&&g("")},[a,s,i]),[{errorType:d,errorMsg:_},{createWalletToServer:T}]};t();o();t();o();F();var $=p(I());t();o();var Xn={btn:"_btn_l5kiz_1"};t();o();var yo=p(I());ke();var Jn=({walletIds:e})=>{let n=(0,yo.useCallback)(async()=>await O().fetchApprovalRisk({accountIds:e}),[e]),r=(0,yo.useCallback)(async()=>{await O().setApprovalRiskRemindLater()},[]);return{fetchApprovalRisk:n,remindLater:r}};var Qn=({walletId:e})=>{let[n,r]=$.default.useState(!1),s=bt(),i=Ar(),m=(0,$.useMemo)(()=>({walletIds:[e]}),[e]),{fetchApprovalRisk:a,remindLater:d}=Jn(m);(0,$.useEffect)(()=>{(async()=>{let{approvalProjectList:u}=await a();u?.length>0&&r(!0)})()},[a]);let g=(0,$.useCallback)(()=>{r(!1),po({go_to_website:!1}),d()},[d]),_=(0,$.useCallback)(()=>{let u=s.web3||`https://${i}/web3`;globalThis.open(u),r(!1),po({go_to_website:!0})},[i,s.web3]);return $.default.createElement(se.Prompt,{visible:n,title:f("wallet_extension_risk_modaltitle_risk_warning"),text:f("wallet_extension_risk_modalsubtitle_risk_warning"),infoType:se.Prompt.INFO_TYPE.warn,hideCloseBtn:!0,alignBottom:!1,footer:$.default.createElement($.default.Fragment,null,$.default.createElement(w,{category:w.CATEGORY.fill,type:w.TYPE.highlight,size:w.SIZE.lg,block:!0,onClick:_},f("wallet_extension_risk_btn_official_website")),$.default.createElement(w,{category:w.CATEGORY.outline,type:w.TYPE.default,size:w.SIZE.lg,className:Xn.btn,block:!0,onClick:g},f("wallet_extension_risk_btn_remind_later")))})};t();o();F();var We=p(I()),rs=p(P());t();o();var ts=p(I());F();t();o();var es={blue:"_blue_1j2vu_1"};var os=()=>{let e=_n();return ts.default.createElement("span",{className:es.blue,onClick:()=>{gn(e)}},f("wallet_extension_home_notification_btn_switch_servers"))};var ns=()=>{let e=M(),n=(0,rs.useSelector)(tr)||{},r=Boolean(n[e]),s=(0,We.useCallback)((a=5)=>{ie.error({key:"networkError",title:f("wallet_extension_toast_asset_error_try_again"),duration:a,placement:ie.DIRECTION.top,desc:We.default.createElement(os,null)})},[]),i=(0,We.useCallback)((a=5)=>{ie.error({key:"serverLimitError",title:f("wallet_extension_home_notif_network_high_traffic"),duration:a,placement:ie.DIRECTION.top})},[]),m=(0,We.useCallback)((a,d=5)=>{ie.error({key:"customAlert",title:a,duration:d,placement:ie.DIRECTION.top})},[]);return{isWalletCreated:r,networkAlert:s,serverLimitAlert:i,customAlert:m}};t();o();var v=p(I());t();o();var re={main:"_main_1x0tq_1",carousel:"_carousel_1x0tq_6",closeWrapper:"_closeWrapper_1x0tq_9",banner:"_banner_1x0tq_17",content:"_content_1x0tq_22",left:"_left_1x0tq_25",title:"_title_1x0tq_29",icon:"_icon_1x0tq_32",buttonIndex:"_buttonIndex_1x0tq_37",switch:"_switch_1x0tq_42"};t();o();var Io=p(I());t();o();var Rt={main:"_main_1li3n_1",line:"_line_1li3n_5",dot:"_dot_1li3n_11"};var ss=({total:e,activeIndex:n,className:r})=>Io.default.createElement(h.FlexBox,{align:h.ALIGN.center,className:`${Rt.main} ${r}`},Array(e).fill("").map((s,i)=>Io.default.createElement("div",{className:n===i?Rt.line:Rt.dot})));t();o();var Pt=p(I());t();o();var nt={main:"_main_15yv0_1",icon:"_icon_15yv0_1",left:"_left_15yv0_9"};var is=({handlePrev:e,handleNext:n,className:r})=>Pt.default.createElement(h.FlexBox,{align:h.ALIGN.center,className:`${nt.main} ${r}`},Pt.default.createElement(oe,{size:oe.SIZE.xxs,onClick:e,icon:"okx-wallet-plugin-left",className:`${nt.icon} ${nt.left} `}),Pt.default.createElement(oe,{size:oe.SIZE.xxs,onClick:n,icon:"okx-wallet-plugin-right",className:nt.icon}));t();o();he();Te();var Z=p(I());zi();var as=p(io());var ls=()=>{let[e,n]=(0,Z.useState)([]),[r,s]=(0,Z.useState)(!1),[i,m]=(0,Z.useState)([]),a=Mo();(0,Z.useEffect)(()=>{(async()=>{let{data:u=[]}=await ut(W.getBannerConfig);n(u)})()},[a]),(0,Z.useEffect)(()=>{(async()=>{let{uiData:u}=await dt.get("uiData");m(u?.closedBannerStore||[])})()},[r]);let d=(0,Z.useMemo)(()=>{let u=e;return i?.length>0&&(u=e.filter(l=>!i.find(T=>T===l.id))),u.map(l=>({...l,img:a==="dark"?l.nightLogo:l.dayLogo}))},[e,i,a]),g=(0,Z.useMemo)(()=>d.length,[d]),_=(0,Z.useCallback)(async u=>{m([...i,u.id]);let{uiData:l}=await dt.get("uiData"),{closedBannerStore:T=[]}=l;T.push(u?.id);let x=(0,as.intersectionWith)(T,e,(N,y)=>N===y?.id);await dt.set({uiData:{...l??{},closedBannerStore:x}}),s(!r)},[i,e,r]);return{bannerList:d,total:g,handleClose:_}};var ms=()=>{let[e,n]=(0,v.useState)(0),[r,s]=(0,v.useState)(!1),i=v.default.useRef(null),m=(0,v.useCallback)(_=>{fo({click_close:!1,banner_id:_.id}),globalThis.open(_.url)},[]),{bannerList:a,total:d,handleClose:g}=ls();return d===0?null:v.default.createElement(h.FlexBox,{className:re.main,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},v.default.createElement(ao,{touchSwitch:d>1,className:re.carousel,autoplay:d>1?5e3:!1,ref:i,loop:d>1,navigation:!1,showIndicators:!1,onChange:_=>{n(_)}},a?.map(_=>v.default.createElement(ao.Slide,null,v.default.createElement(h.FlexBox,{className:re.banner},v.default.createElement(h.FlexBox,{onClick:()=>m(_),className:re.content,align:d===1?h.ALIGN.center:h.ALIGN.start},v.default.createElement("div",{className:re.left},v.default.createElement(G.Text,{ellipsis:{rows:2},size:G.SIZE.sm,strong:500,className:re.title},_.title)),v.default.createElement(oe,{type:oe.TYPE.image,className:re.icon,src:_.img})),v.default.createElement(h.FlexBox,{align:h.ALIGN.center,className:re.closeWrapper,onClick:()=>{fo({click_close:!0,banner_id:_.id}),g(_)}},v.default.createElement(H,{className:"okx-wallet-plugin-close"})))))),d>1&&v.default.createElement("div",null,r?v.default.createElement(is,{className:re.switch,handlePrev:()=>i.current?.prev(),handleNext:()=>i.current?.next()}):v.default.createElement(ss,{total:d,activeIndex:e,className:re.buttonIndex})))};t();o();var Mt=p(I());t();o();var cs={content:"_content_o6jn4_1",wrapper:"_wrapper_o6jn4_9",img:"_img_o6jn4_12",title:"_title_o6jn4_16",text:"_text_o6jn4_19"};t();o();var J=p(I());t();o();var X={skeletonWrapper:"_skeletonWrapper_k76ne_1",tab:"_tab_k76ne_5",tokenList:"_tokenList_k76ne_10",token:"_token_k76ne_10",logo:"_logo_k76ne_18",symbol:"_symbol_k76ne_23",chain:"_chain_k76ne_28",middle:"_middle_k76ne_32",number:"_number_k76ne_35",currency:"_currency_k76ne_40"};var ra=()=>J.default.createElement(h.FlexBox,{direction:h.DIRECTION.vertical,align:h.ALIGN.unset,className:X.skeletonWrapper},J.default.createElement(Ee.Input,{active:!0,className:X.tab}),J.default.createElement(h.FlexBox,{direction:h.DIRECTION.vertical,justify:"space-around",className:X.tokenList},Array(5).fill("").map((e,n)=>J.default.createElement(h.FlexBox,{className:X.token,align:h.ALIGN.center,key:n},J.default.createElement(Ee.Avatar,{active:!0,className:X.logo}),J.default.createElement(h.FlexBox,{direction:h.DIRECTION.vertical,className:X.middle},J.default.createElement(Ee.Input,{active:!0,className:X.symbol}),J.default.createElement(Ee.Input,{active:!0,className:X.chain})),J.default.createElement(h.FlexBox,{direction:h.DIRECTION.vertical,align:h.ALIGN.end,className:X.right},J.default.createElement(Ee.Input,{active:!0,className:X.number}),J.default.createElement(Ee.Input,{active:!0,className:X.currency})))))),ps=ra;t();o();var fs=p(I());F();t();o();var ds={wrapper:"_wrapper_16oot_1"};var us=({tryAgain:e})=>fs.default.createElement(R.State,{title:f("wallet_extension_home_title_network_unavailable"),type:R.State.TYPE.noNetwork,description:f("wallet_extension_home_text_check_network_error"),buttonText:f("wallet_extension_home_btn_try_again"),onButtonClick:()=>{e&&e()},className:ds.wrapper});var _s=({errorType:e,tryAgain:n})=>{let r=e===A.CREATE_FAIL_FROM_NETWORK_ERROR||e===A.CREATE_FAIL_FROM_SERVER_ERROR;if(!r&&e!==A.PENDING)return null;let s=()=>{switch(e){case A.CREATE_FAIL_FROM_NETWORK_ERROR:case A.CREATE_FAIL_FROM_SERVER_ERROR:return Mt.default.createElement(us,{tryAgain:n});case A.PENDING:return Mt.default.createElement(ps,null);default:return null}};return Mt.default.createElement(h.FlexBox,{align:h.ALIGN.center,justify:r?h.ALIGN.center:h.ALIGN.unset,direction:h.DIRECTION.vertical,className:cs.content},s())};t();o();var fe=p(I()),pi=p(P());t();o();var be=p(I());F();var Wt=p(P());t();o();var Dt={homeTabs:"_homeTabs_o2bwr_1",homeTab:"_homeTab_o2bwr_1",active:"_active_o2bwr_13"};var gs=({aptosNftOffers:e})=>{let n=(0,Wt.useSelector)(Re),r=(0,Wt.useDispatch)(),s=Lt(ht),i=(0,be.useMemo)(()=>[f("wallet_extension_nft_tab_coins"),be.default.createElement("div",null,f("wallet_extension_nft_tab_nfts"),e.length>0&&be.default.createElement("span",{className:"new-home-nft-aptos-notify"})),f("wallet_extension_tab_defi")],[e]);return be.default.createElement(Ye,{noLine:!0,className:Dt.homeTabs,activeId:n,size:Ye.SIZE.lg,color:Ye.COLOR.grey,paneSpacing:0,onChange:m=>{let a;switch(m){case 1:a="crypto";break;case 2:a="nfts";break;case 3:a="defi";break;default:break}s({homepage:a}),r(rn.setActiveId({id:m}))}},i.map((m,a)=>be.default.createElement(Ye.TabPane,{className:`${Dt.homeTab} ${+n===a+1?Dt.active:""}`,tab:m,key:a,id:a+1})))};t();o();var Ts={main:"_main_bbmgq_1"};t();o();var V=p(I()),ks=p(te());F();t();o();var No=p(P()),hs=p(te());var ys=()=>{let e=wn(),{currentNetworkUniqueId:n}=(0,No.useSelector)(kt),r=Rr(),s=(0,hs.useHistory)(),i=(0,No.useSelector)(bn),m=M(),a=i?.[m],d=l=>{if(a?.[`${l.symbol}-${l.coinId}`])return a[`${l.symbol}-${l.coinId}`];let T=ot({nearAggregation:!0,coinSymbol:l.symbol,coinId:l.coinId,addressType:""});return`${et}${T}`},g=l=>{if(a?.[`${l.symbol}-${l.coinId}`])return a[`${l.symbol}-${l.coinId}`];let T=ot({btcAggregation:!0,coinSymbol:l.symbol,coinId:l.coinId,addressType:""});return`${et}${T}`},_=async l=>{if(n===""&&a?.[l.symbol])return a[l.symbol];let T=n!==""?l.childrenCoin.find(y=>y.chainId===Number(n)):null;T&&await e(T);let x=T?.coinId||"",N=ot({aggregation:!0,coinSymbol:l.symbol,coinId:x});return`${et}${N}`};return{jumpCoinDetailPage:async l=>{let T="";if(l.aggregation)T=await _(l);else if(jo(l))T=g(l);else if(zo(l))T=d(l);else{await e(l);let x=ot({coinId:l.coinId});T=`${et}${x}`}T&&s.push(T)},coinToCurrencyRate:r}};t();o();var ae=p(I());var xs=p(te());Te();he();Fe();F();t();o();var Is={root:"_root_qmbez_1",alert:"_alert_qmbez_4"};function na(){let[e,n]=(0,ae.useState)(!1),[r,s]=(0,ae.useState)({}),i=(0,xs.useHistory)(),m=Yr(je),a=Be("dex-across-order-info"),{currentNetworkUniqueId:d}=Ie(),g=Hr({localType:je})||[],_=Number(d)===g?.[0]?.realChainId||d==="";return(0,ae.useEffect)(()=>{(()=>{j(W.postPendingFacetOrder,{userWalletAddresses:m,chainId:g?.[0]?.realChainId||1}).then(l=>{if(l.data?.length>0){if(_)n(!0);else{n(!1);return}let T=l.data.filter(x=>Number(x.status)===11&&Number(x.specialOrderType)===3);T?.length>0?(s({orderId:T[0].orderId,toAmount:T[0].toAmount,toTokenSymbol:T[0].toTokenSymbol}),n(!0)):(s(""),n(!1))}else s({}),n(!1)}).catch(l=>{console.log("err",l),s({}),n(!1)})})()},[a,d,_]),e?ae.default.createElement(h.Box,{className:Is.root},ae.default.createElement(xe,{desc:ae.default.createElement("div",null,f("swaptrade_extension_reminder_desc_pending_withdrawal",{token:r?.toTokenSymbol,amount:r?.toAmount}),ae.default.createElement(xe.Link,{onClick:u=>{u.preventDefault(),i.push(`${gr}/${r?.orderId}`)}},f("swaptrade_extension_cell_btn_confirm_withdrawal"))),type:xe.TYPE.info,onClose:()=>{n(!1)}})):null}var Es=na;t();o();var He={button:"_button_blxw2_1",showButton:"_showButton_blxw2_5",coinList:"_coinList_blxw2_13",icon:"_icon_blxw2_16",empty:"_empty_blxw2_20"};var sa=190,xo=({scrollTop:e,hiddenAssets:n,backupHeight:r})=>{let s=An(),{jumpCoinDetailPage:i,coinToCurrencyRate:m}=ys(),a=Br(),{fetch:d}=Ln();En(d,{cacheKey:Sn,staleTime:1e3*60*10});let g=Cn(),_=(0,ks.useHistory)(),u=(0,V.useMemo)(()=>s.length>8&&e>sa,[s.length,e]),{paddingBottom:l,buttonPaddingBottom:T,absoluteBottom:x}=Pe({isButtonAbsolute:u,backupHeight:r});return s.length===0?V.default.createElement("div",{style:{paddingBottom:l+r}},V.default.createElement(R.State,{className:He.empty,type:R.State.TYPE.noRecord,title:f("extension_wallet_home_text_no_added_currencies"),buttonText:f("extension_wallet_home_btn_add_now"),onButtonClick:()=>{_.push(_o)}})):V.default.createElement("div",null,V.default.createElement("div",{style:{paddingBottom:l},className:He.coinList},V.default.createElement(Es,null),V.default.createElement(To,{renderEmpty:!1,dataSource:s,renderItem:N=>{let{image:y,symbol:k,coinAmount:B,currencyAmount:D,coinId:L}=N,Y=g(N),Q=m?.[L]||"0",ne=a?.[L]?.coinPriceChangePercent24h??void 0;return V.default.createElement(To.Coin,{icon:y,price:Q,pricePercent:ne,symbol:k,hidden:n,balance:Y?B:void 0,market:Y?D:void 0,onClick:async()=>{Y&&await i(N)}},!Y&&V.default.createElement(kn,{coinId:N?.coinId}))}})),V.default.createElement("div",{className:`${u?He.showButton:""} ${He.button}`,style:{bottom:x,paddingBottom:T}},V.default.createElement(w,{circle:!0,category:w.CATEGORY.outline,type:w.TYPE.secondary,size:w.SIZE.md,onClick:()=>{_.push(_o)}},V.default.createElement(H,{className:`okx-wallet-plugin-edit-wallet ${He.icon}`}),f("wallet_home_btn_manage_crypto"))))};t();o();var C=p(I());t();o();var U=p(I()),Ys=p(te());F();t();o();var S=p(I()),Gt=p(qe());F();t();o();var le=p(I());var Us=p(qe());t();o();var $s=p(I());F();t();o();var Cs=p(P());function ia(){let e=M(),n=(0,Cs.useDispatch)();return(r,s)=>{let{hideManualHidden:i}=Zr(e),m={id:r,walletId:e,newData:{hiddenStatus:s?ce.SHOW:ce.MANUAL}};n(i&&!s?an(m):sn(m))}}var bs=ia;t();o();t();o();he();Te();var ws=(e,n="")=>j(W.checkHasHiddenNFT,{address:e,chain:n});t();o();var aa=Pr(Jr,nn),As=aa;function la(e){let{currentNetworkUniqueId:n}=Ie(),r=Tn(),[s,i]=As(),{loading:m,runAsync:a,run:d}=It(()=>{let g=r(n).join(",");return g?ws(g,`${n}`).then(_=>{let u=!!_?.data?.ownedHiddenNft;return i(u),u}).catch(()=>(i(!1),!1)):(i(!1),Promise.resolve(!1))},{manual:e?.manual??!0,refreshDeps:[n],onSuccess:g=>{e?.onChecked?.(g)},onError:()=>{}});return{hasHiddenNFT:s,loading:m,checkAsync:a,check:d,setHasHiddenNft:i}}var Ht=la;t();o();var $t="home-page-root-element-id";Fe();t();o();function ma(e,n){return e.includes(n)}var Ss=ma;t();o();var Vt={SHOW:0,HIDE:1};t();o();var Ut={hide:{button:"extension_wallet_filter_btn_hide",error:"extension_wallet_notif_text_hide_unsuccess",success:"extension_wallet_notif_text_hide_success"},show:{button:"extension_wallet_filter_btn_unhide",error:"extension_wallet_notif_text_unhide_unsuccess",success:"extension_wallet_notif_text_unhide_success"},transfer:"extension_wallet_filter_btn_transfer"};t();o();t();o();he();Te();t();o();var Ls={expired:4001,illegal:4002,parsingFailed:4003};var Fs=e=>j(W.changeNFTVisibility,e),Os=e=>{let n=e?.data?.addressTokenErrorMap??{};return Object.values(n).some(r=>Object.values(Ls).includes(r))};t();o();var Eo="nftToken",vs=(e,n)=>{try{let r=localStorage.getItem(Eo)??"{}",s=JSON.parse(r);return localStorage.setItem(Eo,JSON.stringify({...s,[e]:n})),!0}catch{return!1}},Bs=e=>{try{let n=localStorage.getItem(Eo);return n?(JSON.parse(n)??{})?.[e]:void 0}catch{return}};t();o();ke();Fe();t();o();he();Te();var Rs=e=>ut(W.getNFTSignData,{address:e});t();o();he();Te();mo();var Ps={[ze]:1,[Xe]:2,[Je]:2,[Qe]:4,[Ze]:5},Ms=e=>j(W.loginNFT,e);t();o();mo();var Ds={[ze]:ze,[Ze]:Ze,[Qe]:Qe,[Xe]:Xe,[Je]:Je};var ca=e=>Object.values(Ds).includes(e),Ws=async(e,n,r)=>{let s=Ct(n);if(!ca(s))return;let i=await Rs(e),m=i?.data?.signData,a=i?.data?.nonce;if(!m||!a)return;let d=await O().signMessageSilent({from:e,data:m,nonce:a},s,r);if(!d)return;let g={address:e,signature:d,algorithmCode:Ps[s]};if([ge,Do].includes(s)){let u=await O().getPublicKey(e,s,r);g.publicKey=u}return(await Ms(g))?.data?.token};var Hs={LOGIN_ERROR:"LOGIN_ERROR",TOKEN_ERROR:"TOKEN_ERROR"},pa=async({address:e,baseCoinId:n,useNewToken:r,walletId:s})=>{let i=Bs(e);if(!r&&i)return i;try{let m=await Ws(e,n,s);if(!m)throw new Error(Hs.LOGIN_ERROR);return vs(e,m),m}catch{throw new Error(Hs.LOGIN_ERROR)}},ko=0,da=3,Co=async(e,n,r=!1)=>{let{addresses:s,nftId:i,type:m,walletId:a}=n,d=[];for(let _ of s){let u=await pa({address:_,baseCoinId:e,useNewToken:r,walletId:a});d.push(u)}let g=s.reduce((_,u,l)=>(_[u]=d[l],_),{});try{await Fs({nftId:i,type:m,addressTokenMap:g}),ko=0}catch(_){if(Os(_)){if(ko++,ko>da)throw _;await Co(e,n,!0)}else throw _}};function fa(e){let{id:n,baseCoinId:r,onSuccess:s,hiddenStatus:i}=e,m=!Ss([ce.AUTO,ce.MANUAL],i),a=M(),d=Wr(),g=bs(),{check:_}=Ht(),u=m?Ut.hide:Ut.show,l=It(Co,{onError:()=>{lo.error(f(u.error))},onSuccess:(N,[,{nftId:y,type:k}])=>{lo.success(f(u.success)),g(y,k===Vt.SHOW),_(),s?.()},manual:!0}),T=()=>{if(l.loading)return;let N=d(a),y=Ct(r),k=N?.account?.[y],B=Object.values(N?.addressType?.bitcoin??{}).map(D=>D?.address).filter(Boolean);l.run(r,{addresses:y===ge?B:[k],type:m?Vt.HIDE:Vt.SHOW,nftId:n,walletId:a})},x=f(u.button);return{key:"visibility",loading:l.loading,text:x,onClick:T,icon:m?"okx-wallet-plugin-hide":"okx-wallet-plugin-show"}}function ua(e){let{ownerAddress:n,chainId:r,tokenId:s,contractAddress:i}=e,{loading:m,getNFTInfo:a}=On({looker:n,chainId:`${r}`,tokenId:`${s}`,contractAddress:i}),d=vn(),g=async()=>{let u=await a();if(!!u){if(u?.chainName==="Solana"&&u?.sale){let l=se.tip({alignBottom:!1,title:f("extension_wallet_detail_title_transfer_faild"),children:f("extension_wallet_detail_text_transfer_faild"),confirmText:f("wallet_extension_btn_general_ok"),onConfirm:()=>{l.destroy()}});return}d(u)}},_=f(Ut.transfer);return{key:"transfer",loading:m,text:_,onClick:g,icon:"okx-wallet-plugin-transfer"}}function _a(){let e=(0,$s.useRef)(null),n=()=>{e.current?.setVisible(!1)};return pr("scroll",n,{target:document.getElementById($t)}),{popupRef:e,closePopup:n}}function ga(e){let{popupRef:n,closePopup:r}=_a(),{baseCoinId:s,id:i,hiddenStatus:m,ownerAddress:a,chainId:d,contractAddress:g,tokenId:_,transfer:u=!0,visible:l=!0}=e,T=fa({onSuccess:r,baseCoinId:s,id:i,hiddenStatus:m}),x=ua({ownerAddress:a,chainId:d,tokenId:_,contractAddress:g}),N=[];return u&&N.push(x),l&&N.push(T),{popupRef:n,actions:N}}var Vs=ga;t();o();var we={root:"_root_eofou_1",popup:"_popup_eofou_6",item:"_item_eofou_13",iconBox:"_iconBox_eofou_22",loader:"_loader_eofou_30",icon:"_icon_eofou_22"};function Ta(e){let{popupRef:n,actions:r}=Vs(e);return le.default.createElement(h.Box,{className:we.root},le.default.createElement(ft,{content:le.default.createElement(h.Box,{className:we.popup},r.map(s=>le.default.createElement(h.Box,{className:we.item,onClick:s.onClick,key:s.key},le.default.createElement(h.Box,{className:we.iconBox},s.loading?le.default.createElement(ee,{size:ee.SIZE.sm,className:we.loader}):le.default.createElement(H,{className:(0,Us.default)(s.icon,we.icon)})),le.default.createElement(G.Text,{size:G.SIZE.sm},s.text)))),trigger:ft.TRIGGER.click,placement:ft.DIRECTION.topRight,ref:n},le.default.createElement(H,{className:"okds-more"})))}var Gs=Ta;t();o();var st=p(I());var qs=p(qe()),ha=({item:e,index:n})=>{let[r,s]=(0,st.useState)(!1),i=n%2>1?Ke.DIRECTION.top:Ke.DIRECTION.topRight;return st.default.createElement(Ke,{show:r,title:e.collectionName,trigger:Ke.TRIGGER_TYPES.hover,placement:i},st.default.createElement("span",{onMouseOver:()=>{let m=e.isIdentification?127:144;document.querySelector(`.ok-nft--collection-name-hidden-${e.id}`).clientWidth>m&&s(!0)},onMouseLeave:()=>{s(!1)},className:(0,qs.default)("ok-nft--collection-name",{"ok-nft--collection-identification-name":e.isIdentification})},e.collectionName||e.projectName))},Ks=ha;t();o();var pe={clickable:"_clickable_1hwto_1",priceTitle:"_priceTitle_1hwto_4",priceContent:"_priceContent_1hwto_12",priceValue:"_priceValue_1hwto_22",chainImage:"_chainImage_1hwto_27",priceAmount:"_priceAmount_1hwto_32",price:"_price_1hwto_4",noResultImageBox:"_noResultImageBox_1hwto_39",collectionName:"_collectionName_1hwto_43"};var ya=()=>{let e=ye();return Er(e?.initialType)},qt=e=>{let n=ya(),{inImage:r}=e.slot||{},s=me(e.salePrice)||me(e.lastPrice)||me(e.bestOfferPrice),i=f("wallet_extension_nft_detail_text_price"),m="New";e.salePrice?i=f("wallet_extension_nft_detail_text_price"):e.lastPrice?i=f("wallet_extension_nft_detail_text_last"):e.bestOfferPrice&&(i=f("wallet_extension_nft_detail_text_best_offer"));let a=!n&&!e?.needClaim,d=[ce.AUTO,ce.MANUAL].includes(e?.hiddenStatus),g=d&&S.default.createElement("div",{className:"ok-nft--is-hide"},S.default.createElement(H,{className:(0,Gt.default)("okx-wallet-plugin-hide","ok-nft--is-hide-icon")})),_=Nt({dark:"/cdn/assets/imgs/246/690CB9B3F2F4142F.png",light:"/cdn/assets/imgs/246/15101867D98B5C34.png"});return S.default.createElement("div",{className:"ok-nft--main-item"},S.default.createElement("div",{className:pe.clickable,onClick:e.onClick},S.default.createElement("div",{className:"ok-nft--image-box"},S.default.createElement(Fn,{startStatus:e.activeId===2,src:e.image||e.resourceUrl,alt:"",classnames:(0,Gt.default)("ok-nft--image",d&&"ok-nft--image-box-hide"),backupImage:_}),e.isNew&&S.default.createElement("div",{className:"ok-nft--is-new"},m),r?r(g):g),S.default.createElement("div",null,S.default.createElement("div",{className:"ok-nft--collections"},S.default.createElement(Ks,{item:e}),S.default.createElement("div",{className:(0,Gt.default)(`ok-nft--collection-name-hidden-${e.id}`,pe.collectionName)},e.collectionName),e.isIdentification&&S.default.createElement(Le,{alt:"",src:"/static/images/nft/nft-isidentification.svg",className:"ok-nft--flag-image"}),S.default.createElement(Le,{alt:"",src:e.chainIcon,className:"ok-nft--chain-image"})),S.default.createElement("div",{className:"ok-nft--name"},e.name))),S.default.createElement("div",{className:pe.price},S.default.createElement("div",{className:pe.priceTitle},i),S.default.createElement("div",{className:pe.priceContent},S.default.createElement("div",{className:pe.priceValue},s?.currencyUrl&&S.default.createElement(Le,{alt:"",src:`${s?.currencyUrl}`,className:pe.chainImage}),S.default.createElement("div",{className:pe.priceAmount},s?.priceDisplay||"--")),a&&S.default.createElement(Gs,{id:e.id,hiddenStatus:e.hiddenStatus,baseCoinId:e.baseCoinId,ownerAddress:e.ownerAddress,chainId:e.chain,contractAddress:e.contractAddress,tokenId:e.tokenId,...e.actionsProps||{}}))))};var js=({data:e=[],accountAddress:n})=>{let[r,s]=(0,U.useState)(!1),i=(0,Ys.useHistory)(),m=f("extension_home_aptos_nft_card_receivenum",{num:U.default.createElement("span",{key:"language",className:"new-home-page-aptos-notify"},e.length)});return U.default.createElement(U.default.Fragment,null,U.default.createElement(se.Action,{windowStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},onClose:()=>{s(!1)},visible:r,title:U.default.createElement("span",{className:"new-home-page-aptos-title"},f("extension_aptos_nft_title_receiveallowed")),windowClass:"new-home-page-aptos-claim"},U.default.createElement("div",{className:"ok-nft--main-list"},e.map(a=>(a.coverUrl?a.image=a.coverUrl:a.resourceType===1&&(a.image=a.resourceUrl),a.lastPrice=me(a.lastPrice),a.bestOffer=me(a.bestOffer),a.sale=me(a.sale),a.floorPriceDetail=me(a.floorPriceDetail),U.default.createElement(qt,{...a,key:a.tokenId,activeId:2,needClaim:!0,onClick:()=>{i.push({search:`chainId=${a.chain}&contractAddress=${a.contractAddress}&tokenId=${encodeURIComponent(a.tokenId)}&claim=true&offerAddress=${a.offerAddress}&looker=${n}&accountAddress=${n}`,pathname:`${tt}`})}}))))),U.default.createElement("div",{className:"new-home-page-aptos-box"},U.default.createElement(Le,{alt:"",width:32,height:32,className:"new-home-page-aptos-image",src:e[0].coverUrl||e[0].resourceUrl}),U.default.createElement("div",{className:"new-home-page-aptos-text"},m),U.default.createElement("span",{className:"new-home-page-aptos-get",onClick:()=>{e.length>1?s(!0):i.push({search:`chainId=${e[0].chain}&contractAddress=${e[0].contractAddress}&tokenId=${encodeURIComponent(e[0].tokenId)}&claim=true&offerAddress=${e[0].offerAddress}&looker=${n}&accountAddress=${n}`,pathname:`${tt}`})}},f("extension_home_aptos_nft_card_receivenow"))))};t();o();var $e=p(I()),bo=p(Zi());var Zs=p(P());var Xs=p(te());Fe();t();o();var q={INIT:"init",FILTER:"filter"};t();o();var Kt=p(I());F();var Ia=({type:e=q.INIT,hideButton:n=!1})=>{let r=bt(),{resetHideUnverifiedCollection:s}=Ft(),{resetFilterInfo:i}=hn(),m=(0,Kt.useCallback)(()=>{s(),i()},[i,s]),a={[q.INIT]:f("wallet_extension_nft_tab_nfts_desc"),[q.FILTER]:f("wallet_extension_nft_text_no_items_found")},d={[q.INIT]:f("wallet_extension_nft_tab_nfts_btn_explorenfts"),[q.FILTER]:f("wallet_extension_nft_btn_back_to_items")},g={[q.INIT]:R.State.TYPE.noResult,[q.FILTER]:R.State.TYPE.noRecord};return Kt.default.createElement(R.State,{title:a[e],type:g[e],buttonText:n?null:d[e],onButtonClick:n?void 0:()=>{if(e===q.INIT){globalThis.platform.openTab({url:r?.nftMarketPlace});return}m()}})},zs=Ia;var wo=({list:e,filterStatus:n,hasNFTFilter:r=!1})=>{let s=(0,Zs.useSelector)(Re),i=(0,Xs.useHistory)(),{currentWalletSetting:m}=Ft(),{hideNoValue:a,hideManualHidden:d}=m,g=a||d;if(e.length>0)return $e.default.createElement("div",{className:"ok-nft--main-list"},e.map(u=>{let{nftStatusInfo:l}=u,T=l?.data?.nftStatus==="1",N=u?.baseCoinId===Wo&&!!u.inscriptionIdProtocol?u.inscriptionIdProtocol:u?.tokenId;return $e.default.createElement(qt,{key:u.id,...u,tokenId:N,activeId:s,onClick:()=>{i.push({search:`looker=${u.ownerAddress}&chainId=${u.chain}&contractAddress=${u.contractAddress}&tokenId=${encodeURIComponent(N)}`,pathname:`${tt}`})},actionsProps:{transfer:!T},slot:{inImage:y=>T?$e.default.createElement(Bn,{className:"ok-nft-loading-status",tooltip:!0,count:l.data?.txCount}):y}})}));let _=n&&!g?q.FILTER:q.INIT;return $e.default.createElement("div",{className:"ok-nft--main-no-nft"},$e.default.createElement(zs,{hideButton:_===q.INIT&&r,type:_}))};wo.propTypes={list:bo.default.array,filterStatus:bo.default.bool};wo.defaultProps={list:[],filterStatus:!1};var Js=wo;var it=p(P()),jt=p(qe());F();var oi=p(te());t();o();var Yt={showButton:"_showButton_tk4qq_1",loadingButton:"_loadingButton_tk4qq_11",loader:"_loader_tk4qq_16"};t();o();var So=p(I());F();t();o();var Qs=p(io()),Na="read_hidden_nft_tips_walletIds";function xa(e){let{hasHiddenNFT:n=!1}=e,r=M(),[s,i]=dr(Na,{defaultValue:[]});return{showTips:!(r&&s?.includes(r))&&n,onRead:()=>{!r||i((0,Qs.uniq)(s?.concat(r)))}}}var ei=xa;t();o();var Ao={root:"_root_1f2hq_1",alert:"_alert_1f2hq_4"};function Ea(e){let{showTips:n,onRead:r}=ei(e);return n?So.default.createElement(h.Box,{className:Ao.root},So.default.createElement(xe,{desc:f("extension_wallet_filter_notif_filterhide"),type:xe.TYPE.warn,onClose:r,className:Ao.alert})):null}var ti=Ea;var ka=256,ri=({aptosNftOffers:e,aptosAddress:n,scrollTop:r,backupHeight:s})=>{let i=Sr(),m=(0,it.useSelector)(tn),a=(0,it.useSelector)(en),d=(0,it.useSelector)(on),g=(0,C.useRef)(null),_=St(),u=(0,oi.useHistory)(),{list:l,total:T,pageNo:x}=(0,it.useSelector)(Qr),{hasHiddenNFT:N}=Ht({manual:!1}),y=!!i&&Xr(i,zr.hideUnverifiedCollection),k=Object.keys(d).some(_e=>d[_e].length!==0)||y,B=k||N&&l.length<=2;(0,C.useEffect)(()=>{!a&&r>268*Math.ceil(l.length/2)+240-600&&T>l.length&&_({pageNo:x+1})},[r,a,l.length,T,x,_]);let D=(0,C.useMemo)(()=>a&&l.length>0&&r>480,[a,l.length,r]),L=f("wallet_extension_nft_popup_title_filter"),Y=f("extension_wallet_filter_textbtn_filter",{number:Ro.thousandFormat(T)}),Q=B?Y:L,ne=(0,C.useMemo)(()=>B||r>ka,[B,r]),{paddingBottom:mt,buttonPaddingBottom:Se,absoluteBottom:Ge}=Pe({isButtonAbsolute:ne,backupHeight:s}),ct=(0,C.useMemo)(()=>l.length===0&&!B?Se:mt,[Se,B,l.length,mt]);return m?C.default.createElement("div",{className:(0,jt.default)("ok-home--error-parent"),style:{paddingBottom:ct}},C.default.createElement(R.State,{type:R.State.TYPE.noNetwork,title:f("wallet_extension_nft_text_loading_failed"),buttonText:f("wallet_extension_nft_btn_refresh"),onButtonClick:()=>{a||_({pageNo:1})}})):a&&l.length===0?C.default.createElement("div",{className:(0,jt.default)("ok-home--loading-parent")},C.default.createElement(ee,{size:ee.SIZE.xl})):C.default.createElement(C.default.Fragment,null,C.default.createElement("div",{ref:g,style:{paddingBottom:ct}},e.length>0&&C.default.createElement(js,{data:e,accountAddress:n}),C.default.createElement(ti,{hasHiddenNFT:N}),C.default.createElement(Js,{filterStatus:k,list:l,hasNFTFilter:B})),D?C.default.createElement(wr,{className:Yt.loadingButton,offsetBottom:Ge},C.default.createElement("div",{className:"ok-home-page--nft-loading"},C.default.createElement(ee,{size:ee.SIZE.lg,className:Yt.loader}))):C.default.createElement("div",{className:(0,jt.default)(`${ne?Yt.showButton:""}`,"ok-home-bottom-panel--nft","ok-home-bottom-panel__disabled"),style:{bottom:Ge,paddingBottom:Se}},C.default.createElement(w,{icon:"okx-wallet-plugin-filter",type:w.TYPE.secondary,category:B?w.CATEGORY.fill:w.CATEGORY.outline,iconType:w.ICON_POSITION.leading,className:"home-button-nft sticky",onClick:()=>{u.push(ur)}},Q)))};t();o();var zt=p(I());var ni=p(P());var si=()=>{let[e,n]=(0,zt.useState)([]),r=Be("nft-operate"),i=(0,ni.useSelector)(or)?.account?.aptos||"",m=St();return yn(),(0,zt.useEffect)(()=>{(!r||r.data.status===2)&&i&&Mr(i).then(a=>{n(a.list)}),r?.data?.status===2&&setTimeout(()=>{m()},3e3)},[r,m]),{aptosNftOffers:e,aptosAddress:i,fetchNftListData:m}};t();o();var Qt=p(I());t();o();var b=p(I()),ai=p(P());F();t();o();var ii=p(P());var Ca=({metamask:e})=>e?.defiLists,Zt=()=>{let e=M();return(0,ii.useSelector)(Ca)?.[e]};Vo();ke();var Xt="BTC",ba=({hidden:e,isWalletCreated:n})=>{let r=M(),{currentNetworkUniqueId:s}=Ie(),i=Zt(),m=(0,b.useMemo)(()=>i?.filter(y=>y.network!==Xt),[i]),{defiLoading:a,selectedCurrency:d,defiLoadErr:g}=(0,ai.useSelector)(y=>{let{metamask:k}=y;return{defiLoading:k.defiLoading,defiLoadErr:k.defiLoadErr,selectedCurrency:k.selectedCurrency}}),_=()=>{O().fetchDefiList()};(0,b.useEffect)(()=>{n&&_()},[r,n]);let u=()=>b.default.createElement("div",{className:"new-home__defi-loader"},b.default.createElement(ee,{size:ee.SIZE.lg})),l=(0,b.useMemo)(()=>{let y=m||[];return s!==""?y.filter(k=>k.chainId===+s):y},[m,s]),T=(0,b.useMemo)(()=>b.default.createElement("div",{className:"new-home__defi-list"},l.map(y=>b.default.createElement("div",{key:y.id,className:"new-home__defi-list-item",onClick:()=>{!y.web||globalThis.platform.openTab({url:y.web})}},b.default.createElement("img",{src:y.logo,alt:"logo",className:"new-home__defi-list-item-logo"}),b.default.createElement("div",{className:"new-home__defi-list-item-detail"},b.default.createElement("div",{className:"new-home__defi-list-item-detail-platform"},b.default.createElement(wt,{maxWidth:"162px",text:y.platform}),b.default.createElement(H,{className:"okx-wallet-plugin-open-link new-home__defi-list-item-detail-platform-icon"})),b.default.createElement("div",{className:"new-home__defi-list-item-detail-networkNew"},b.default.createElement(wt,{maxWidth:"192px",text:y.networkNew}))),b.default.createElement("div",{className:"new-home__defi-list-item-price"},b.default.createElement(wt,{className:"new-home__defi-list-item-price-text",text:e?"***":`${Xo(_t(y.balance,d.usdToThisRate),{useApproximate:!1,symbol:d.symbol})}`}))))),[l,d,e]),x=()=>b.default.createElement(R.State,{className:"new-home__defi-empty",type:R.State.TYPE.noResult,title:f("wallet_extension_text_enjoy_massive_defi"),buttonText:f("wallet_extension_btn_explore_dapps"),onButtonClick:()=>{globalThis.platform.openTab({url:f("extension_btn_link_okxweb3yield")})}}),N=()=>b.default.createElement(R.State,{type:R.State.TYPE.noNetwork,className:"new-home__defi-error",title:f("wallet_extension_nft_text_loading_failed"),buttonText:f("wallet_extension_nft_btn_refresh"),onButtonClick:()=>{_()}});return g?N():m?b.default.createElement(b.default.Fragment,null,!!l.length&&T,!l.length&&(a?u():x())):u()},li=ba;t();o();var de=p(I());F();t();o();var Jt={main:"_main_sdwvr_1",tip:"_tip_sdwvr_8",icon:"_icon_sdwvr_14"};var mi=()=>{let e=Zt();e=e||[];let n=(0,de.useMemo)(()=>e.some(i=>i.network===Xt),[e]),r=(0,de.useMemo)(()=>e.find(i=>i.network===Xt)?.defiUrl,[e]),s=(0,de.useCallback)(()=>{r&&globalThis.open(r)},[r]);return n?de.default.createElement(h.FlexBox,{className:Jt.main,onClick:s,align:h.ALIGN.center},de.default.createElement("div",{className:Jt.tip},f("extension_defi_mid_textbtn_position_details")),de.default.createElement(H,{className:`okx-wallet-plugin-arrow-small-right ${Jt.icon}`})):null};var ci=({hiddenAssets:e,backupHeight:n,isWalletCreated:r})=>{let{buttonPaddingBottom:s}=Pe({backupHeight:n});return Qt.default.createElement("div",{style:{paddingBottom:s}},Qt.default.createElement(mi,null),Qt.default.createElement(li,{hidden:e,isWalletCreated:r}))};var di=({scrollTop:e,hiddenAssets:n,backupHeight:r,isWalletCreated:s})=>{let i=(0,pi.useSelector)(Re),{aptosNftOffers:m,aptosAddress:a}=si(),d=(0,fe.useMemo)(()=>{switch(i){case 1:return fe.default.createElement(xo,{scrollTop:e,hiddenAssets:n,backupHeight:r});case 2:return fe.default.createElement(ri,{scrollTop:e,aptosNftOffers:m,aptosAddress:a,backupHeight:r});case 3:return fe.default.createElement(ci,{hiddenAssets:n,backupHeight:r,isWalletCreated:s});default:return fe.default.createElement(xo,{scrollTop:e,hiddenAssets:n,backupHeight:r})}},[i,a,m,r,n,e,s]);return fe.default.createElement("div",{className:Ts.main},fe.default.createElement(gs,{aptosNftOffers:m}),d)};t();o();var Ne=p(I());F();t();o();var Ae={iconAniWrapper:"_iconAniWrapper_piy3e_20",iconItem:"_iconItem_piy3e_29",text:"_text_piy3e_35",moveOutAnimation:"_moveOutAnimation_piy3e_38",moveOut:"_moveOut_piy3e_38",moveInAnimation:"_moveInAnimation_piy3e_42",moveIn:"_moveIn_piy3e_42",iconTitle:"_iconTitle_piy3e_54"};var fi=({width:e})=>Ne.default.createElement(h.FlexBox,{align:h.ALIGN.center,direction:h.DIRECTION.vertical,style:{width:e}},Ne.default.createElement(h.Box,{className:Ae.iconAniWrapper},Ne.default.createElement(h.FlexBox,{align:h.ALIGN.center,justify:h.ALIGN.center,className:`${Ae.iconItem} ${Ae.moveInAnimation}`},Ne.default.createElement(oe,{className:"okx-wallet-plugin-toolkit"})),Ne.default.createElement(h.FlexBox,{align:h.ALIGN.center,justify:h.ALIGN.center,direction:h.DIRECTION.vertical,className:`${Ae.iconItem} ${Ae.moveOutAnimation}`},Ne.default.createElement(oe,{className:"okx-wallet-plugin-swap-for-gas"}))),Ne.default.createElement(G.Text,{className:Ae.iconTitle,ellipsis:!0,size:G.SIZE.xs},f("wallet_extension_home_text_toolkit")));t();o();var K=p(I()),to=p(P()),Ti=p(te());var hi=p(qe());F();mo();t();o();var eo={main:"_main_12oim_1",dot:"_dot_12oim_7",title:"_title_12oim_16",icon:"_icon_12oim_20"};t();o();var ui=p(I());Fe();he();Te();ke();var _i=p(P());var gi=()=>{let e=Lr(ge),n=(0,ui.useMemo)(()=>e?.map(i=>i.address)||[],[e]),r=(0,_i.useSelector)(Ce);return yt(async()=>{try{let i=await O().getRequestHeaders({walletId:r,needSign:!0,currency:"usd"}),{data:m=[]}=await j(W.getBtcPendingTx,{txPendingCountReqList:[{addressList:n,chainId:0}]},{headers:i});return m[0]}catch{return{}}})};var yi=()=>{let[e,n]=(0,K.useState)({}),r=(0,to.useSelector)(rt),s=(0,Ti.useHistory)(),i=(0,to.useDispatch)(),m=gi(),a=yt(async()=>{let u=await m();n(u)});(0,K.useEffect)(()=>{r&&a()},[r]);let d=Be("wallet-notice");(0,K.useEffect)(()=>{d&&a()},[d,a]);let g=(0,K.useMemo)(()=>!e||typeof e?.pendingCount!="number"?"":e?.hasMoreCount?f("extension_defi_mid_notif_btc_over100_receive",{minAmt:"100"}):e?.pendingCount&&e?.pendingCount>0?f("extension_defi_mid_notif_btc100_receive",{extension_defi_mid_notif_btc100_receive:e?.pendingCount,maxAmt:e?.pendingCount}):"",[e]),_=()=>{i(Ot({mainCoinId:Ho})),s.push(`${Et}?filterByChain=${0}`)};return!e||typeof e?.pendingCount!="number"||e?.pendingCount===0?null:K.default.createElement(h.FlexBox,{className:eo.main,align:"center",justify:"space-between",onClick:_},K.default.createElement(h.FlexBox,{align:"center"},K.default.createElement("div",{className:eo.dot}),K.default.createElement(G.Text,{type:G.TYPE.default,size:G.SIZE.xs},g)),K.default.createElement(H,{className:(0,hi.default)("okx-wallet-plugin-right",eo.icon)}))};t();o();var ue=p(I());var Ni=p(te());var at=p(P());Fe();t();o();var Ii=[{text:"wallet_home_btn_send",icon:"okx-wallet-plugin-up",type:"SEND"},{text:"wallet_home_btn_receive",icon:"okx-wallet-plugin-down",type:"RECEIVE"},{text:"wallet_extension_homepage_feature_name_swap",icon:"okx-wallet-plugin-swap-2",type:"DEX",disabledText:""},{text:"wallet_extension_header_text_history",icon:"okx-wallet-plugin-history-1",type:"HISTORY"},{text:"wallet_extension_home_text_toolkit",icon:"okx-wallet-plugin-toolkit",type:"MORE"}];var xi=()=>{let e=(0,at.useSelector)(ve),n=At(),r=(0,Ni.useHistory)(),s=(0,at.useDispatch)(),i=Rn(),a=$r({networkId:i?.id?String(i?.id):void 0})?.coinId,{baseCoin:d={}}=Ur(a,!0),g=Wn(d,"",Dn.home),_=(0,at.useSelector)(rr),u=(0,ue.useMemo)(()=>{let{initialType:L,accountMap:Y}=_;if(xr(L)){let Q=Object.keys(Y);return![ge,je].some(ne=>Q.includes(ne))}return!1},[_]),l=(0,ue.useCallback)(()=>{e?n():r.push(`${go}?type=${uo.RECEIVE}`)},[r,e,n]),T=(0,ue.useCallback)(()=>{d?.coinId&&s(Ot({mainCoinId:d?.coinId})),r.push(Et)},[d?.coinId,s,r]),{hasNewFeature:x}=Nn(),N=(0,ue.useCallback)(()=>{r.push(fr)},[r]),y=(0,ue.useCallback)(()=>{r.push(`${go}?type=${uo.SEND}`)},[r]),k=Lt(ht),B=(0,ue.useCallback)(L=>{switch(L.type){case"SEND":{k({homepage:"send"}),y();break}case"RECEIVE":{k({homepage:"receive"}),l();break}case"DEX":{k({homepage:"trade"}),g();break}case"HISTORY":{k({homepage:"history"}),T();break}case"DAPP_CONNECT":{N();break}default:break}},[l,g,T,N,y]),D=(0,ue.useMemo)(()=>Ii.map(L=>L.type==="DEX"?{...L,disabled:u}:L.type==="MORE"?{...L,hasNewFeature:x}:L),[u,x]);return{clickHandle:B,iconOptions:D}};t();o();var oo=p(I()),Ci=p(P());t();o();var Ei=p(I()),ki=p(io());function Lo(){let e=ye();return(0,Ei.useMemo)(()=>{let n=Hn.find(r=>{let s=e?.account?.[r],i=(0,ki.uniq)(Object.values(e?.account??{}));return s&&e.keyringIdentityType===Oe.PRIVATE_KEY&&i.length===1&&i[0]===s});return n?{isFactionPKAccount:!0,chain:n}:{isFactionPKAccount:!1}},[e])}var bi=()=>{let e=ye(),{isFactionPKAccount:n,chain:r}=Lo(),{currentNetworkUniqueId:s}=Ie(),{addresses:i=[],hotAddresses:m=[]}=(0,Ci.useSelector)(Cr),a=(0,oo.useCallback)(u=>n?u.localType===r:s===""?!0:u.chainId===Number(s),[s,n,r]),{filterAddress:d,filterHotAddress:g}=(0,oo.useMemo)(()=>({filterAddress:i.filter(a),filterHotAddress:m.filter(a)}),[i,a,m]),_=d.length===1;return{filterAddress:d,filterHotAddress:g,address:_?d[0]?.address:"",chainName:_?d[0]?.chainName:"",titleLeft:e?.keyringName,titleRight:_?e?.walletName:"",subTitle:_?Yo(d[0]?.address):e?.walletName,isFactionPKAccount:n}};t();o();var wi=p(I()),Ai=p(te());F();var Si=({address:e})=>{let n=(0,Ai.useHistory)(),r=ye(),s=()=>{n.push(`${xt}?fromHome=1`)};return r?.keyringIdentityType===Oe.PRIVATE_KEY&&e==="UQCiCTSKMQTIF8VSGc3F7DxWxJrV09SAbJzc1YvWZ5pgiQAP"?wi.default.createElement(se.Prompt,{visible:!0,infoType:se.Prompt.INFO_TYPE.warn,title:f("wallet_extension_errormsg_unavailable_address"),confirmText:f("wallet_extension_connect_btn_switch_wallet"),onConfirm:s,hideCloseBtn:!0,alignBottom:!1,maskClosable:!1,confirmBtnProps:{type:w.TYPE.highlight,size:w.SIZE.lg}}):null};var Aa=()=>{let{totalUnapprovedCount:e,firstPermissionsRequestId:n}=(0,Ve.useSelector)(pt=>{let Ki=sr(pt),so=hr(pt),Yi=so&&so.metadata?so.metadata.id:null;return{totalUnapprovedCount:Ki,firstPermissionsRequestId:Yi}}),{isWalletCreated:r,networkAlert:s,serverLimitAlert:i,customAlert:m}=ns(),d=Tt()===gt,g=M(),{walletAsset:_,platformAssetUSD:u,nftBalanceUSD:l,defiBalanceUSD:T,tokenBalanceUSD:x}=(0,Ve.useSelector)(Vn),N=At(),[{errorType:y,errorMsg:k},{createWalletToServer:B}]=Zn(),D=pn(),[L,Y]=Vr(),Q=(0,E.useRef)(null),[ne,mt]=(0,E.useState)(0),{isNeedShowDisconnectUpgrade:Se,setDisconnectUpgrade:Ge}=cn(),ct=(0,E.useCallback)(()=>{Se&&(ie.success({title:f("wallet_extension_card_subtitle_disconnect_update")}),Ge())},[Se,Ge]),_e=(0,Ve.useSelector)(ve),Oo=(0,E.useRef)(null),ro=(0,Li.useHistory)(),[Oi,vi]=(0,E.useState)(0),{clickHandle:Bi,iconOptions:Ri}=xi();(0,E.useEffect)(()=>{switch(y){case A.CREATE_FAIL_FROM_NETWORK_ERROR:case A.ERR_NETWORK:s();break;case A.CREATE_FAIL_FROM_SERVER_LIMIT:case A.ERR_SERVER_LIMIT:i();break;case A.CREATE_FAIL_FROM_SERVER_ERROR:m(k);break;default:break}},[m,k,y,s,i]),(0,E.useEffect)(()=>{u!=="--"&&Zo({wallet_id:g,coin_balance:x,nft_balance:l,defi_balance:T,platform_coin_balance:u})},[g,u,l,x,T]);let no=(0,Ve.useSelector)(Kr),Pi=(0,Ve.useSelector)(qr);(0,E.useEffect)(()=>{d&&e===0?!no&&!Pi&&globalThis.platform.closeCurrentWindow():n&&_e&&N({text:f("wallet_dapp_conncetion_alert_backup_wallet")},n)},[_e,no,n,ro,d,e]),mr(()=>{kr()});let{run:Mi}=cr(()=>{vi(Oo.current?.scrollTop||0)},{wait:50,maxWait:50}),{titleLeft:Di,titleRight:Wi,subTitle:Hi,address:vo,chainName:$i,filterAddress:Vi,filterHotAddress:Ui,isFactionPKAccount:Gi}=bi(),qi=async()=>{y!==A.PENDING&&(ie.destroyAll(),await B())};return(0,E.useLayoutEffect)(()=>{Q.current&&_e&&r&&mt(Q.current?.clientHeight||0)},[_e,r]),E.default.createElement("div",{id:$t,className:"ok-home-page main-container",ref:Oo,onScroll:()=>{Mi()}},E.default.createElement(Pn,{titleLeft:Di,titleRight:Wi,subTitle:Hi,address:vo,chainName:$i,filterAddress:Vi,filterHotAddress:Ui,isNotBackupWallet:_e,isFactionPKAccount:Gi}),E.default.createElement(In,{balance:_,hiddenAssets:L,onToggleHiddenAssets:Y}),E.default.createElement(xn,{clickHandle:Bi,iconOptions:Ri,customMore:pt=>E.default.createElement(fi,{width:pt})}),E.default.createElement(yi,null),E.default.createElement(ms,null),E.default.createElement(di,{scrollTop:Oi,hiddenAssets:L,backupHeight:_e?ne+24:0,isWalletCreated:r}),r&&E.default.createElement("div",{ref:Q},E.default.createElement(mn,{offsetBottom:24})),E.default.createElement(dn,{disconnectCallback:ct}),no&&E.default.createElement(Un,null),r&&E.default.createElement(Mn,{showBackup:()=>{N({text:f("wallet_dapp_conncetion_alert_backup_wallet")},n)}}),D&&E.default.createElement(un,{actionMap:{["RECOVER"]:()=>{ro.push(`${Tr}?action=${Gr.RECOVER}&walletId=${g}`)},["SWITCH_WALLET"]:()=>{ro.push(`${xt}?fromHome=1`)}}}),E.default.createElement(Qn,{walletId:g}),E.default.createElement(_s,{tryAgain:qi,errorType:y}),E.default.createElement(Si,{address:vo}))},Fi=Aa;var mI=()=>{let{search:e}=(0,lt.useLocation)(),{isRpcMode:n,isNotBackup:r,permissionsRequestId:s,dappRequestOrigin:i,currentWalletId:m,optType:a}=(0,Fo.useSelector)(l=>({isRpcMode:kt(l)?.isRpcMode,permissionsRequestId:yr(l),isNotBackup:ve(l),dappRequestOrigin:jr(l),currentWalletId:Ce(l),optType:Ir(l)})),g=Tt()===gt,_=(0,Fo.useSelector)(rt);(0,Ue.useEffect)(()=>{O().getCurrencies(),_&&O().addCoinBatchToServerForPatch(),Ko({islogin:"yes",isbydapp:g?"yes":"no",dapp_url:Go?"www.okx.com/pc":i,wallet_id:m})},[m,_]);let u=Nr({isRpcMode:n,isNotBackup:r,permissionsRequestId:s,lastOptType:a});return u?Ue.default.createElement(lt.Redirect,{to:u}):n?Ue.default.createElement(lt.Redirect,{to:`${_r}${e}`}):Ue.default.createElement(Fi,null)};export{mI as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=new-home-page-3V55ATWM.js.map
