import{a as Jt}from"./chunk-LBYCQPAD.js";import{a as N,b as k}from"./chunk-JERFAOJH.js";import{a as ze,b as Se,o as We,s as Ye}from"./chunk-FQ4XEVKF.js";import{H as He}from"./chunk-RIJWHGTU.js";import{d as Ve,e as Qt}from"./chunk-DOQ5NSSP.js";import{c as x,f as Zt,l as process,m as f,n as h,o as p}from"./chunk-ICCOEXX5.js";var W=x((As,Ke)=>{f();p();var en="2.0.0",rn=Number.MAX_SAFE_INTEGER||9007199254740991,tn=16;Ke.exports={SEMVER_SPEC_VERSION:en,MAX_LENGTH:256,MAX_SAFE_INTEGER:rn,MAX_SAFE_COMPONENT_LENGTH:tn}});var Y=x((Ds,Ze)=>{f();p();var nn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Ze.exports=nn});var M=x((b,Qe)=>{f();p();var{MAX_SAFE_COMPONENT_LENGTH:Ne}=W(),sn=Y();b=Qe.exports={};var on=b.re=[],v=b.src=[],E=b.t={},an=0,R=(t,e,r)=>{let n=an++;sn(n,e),E[t]=n,v[n]=e,on[n]=new RegExp(e,r?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*");R("NUMERICIDENTIFIERLOOSE","[0-9]+");R("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");R("MAINVERSION",`(${v[E.NUMERICIDENTIFIER]})\\.(${v[E.NUMERICIDENTIFIER]})\\.(${v[E.NUMERICIDENTIFIER]})`);R("MAINVERSIONLOOSE",`(${v[E.NUMERICIDENTIFIERLOOSE]})\\.(${v[E.NUMERICIDENTIFIERLOOSE]})\\.(${v[E.NUMERICIDENTIFIERLOOSE]})`);R("PRERELEASEIDENTIFIER",`(?:${v[E.NUMERICIDENTIFIER]}|${v[E.NONNUMERICIDENTIFIER]})`);R("PRERELEASEIDENTIFIERLOOSE",`(?:${v[E.NUMERICIDENTIFIERLOOSE]}|${v[E.NONNUMERICIDENTIFIER]})`);R("PRERELEASE",`(?:-(${v[E.PRERELEASEIDENTIFIER]}(?:\\.${v[E.PRERELEASEIDENTIFIER]})*))`);R("PRERELEASELOOSE",`(?:-?(${v[E.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${v[E.PRERELEASEIDENTIFIERLOOSE]})*))`);R("BUILDIDENTIFIER","[0-9A-Za-z-]+");R("BUILD",`(?:\\+(${v[E.BUILDIDENTIFIER]}(?:\\.${v[E.BUILDIDENTIFIER]})*))`);R("FULLPLAIN",`v?${v[E.MAINVERSION]}${v[E.PRERELEASE]}?${v[E.BUILD]}?`);R("FULL",`^${v[E.FULLPLAIN]}$`);R("LOOSEPLAIN",`[v=\\s]*${v[E.MAINVERSIONLOOSE]}${v[E.PRERELEASELOOSE]}?${v[E.BUILD]}?`);R("LOOSE",`^${v[E.LOOSEPLAIN]}$`);R("GTLT","((?:<|>)?=?)");R("XRANGEIDENTIFIERLOOSE",`${v[E.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);R("XRANGEIDENTIFIER",`${v[E.NUMERICIDENTIFIER]}|x|X|\\*`);R("XRANGEPLAIN",`[v=\\s]*(${v[E.XRANGEIDENTIFIER]})(?:\\.(${v[E.XRANGEIDENTIFIER]})(?:\\.(${v[E.XRANGEIDENTIFIER]})(?:${v[E.PRERELEASE]})?${v[E.BUILD]}?)?)?`);R("XRANGEPLAINLOOSE",`[v=\\s]*(${v[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${v[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${v[E.XRANGEIDENTIFIERLOOSE]})(?:${v[E.PRERELEASELOOSE]})?${v[E.BUILD]}?)?)?`);R("XRANGE",`^${v[E.GTLT]}\\s*${v[E.XRANGEPLAIN]}$`);R("XRANGELOOSE",`^${v[E.GTLT]}\\s*${v[E.XRANGEPLAINLOOSE]}$`);R("COERCE",`(^|[^\\d])(\\d{1,${Ne}})(?:\\.(\\d{1,${Ne}}))?(?:\\.(\\d{1,${Ne}}))?(?:$|[^\\d])`);R("COERCERTL",v[E.COERCE],!0);R("LONETILDE","(?:~>?)");R("TILDETRIM",`(\\s*)${v[E.LONETILDE]}\\s+`,!0);b.tildeTrimReplace="$1~";R("TILDE",`^${v[E.LONETILDE]}${v[E.XRANGEPLAIN]}$`);R("TILDELOOSE",`^${v[E.LONETILDE]}${v[E.XRANGEPLAINLOOSE]}$`);R("LONECARET","(?:\\^)");R("CARETTRIM",`(\\s*)${v[E.LONECARET]}\\s+`,!0);b.caretTrimReplace="$1^";R("CARET",`^${v[E.LONECARET]}${v[E.XRANGEPLAIN]}$`);R("CARETLOOSE",`^${v[E.LONECARET]}${v[E.XRANGEPLAINLOOSE]}$`);R("COMPARATORLOOSE",`^${v[E.GTLT]}\\s*(${v[E.LOOSEPLAIN]})$|^$`);R("COMPARATOR",`^${v[E.GTLT]}\\s*(${v[E.FULLPLAIN]})$|^$`);R("COMPARATORTRIM",`(\\s*)${v[E.GTLT]}\\s*(${v[E.LOOSEPLAIN]}|${v[E.XRANGEPLAIN]})`,!0);b.comparatorTrimReplace="$1$2$3";R("HYPHENRANGE",`^\\s*(${v[E.XRANGEPLAIN]})\\s+-\\s+(${v[E.XRANGEPLAIN]})\\s*$`);R("HYPHENRANGELOOSE",`^\\s*(${v[E.XRANGEPLAINLOOSE]})\\s+-\\s+(${v[E.XRANGEPLAINLOOSE]})\\s*$`);R("STAR","(<|>)?=?\\s*\\*");R("GTE0","^\\s*>=\\s*0.0.0\\s*$");R("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var K=x((_s,Je)=>{f();p();var cn=["includePrerelease","loose","rtl"],un=t=>t?typeof t!="object"?{loose:!0}:cn.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};Je.exports=un});var oe=x((Fs,tr)=>{f();p();var er=/^[0-9]+$/,rr=(t,e)=>{let r=er.test(t),n=er.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},ln=(t,e)=>rr(e,t);tr.exports={compareIdentifiers:rr,rcompareIdentifiers:ln}});var y=x((Bs,or)=>{f();p();var ae=Y(),{MAX_LENGTH:nr,MAX_SAFE_INTEGER:ce}=W(),{re:ir,t:sr}=M(),fn=K(),{compareIdentifiers:Z}=oe(),L=class{constructor(e,r){if(r=fn(r),e instanceof L){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>nr)throw new TypeError(`version is longer than ${nr} characters`);ae("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?ir[sr.LOOSE]:ir[sr.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ce||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ce||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ce||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<ce)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ae("SemVer.compare",this.version,this.options,e),!(e instanceof L)){if(typeof e=="string"&&e===this.version)return 0;e=new L(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof L||(e=new L(e,this.options)),Z(this.major,e.major)||Z(this.minor,e.minor)||Z(this.patch,e.patch)}comparePre(e){if(e instanceof L||(e=new L(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=e.prerelease[r];if(ae("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Z(n,s)}while(++r)}compareBuild(e){e instanceof L||(e=new L(e,this.options));let r=0;do{let n=this.build[r],s=e.build[r];if(ae("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Z(n,s)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};or.exports=L});var B=x((Xs,lr)=>{f();p();var{MAX_LENGTH:pn}=W(),{re:ar,t:cr}=M(),ur=y(),dn=K(),hn=(t,e)=>{if(e=dn(e),t instanceof ur)return t;if(typeof t!="string"||t.length>pn||!(e.loose?ar[cr.LOOSE]:ar[cr.FULL]).test(t))return null;try{return new ur(t,e)}catch{return null}};lr.exports=hn});var pr=x((zs,fr)=>{f();p();var vn=B(),En=(t,e)=>{let r=vn(t,e);return r?r.version:null};fr.exports=En});var hr=x((Ks,dr)=>{f();p();var mn=B(),gn=(t,e)=>{let r=mn(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};dr.exports=gn});var Er=x((Js,vr)=>{f();p();var xn=y(),In=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new xn(t,r).inc(e,n).version}catch{return null}};vr.exports=In});var D=x((to,gr)=>{f();p();var mr=y(),Rn=(t,e,r)=>new mr(t,r).compare(new mr(e,r));gr.exports=Rn});var ue=x((so,xr)=>{f();p();var Tn=D(),wn=(t,e,r)=>Tn(t,e,r)===0;xr.exports=wn});var Tr=x((co,Rr)=>{f();p();var Ir=B(),Sn=ue(),Nn=(t,e)=>{if(Sn(t,e))return null;{let r=Ir(t),n=Ir(e),s=r.prerelease.length||n.prerelease.length,i=s?"pre":"",o=s?"prerelease":"";for(let c in r)if((c==="major"||c==="minor"||c==="patch")&&r[c]!==n[c])return i+c;return o}};Rr.exports=Nn});var Sr=x((fo,wr)=>{f();p();var yn=y(),An=(t,e)=>new yn(t,e).major;wr.exports=An});var yr=x((vo,Nr)=>{f();p();var On=y(),Ln=(t,e)=>new On(t,e).minor;Nr.exports=Ln});var Or=x((go,Ar)=>{f();p();var Dn=y(),$n=(t,e)=>new Dn(t,e).patch;Ar.exports=$n});var Dr=x((Ro,Lr)=>{f();p();var Cn=B(),Pn=(t,e)=>{let r=Cn(t,e);return r&&r.prerelease.length?r.prerelease:null};Lr.exports=Pn});var Cr=x((So,$r)=>{f();p();var qn=D(),_n=(t,e,r)=>qn(e,t,r);$r.exports=_n});var qr=x((Ao,Pr)=>{f();p();var Un=D(),bn=(t,e)=>Un(t,e,!0);Pr.exports=bn});var le=x((Do,Ur)=>{f();p();var _r=y(),Fn=(t,e,r)=>{let n=new _r(t,r),s=new _r(e,r);return n.compare(s)||n.compareBuild(s)};Ur.exports=Fn});var Fr=x((Po,br)=>{f();p();var kn=le(),Mn=(t,e)=>t.sort((r,n)=>kn(r,n,e));br.exports=Mn});var Mr=x((Uo,kr)=>{f();p();var Bn=le(),Gn=(t,e)=>t.sort((r,n)=>Bn(n,r,e));kr.exports=Gn});var Q=x((ko,Br)=>{f();p();var jn=D(),Xn=(t,e,r)=>jn(t,e,r)>0;Br.exports=Xn});var fe=x((Go,Gr)=>{f();p();var Vn=D(),Hn=(t,e,r)=>Vn(t,e,r)<0;Gr.exports=Hn});var ye=x((Vo,jr)=>{f();p();var zn=D(),Wn=(t,e,r)=>zn(t,e,r)!==0;jr.exports=Wn});var pe=x((Wo,Xr)=>{f();p();var Yn=D(),Kn=(t,e,r)=>Yn(t,e,r)>=0;Xr.exports=Kn});var de=x((Zo,Vr)=>{f();p();var Zn=D(),Qn=(t,e,r)=>Zn(t,e,r)<=0;Vr.exports=Qn});var Ae=x((ea,Hr)=>{f();p();var Jn=ue(),ei=ye(),ri=Q(),ti=pe(),ni=fe(),ii=de(),si=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Jn(t,r,n);case"!=":return ei(t,r,n);case">":return ri(t,r,n);case">=":return ti(t,r,n);case"<":return ni(t,r,n);case"<=":return ii(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Hr.exports=si});var Wr=x((na,zr)=>{f();p();var oi=y(),ai=B(),{re:he,t:ve}=M(),ci=(t,e)=>{if(t instanceof oi)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(he[ve.COERCE]);else{let n;for(;(n=he[ve.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),he[ve.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;he[ve.COERCERTL].lastIndex=-1}return r===null?null:ai(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};zr.exports=ci});var $=x((oa,Qr)=>{f();p();var G=class{constructor(e,r){if(r=li(r),e instanceof G)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new G(e.raw,r);if(e instanceof Oe)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!Kr(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&vi(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,s=Yr.get(n);if(s)return s;let i=this.options.loose,o=i?A[w.HYPHENRANGELOOSE]:A[w.HYPHENRANGE];e=e.replace(o,Ni(this.options.includePrerelease)),T("hyphen replace",e),e=e.replace(A[w.COMPARATORTRIM],pi),T("comparator trim",e,A[w.COMPARATORTRIM]),e=e.replace(A[w.TILDETRIM],di),e=e.replace(A[w.CARETTRIM],hi),e=e.split(/\s+/).join(" ");let c=i?A[w.COMPARATORLOOSE]:A[w.COMPARATOR],u=e.split(" ").map(I=>Ei(I,this.options)).join(" ").split(/\s+/).map(I=>Si(I,this.options)).filter(this.options.loose?I=>!!I.match(c):()=>!0).map(I=>new Oe(I,this.options)),a=u.length,d=new Map;for(let I of u){if(Kr(I))return[I];d.set(I.value,I)}d.size>1&&d.has("")&&d.delete("");let g=[...d.values()];return Yr.set(n,g),g}intersects(e,r){if(!(e instanceof G))throw new TypeError("a Range is required");return this.set.some(n=>Zr(n,r)&&e.set.some(s=>Zr(s,r)&&n.every(i=>s.every(o=>i.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new fi(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(yi(this.set[r],e,this.options))return!0;return!1}};Qr.exports=G;var ui=Jt(),Yr=new ui({max:1e3}),li=K(),Oe=J(),T=Y(),fi=y(),{re:A,t:w,comparatorTrimReplace:pi,tildeTrimReplace:di,caretTrimReplace:hi}=M(),Kr=t=>t.value==="<0.0.0-0",vi=t=>t.value==="",Zr=(t,e)=>{let r=!0,n=t.slice(),s=n.pop();for(;r&&n.length;)r=n.every(i=>s.intersects(i,e)),s=n.pop();return r},Ei=(t,e)=>(T("comp",t,e),t=xi(t,e),T("caret",t),t=mi(t,e),T("tildes",t),t=Ri(t,e),T("xrange",t),t=wi(t,e),T("stars",t),t),O=t=>!t||t.toLowerCase()==="x"||t==="*",mi=(t,e)=>t.trim().split(/\s+/).map(r=>gi(r,e)).join(" "),gi=(t,e)=>{let r=e.loose?A[w.TILDELOOSE]:A[w.TILDE];return t.replace(r,(n,s,i,o,c)=>{T("tilde",t,n,s,i,o,c);let u;return O(s)?u="":O(i)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:O(o)?u=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:c?(T("replaceTilde pr",c),u=`>=${s}.${i}.${o}-${c} <${s}.${+i+1}.0-0`):u=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,T("tilde return",u),u})},xi=(t,e)=>t.trim().split(/\s+/).map(r=>Ii(r,e)).join(" "),Ii=(t,e)=>{T("caret",t,e);let r=e.loose?A[w.CARETLOOSE]:A[w.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(s,i,o,c,u)=>{T("caret",t,s,i,o,c,u);let a;return O(i)?a="":O(o)?a=`>=${i}.0.0${n} <${+i+1}.0.0-0`:O(c)?i==="0"?a=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:a=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:u?(T("replaceCaret pr",u),i==="0"?o==="0"?a=`>=${i}.${o}.${c}-${u} <${i}.${o}.${+c+1}-0`:a=`>=${i}.${o}.${c}-${u} <${i}.${+o+1}.0-0`:a=`>=${i}.${o}.${c}-${u} <${+i+1}.0.0-0`):(T("no pr"),i==="0"?o==="0"?a=`>=${i}.${o}.${c}${n} <${i}.${o}.${+c+1}-0`:a=`>=${i}.${o}.${c}${n} <${i}.${+o+1}.0-0`:a=`>=${i}.${o}.${c} <${+i+1}.0.0-0`),T("caret return",a),a})},Ri=(t,e)=>(T("replaceXRanges",t,e),t.split(/\s+/).map(r=>Ti(r,e)).join(" ")),Ti=(t,e)=>{t=t.trim();let r=e.loose?A[w.XRANGELOOSE]:A[w.XRANGE];return t.replace(r,(n,s,i,o,c,u)=>{T("xRange",t,n,s,i,o,c,u);let a=O(i),d=a||O(o),g=d||O(c),I=g;return s==="="&&I&&(s=""),u=e.includePrerelease?"-0":"",a?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&I?(d&&(o=0),c=0,s===">"?(s=">=",d?(i=+i+1,o=0,c=0):(o=+o+1,c=0)):s==="<="&&(s="<",d?i=+i+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+i}.${o}.${c}${u}`):d?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:g&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),T("xRange return",n),n})},wi=(t,e)=>(T("replaceStars",t,e),t.trim().replace(A[w.STAR],"")),Si=(t,e)=>(T("replaceGTE0",t,e),t.trim().replace(A[e.includePrerelease?w.GTE0PRE:w.GTE0],"")),Ni=t=>(e,r,n,s,i,o,c,u,a,d,g,I,m)=>(O(n)?r="":O(s)?r=`>=${n}.0.0${t?"-0":""}`:O(i)?r=`>=${n}.${s}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,O(a)?u="":O(d)?u=`<${+a+1}.0.0-0`:O(g)?u=`<${a}.${+d+1}.0-0`:I?u=`<=${a}.${d}.${g}-${I}`:t?u=`<${a}.${d}.${+g+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),yi=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(T(t[n].semver),t[n].semver!==Oe.ANY&&t[n].semver.prerelease.length>0){let s=t[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var J=x((ua,nt)=>{f();p();var ee=Symbol("SemVer ANY"),X=class{static get ANY(){return ee}constructor(e,r){if(r=Ai(r),e instanceof X){if(e.loose===!!r.loose)return e;e=e.value}De("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ee?this.value="":this.value=this.operator+this.semver.version,De("comp",this)}parse(e){let r=this.options.loose?Jr[et.COMPARATORLOOSE]:Jr[et.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new rt(n[2],this.options.loose):this.semver=ee}toString(){return this.value}test(e){if(De("Comparator.test",e,this.options.loose),this.semver===ee||e===ee)return!0;if(typeof e=="string")try{e=new rt(e,this.options)}catch{return!1}return Le(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof X))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new tt(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new tt(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),i=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),c=Le(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=Le(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||s||i&&o||c||u}};nt.exports=X;var Ai=K(),{re:Jr,t:et}=M(),Le=Ae(),De=Y(),rt=y(),tt=$()});var re=x((pa,it)=>{f();p();var Oi=$(),Li=(t,e,r)=>{try{e=new Oi(e,r)}catch{return!1}return e.test(t)};it.exports=Li});var ot=x((va,st)=>{f();p();var Di=$(),$i=(t,e)=>new Di(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));st.exports=$i});var ct=x((ga,at)=>{f();p();var Ci=y(),Pi=$(),qi=(t,e,r)=>{let n=null,s=null,i=null;try{i=new Pi(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new Ci(n,r))}),n};at.exports=qi});var lt=x((Ra,ut)=>{f();p();var _i=y(),Ui=$(),bi=(t,e,r)=>{let n=null,s=null,i=null;try{i=new Ui(e,r)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new _i(n,r))}),n};ut.exports=bi});var dt=x((Sa,pt)=>{f();p();var $e=y(),Fi=$(),ft=Q(),ki=(t,e)=>{t=new Fi(t,e);let r=new $e("0.0.0");if(t.test(r)||(r=new $e("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let s=t.set[n],i=null;s.forEach(o=>{let c=new $e(o.semver.version);switch(o.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!i||ft(c,i))&&(i=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||ft(r,i))&&(r=i)}return r&&t.test(r)?r:null};pt.exports=ki});var vt=x((Aa,ht)=>{f();p();var Mi=$(),Bi=(t,e)=>{try{return new Mi(t,e).range||"*"}catch{return null}};ht.exports=Bi});var Ee=x((Da,xt)=>{f();p();var Gi=y(),gt=J(),{ANY:ji}=gt,Xi=$(),Vi=re(),Et=Q(),mt=fe(),Hi=de(),zi=pe(),Wi=(t,e,r,n)=>{t=new Gi(t,n),e=new Xi(e,n);let s,i,o,c,u;switch(r){case">":s=Et,i=Hi,o=mt,c=">",u=">=";break;case"<":s=mt,i=zi,o=Et,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Vi(t,e,n))return!1;for(let a=0;a<e.set.length;++a){let d=e.set[a],g=null,I=null;if(d.forEach(m=>{m.semver===ji&&(m=new gt(">=0.0.0")),g=g||m,I=I||m,s(m.semver,g.semver,n)?g=m:o(m.semver,I.semver,n)&&(I=m)}),g.operator===c||g.operator===u||(!I.operator||I.operator===c)&&i(t,I.semver))return!1;if(I.operator===u&&o(t,I.semver))return!1}return!0};xt.exports=Wi});var Rt=x((Pa,It)=>{f();p();var Yi=Ee(),Ki=(t,e,r)=>Yi(t,e,">",r);It.exports=Ki});var wt=x((Ua,Tt)=>{f();p();var Zi=Ee(),Qi=(t,e,r)=>Zi(t,e,"<",r);Tt.exports=Qi});var yt=x((ka,Nt)=>{f();p();var St=$(),Ji=(t,e,r)=>(t=new St(t,r),e=new St(e,r),t.intersects(e));Nt.exports=Ji});var Ot=x((Ga,At)=>{f();p();var es=re(),rs=D();At.exports=(t,e,r)=>{let n=[],s=null,i=null,o=t.sort((d,g)=>rs(d,g,r));for(let d of o)es(d,e,r)?(i=d,s||(s=d)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let c=[];for(let[d,g]of n)d===g?c.push(d):!g&&d===o[0]?c.push("*"):g?d===o[0]?c.push(`<=${g}`):c.push(`${d} - ${g}`):c.push(`>=${d}`);let u=c.join(" || "),a=typeof e.raw=="string"?e.raw:String(e);return u.length<a.length?u:e}});var Pt=x((Va,Ct)=>{f();p();var Lt=$(),me=J(),{ANY:Ce}=me,te=re(),Pe=D(),ts=(t,e,r={})=>{if(t===e)return!0;t=new Lt(t,r),e=new Lt(e,r);let n=!1;e:for(let s of t.set){for(let i of e.set){let o=ns(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},ns=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Ce){if(e.length===1&&e[0].semver===Ce)return!0;r.includePrerelease?t=[new me(">=0.0.0-0")]:t=[new me(">=0.0.0")]}if(e.length===1&&e[0].semver===Ce){if(r.includePrerelease)return!0;e=[new me(">=0.0.0")]}let n=new Set,s,i;for(let m of t)m.operator===">"||m.operator===">="?s=Dt(s,m,r):m.operator==="<"||m.operator==="<="?i=$t(i,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(s&&i){if(o=Pe(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let m of n){if(s&&!te(m,String(s),r)||i&&!te(m,String(i),r))return null;for(let U of e)if(!te(m,String(U),r))return!1;return!0}let c,u,a,d,g=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,I=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;g&&g.prerelease.length===1&&i.operator==="<"&&g.prerelease[0]===0&&(g=!1);for(let m of e){if(d=d||m.operator===">"||m.operator===">=",a=a||m.operator==="<"||m.operator==="<=",s){if(I&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===I.major&&m.semver.minor===I.minor&&m.semver.patch===I.patch&&(I=!1),m.operator===">"||m.operator===">="){if(c=Dt(s,m,r),c===m&&c!==s)return!1}else if(s.operator===">="&&!te(s.semver,String(m),r))return!1}if(i){if(g&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===g.major&&m.semver.minor===g.minor&&m.semver.patch===g.patch&&(g=!1),m.operator==="<"||m.operator==="<="){if(u=$t(i,m,r),u===m&&u!==i)return!1}else if(i.operator==="<="&&!te(i.semver,String(m),r))return!1}if(!m.operator&&(i||s)&&o!==0)return!1}return!(s&&a&&!i&&o!==0||i&&d&&!s&&o!==0||I||g)},Dt=(t,e,r)=>{if(!t)return e;let n=Pe(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},$t=(t,e,r)=>{if(!t)return e;let n=Pe(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Ct.exports=ts});var _t=x((Wa,qt)=>{f();p();var qe=M();qt.exports={re:qe.re,src:qe.src,tokens:qe.t,SEMVER_SPEC_VERSION:W().SEMVER_SPEC_VERSION,SemVer:y(),compareIdentifiers:oe().compareIdentifiers,rcompareIdentifiers:oe().rcompareIdentifiers,parse:B(),valid:pr(),clean:hr(),inc:Er(),diff:Tr(),major:Sr(),minor:yr(),patch:Or(),prerelease:Dr(),compare:D(),rcompare:Cr(),compareLoose:qr(),compareBuild:le(),sort:Fr(),rsort:Mr(),gt:Q(),lt:fe(),eq:ue(),neq:ye(),gte:pe(),lte:de(),cmp:Ae(),coerce:Wr(),Comparator:J(),Range:$(),satisfies:re(),toComparators:ot(),maxSatisfying:ct(),minSatisfying:lt(),minVersion:dt(),validRange:vt(),outside:Ee(),gtr:Rt(),ltr:wt(),intersects:yt(),simplifyRange:Ot(),subset:Pt()}});f();p();f();p();var be=Zt(_t()),Ue=function(){return Ue=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ue.apply(this,arguments)},j;var S;(function(t){t.blue="blue",t.nanoS="nanoS",t.nanoSP="nanoSP",t.nanoX="nanoX",t.stax="stax"})(S||(S={}));var Fe=(j={},j[S.blue]={id:S.blue,productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(t){return 4*1024}},j[S.nanoS]={id:S.nanoS,productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(t){var e;return be.default.lt((e=be.default.coerce(t))!==null&&e!==void 0?e:"","2.0.0")?4*1024:2*1024}},j[S.nanoSP]={id:S.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(t){return 32}},j[S.nanoX]={id:S.nanoX,productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(t){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},j[S.stax]={id:S.stax,productName:"Ledger\xA0Stax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1536*1024,masks:[857735168],getBlockSize:function(t){return 32},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},j),Za={Blue:S.blue,"Nano S":S.nanoS,"Nano S Plus":S.nanoSP,"Nano X":S.nanoX,Stax:S.stax},Ut=Object.values(Fe),V=11415;var ke=function(t){var e=Ut.find(function(s){return s.legacyUsbProductId===t});if(e)return e;var r=t>>8,n=Ut.find(function(s){return s.productIdMM===r});return n};var is=[],bt={};for(Ft in Fe)if(_e=Fe[Ft],ge=_e.bluetoothSpec,ge)for(xe=0;xe<ge.length;xe++)ne=ge[xe],is.push(ne.serviceUuid),bt[ne.serviceUuid]=bt[ne.serviceUuid.replace(/-/g,"")]=Ue({deviceModel:_e},ne);var _e,ge,ne,xe,Ft;f();p();f();p();Qt();f();p();f();p();var ss=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var os={},as={},Me=function(t,e){as[t]=e},l=function(t){var e=function(r){ss(n,r);function n(s,i,o){var c=r.call(this,s||t,o)||this;if(Object.setPrototypeOf(c,n.prototype),c.name=t,i)for(var u in i)c[u]=i[u];if(o&&cs(o)&&"cause"in o&&!("cause"in c)){var a=o.cause;c.cause=a,"stack"in a&&(c.stack=c.stack+`
CAUSE: `+a.stack)}return c}return n}(Error);return os[t]=e,e};function cs(t){return typeof t=="object"}var Mt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var ac=l("AccountNameRequired"),cc=l("AccountNotSupported"),uc=l("AmountRequired"),lc=l("BluetoothRequired"),fc=l("BtcUnmatchedApp"),pc=l("CantOpenDevice"),dc=l("CashAddrNotSupported"),hc=l("CurrencyNotSupported"),vc=l("DeviceAppVerifyNotSupported"),Ec=l("DeviceGenuineSocketEarlyClose"),mc=l("DeviceNotGenuine"),gc=l("DeviceOnDashboardExpected"),xc=l("DeviceOnDashboardUnexpected"),Ic=l("DeviceInOSUExpected"),Rc=l("DeviceHalted"),Tc=l("DeviceNameInvalid"),wc=l("DeviceSocketFail"),Sc=l("DeviceSocketNoBulkStatus"),us=l("LockedDeviceError"),Bt=l("DisconnectedDevice"),Gt=l("DisconnectedDeviceDuringOperation"),Nc=l("DeviceExtractOnboardingStateError"),yc=l("DeviceOnboardingStatePollingError"),Ac=l("EnpointConfig"),Oc=l("EthAppPleaseEnableContractData"),Lc=l("FeeEstimationFailed"),Dc=l("FirmwareNotRecognized"),$c=l("HardResetFail"),Cc=l("InvalidXRPTag"),Pc=l("InvalidAddress"),qc=l("InvalidAddressBecauseDestinationIsAlsoSource"),_c=l("LatestMCUInstalledError"),Uc=l("UnknownMCU"),bc=l("LedgerAPIError"),Fc=l("LedgerAPIErrorWithMessage"),kc=l("LedgerAPINotAvailable"),Mc=l("ManagerAppAlreadyInstalled"),Bc=l("ManagerAppRelyOnBTC"),Gc=l("ManagerAppDepInstallRequired"),jc=l("ManagerAppDepUninstallRequired"),Xc=l("ManagerDeviceLocked"),Vc=l("ManagerFirmwareNotEnoughSpace"),Hc=l("ManagerNotEnoughSpace"),zc=l("ManagerUninstallBTCDep"),Wc=l("NetworkDown"),Yc=l("NoAddressesFound"),Kc=l("NotEnoughBalance"),Zc=l("NotEnoughBalanceToDelegate"),Qc=l("NotEnoughBalanceInParentAccount"),Jc=l("NotEnoughSpendableBalance"),eu=l("NotEnoughBalanceBecauseDestinationNotCreated"),ru=l("NoAccessToCamera"),tu=l("NotEnoughGas"),nu=l("NotSupportedLegacyAddress"),iu=l("GasLessThanEstimate"),su=l("PriorityFeeTooLow"),ou=l("PriorityFeeTooHigh"),au=l("PriorityFeeHigherThanMaxFee"),cu=l("MaxFeeTooLow"),uu=l("PasswordsDontMatch"),lu=l("PasswordIncorrect"),fu=l("RecommendSubAccountsToEmpty"),pu=l("RecommendUndelegation"),du=l("TimeoutTagged"),hu=l("UnexpectedBootloader"),vu=l("MCUNotGenuineToDashboard"),Eu=l("RecipientRequired"),mu=l("UnavailableTezosOriginatedAccountReceive"),gu=l("UnavailableTezosOriginatedAccountSend"),xu=l("UpdateFetchFileFail"),Iu=l("UpdateIncorrectHash"),Ru=l("UpdateIncorrectSig"),Tu=l("UpdateYourApp"),wu=l("UserRefusedDeviceNameChange"),Su=l("UserRefusedAddress"),Nu=l("UserRefusedFirmwareUpdate"),yu=l("UserRefusedAllowManager"),Au=l("UserRefusedOnDevice"),Be=l("TransportOpenUserCancelled"),Ou=l("TransportInterfaceNotAvailable"),jt=l("TransportRaceCondition"),Lu=l("TransportWebUSBGestureRequired"),Du=l("DeviceShouldStayInApp"),$u=l("WebsocketConnectionError"),Cu=l("WebsocketConnectionFailed"),Pu=l("WrongDeviceForAccount"),qu=l("WrongAppForCurrency"),_u=l("ETHAddressNonEIP"),Uu=l("CantScanQRCode"),bu=l("FeeNotLoaded"),Fu=l("FeeRequired"),ku=l("FeeTooHigh"),Mu=l("DustLimit"),Bu=l("PendingOperation"),Gu=l("SyncError"),ju=l("PairingFailed"),Xu=l("GenuineCheckFailed"),Vu=l("LedgerAPI4xx"),Hu=l("LedgerAPI5xx"),zu=l("FirmwareOrAppUpdateRequired"),Wu=l("LanguageNotFound"),Yu=l("NoDBPathGiven"),Ku=l("DBWrongPassword"),Zu=l("DBNotReset"),kt;(function(t){t[t.Unknown=0]="Unknown",t[t.BleLocationServicesDisabled=1]="BleLocationServicesDisabled",t[t.BleBluetoothUnauthorized=2]="BleBluetoothUnauthorized",t[t.BleScanStartFailed=3]="BleScanStartFailed"})(kt||(kt={}));var Qu=function(t){Mt(e,t);function e(r,n){var s=t.call(this,n)||this;return s.name="HwTransportError",s.type=r,Object.setPrototypeOf(s,e.prototype),s}return e}(Error);var C=function(t){Mt(e,t);function e(r,n){var s=this,i="TransportError";return s=t.call(this,r||i)||this,s.name=i,s.message=r,s.stack=new Error().stack,s.id=n,s}return e}(Error);Me("TransportError",function(t){return new C(t.message,t.id)});var H={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,CUSTOM_IMAGE_BOOTLOADER:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761};function Xt(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}function ie(t){var e=Object.keys(H).find(function(i){return H[i]===t})||"UNKNOWN_ERROR",r=Xt(t)||e,n=t.toString(16),s="Ledger device: ".concat(r," (0x").concat(n,")");if(t===H.LOCKED_DEVICE)throw new us(s);this.name="TransportStatusError",this.message=s,this.stack=new Error().stack,this.statusCode=t,this.statusText=e}ie.prototype=new Error;Me("TransportStatusError",function(t){return new ie(t.statusCode)});var Ie=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(d){try{a(n.next(d))}catch(g){o(g)}}function u(d){try{a(n.throw(d))}catch(g){o(g)}}function a(d){d.done?i(d.value):s(d.value).then(c,u)}a((n=n.apply(t,e||[])).next())})},Re=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(d){return u([a,d])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=a[0]&2?s.return:a[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,a[1])).done)return i;switch(s=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,s=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(a[0]===6&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(d){a=[6,d],s=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Vt=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ls=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(c){o={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},fs=function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))};var ps=function(){function t(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new Ve,this.send=function(r,n,s,i,o,c){return o===void 0&&(o=h.Buffer.alloc(0)),c===void 0&&(c=[H.OK]),Ie(e,void 0,void 0,function(){var u,a;return Re(this,function(d){switch(d.label){case 0:if(o.length>=256)throw new C("data.length exceed 256 bytes limit. Got: "+o.length,"DataLengthTooBig");return[4,this.exchange(h.Buffer.concat([h.Buffer.from([r,n,s,i]),h.Buffer.from([o.length]),o]))];case 1:if(u=d.sent(),a=u.readUInt16BE(u.length-2),!c.some(function(g){return g===a}))throw new ie(a);return[2,u]}})})},this.exchangeAtomicImpl=function(r){return Ie(e,void 0,void 0,function(){var n,s,i,o,c,u=this;return Re(this,function(a){switch(a.label){case 0:if(this.exchangeBusyPromise)throw new jt("An action was already pending on the Ledger device. Please deny or reconnect.");s=new Promise(function(d){n=d}),this.exchangeBusyPromise=s,i=!1,o=setTimeout(function(){i=!0,u.emit("unresponsive")},this.unresponsiveTimeout),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,r()];case 2:return c=a.sent(),i&&this.emit("responsive"),[2,c];case 3:return clearTimeout(o),n&&n(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return t.prototype.exchange=function(e){throw new Error("exchange not implemented")},t.prototype.exchangeBulk=function(e,r){var n=this,s=!1,i=function(){s=!0},o=function(){return Ie(n,void 0,void 0,function(){var c,u,a,d,g,I,m,U;return Re(this,function(P){switch(P.label){case 0:if(s)return[2];P.label=1;case 1:P.trys.push([1,6,7,8]),c=Vt(e),u=c.next(),P.label=2;case 2:return u.done?[3,5]:(a=u.value,[4,this.exchange(a)]);case 3:if(d=P.sent(),s)return[2];if(g=d.readUInt16BE(d.length-2),g!==H.OK)throw new ie(g);r.next(d),P.label=4;case 4:return u=c.next(),[3,2];case 5:return[3,8];case 6:return I=P.sent(),m={error:I},[3,8];case 7:try{u&&!u.done&&(U=c.return)&&U.call(c)}finally{if(m)throw m.error}return[7];case 8:return[2]}})})};return o().then(function(){return!s&&r.complete()},function(c){return!s&&r.error(c)}),{unsubscribe:i}},t.prototype.setScrambleKey=function(e){},t.prototype.close=function(){return Promise.resolve()},t.prototype.on=function(e,r){this._events.on(e,r)},t.prototype.off=function(e,r){this._events.removeListener(e,r)},t.prototype.emit=function(e){for(var r,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];(r=this._events).emit.apply(r,fs([e],ls(n),!1))},t.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},t.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},t.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},t.create=function(e,r){var n=this;return e===void 0&&(e=3e3),new Promise(function(s,i){var o=!1,c=n.listen({next:function(a){o=!0,c&&c.unsubscribe(),u&&clearTimeout(u),n.open(a.descriptor,e).then(s,i)},error:function(a){u&&clearTimeout(u),i(a)},complete:function(){u&&clearTimeout(u),o||i(new C(n.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),u=r?setTimeout(function(){c.unsubscribe(),i(new C(n.ErrorMessage_ListenTimeout,"ListenTimeout"))},r):null})},t.prototype.decorateAppAPIMethods=function(e,r,n){var s,i;try{for(var o=Vt(r),c=o.next();!c.done;c=o.next()){var u=c.value;e[u]=this.decorateAppAPIMethod(u,e[u],e,n)}}catch(a){s={error:a}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}},t.prototype.decorateAppAPIMethod=function(e,r,n,s){var i=this;return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return Ie(i,void 0,void 0,function(){var u;return Re(this,function(a){switch(a.label){case 0:if(u=this._appAPIlock,u)return[2,Promise.reject(new C("Ledger Device is busy (lock "+u+")","TransportLocked"))];a.label=1;case 1:return a.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(s),[4,r.apply(n,o)];case 2:return[2,a.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},t.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",t.ErrorMessage_NoDeviceFound="No Ledger device found",t}(),Ht=ps;f();p();var zt=5;function ds(t){var e=h.Buffer.alloc(2);return e.writeUInt16BE(t,0),e}var hs={data:h.Buffer.alloc(0),dataLength:0,sequence:0},vs=function(t,e){return{makeBlocks:function(r){var n=h.Buffer.concat([ds(r.length),r]),s=e-5,i=Math.ceil(n.length/s);n=h.Buffer.concat([n,h.Buffer.alloc(i*s-n.length+1).fill(0)]);for(var o=[],c=0;c<i;c++){var u=h.Buffer.alloc(5);u.writeUInt16BE(t,0),u.writeUInt8(zt,2),u.writeUInt16BE(c,3);var a=n.slice(c*s,(c+1)*s);o.push(h.Buffer.concat([u,a]))}return o},reduceResponse:function(r,n){var s=r||hs,i=s.data,o=s.dataLength,c=s.sequence;if(n.readUInt16BE(0)!==t)throw new C("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==zt)throw new C("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==c)throw new C("Invalid sequence","InvalidSequence");r||(o=n.readUInt16BE(5)),c++;var u=n.slice(r?5:7);return i=h.Buffer.concat([i,u]),i.length>o&&(i=i.slice(0,o)),{data:i,dataLength:o,sequence:c}},getReducedResult:function(r){if(r&&r.dataLength===r.data.length)return r.data}}},Wt=vs;f();p();var Es=0,F=[],Ge=function(t,e,r){var n={type:t,id:String(++Es),date:new Date};e&&(n.message=e),r&&(n.data=r),gs(n)},ms=function(t){return F.push(t),function(){var e=F.indexOf(t);e!==-1&&(F[e]=F[F.length-1],F.pop())}};function gs(t){for(var e=0;e<F.length;e++)try{F[e](t)}catch(r){console.error(r)}}typeof window<"u"&&(window.__ledgerLogsListen=ms);var xs=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(d){try{a(n.next(d))}catch(g){o(g)}}function u(d){try{a(n.throw(d))}catch(g){o(g)}}function a(d){d.done?i(d.value):s(d.value).then(c,u)}a((n=n.apply(t,e||[])).next())})},_=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(d){return u([a,d])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=a[0]&2?s.return:a[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,a[1])).done)return i;switch(s=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,s=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(a[0]===6&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(d){a=[6,d],s=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Is=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(c){o={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i},Rs=[{vendorId:V}],Ts=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},Te=function(){var t=navigator.hid;if(!t)throw new C("navigator.hid is not supported","HIDNotSupported");return t};function Yt(){return q(this,void 0,void 0,function(){var t;return _(this,function(e){switch(e.label){case 0:return[4,Te().requestDevice({filters:Rs})];case 1:return t=e.sent(),Array.isArray(t)?[2,t]:[2,[t]]}})})}function je(){return q(this,void 0,void 0,function(){var t;return _(this,function(e){switch(e.label){case 0:return[4,Te().getDevices()];case 1:return t=e.sent(),[2,t.filter(function(r){return r.vendorId===V})]}})})}function ws(){return q(this,void 0,void 0,function(){var t,e;return _(this,function(r){switch(r.label){case 0:return[4,je()];case 1:return t=r.sent(),t.length>0?[2,t[0]]:[4,Yt()];case 2:return e=r.sent(),[2,e[0]]}})})}var Ss=function(t){xs(e,t);function e(r){var n=t.call(this)||this;return n.channel=Math.floor(Math.random()*65535),n.packetSize=64,n.inputs=[],n.read=function(){return n.inputs.length?Promise.resolve(n.inputs.shift()):new Promise(function(s){n.inputCallback=s})},n.onInputReport=function(s){var i=h.Buffer.from(s.data.buffer);n.inputCallback?(n.inputCallback(i),n.inputCallback=null):n.inputs.push(i)},n._disconnectEmitted=!1,n._emitDisconnect=function(s){n._disconnectEmitted||(n._disconnectEmitted=!0,n.emit("disconnect",s))},n.exchange=function(s){return q(n,void 0,void 0,function(){var i,o=this;return _(this,function(c){switch(c.label){case 0:return[4,this.exchangeAtomicImpl(function(){return q(o,void 0,void 0,function(){var u,a,d,g,I,m,U,P,Xe;return _(this,function(z){switch(z.label){case 0:u=this,a=u.channel,d=u.packetSize,Ge("apdu","=> "+s.toString("hex")),g=Wt(a,d),I=g.makeBlocks(s),m=0,z.label=1;case 1:return m<I.length?[4,this.device.sendReport(0,I[m])]:[3,4];case 2:z.sent(),z.label=3;case 3:return m++,[3,1];case 4:return(U=g.getReducedResult(P))?[3,6]:[4,this.read()];case 5:return Xe=z.sent(),P=g.reduceResponse(P,Xe),[3,4];case 6:return Ge("apdu","<= "+U.toString("hex")),[2,U]}})})}).catch(function(u){throw u&&u.message&&u.message.includes("write")?(o._emitDisconnect(u),new Gt(u.message)):u})];case 1:return i=c.sent(),[2,i]}})})},n.device=r,n.deviceModel=typeof r.productId=="number"?ke(r.productId):void 0,r.addEventListener("inputreport",n.onInputReport),n}return e.request=function(){return q(this,void 0,void 0,function(){var r,n;return _(this,function(s){switch(s.label){case 0:return[4,Yt()];case 1:return r=Is.apply(void 0,[s.sent(),1]),n=r[0],[2,e.open(n)]}})})},e.openConnected=function(){return q(this,void 0,void 0,function(){var r;return _(this,function(n){switch(n.label){case 0:return[4,je()];case 1:return r=n.sent(),r.length===0?[2,null]:[2,e.open(r[0])]}})})},e.open=function(r){return q(this,void 0,void 0,function(){var n,s;return _(this,function(i){switch(i.label){case 0:return[4,r.open()];case 1:return i.sent(),n=new e(r),s=function(o){r===o.device&&(Te().removeEventListener("disconnect",s),n._emitDisconnect(new Bt))},Te().addEventListener("disconnect",s),[2,n]}})})},e.prototype.close=function(){return q(this,void 0,void 0,function(){return _(this,function(r){switch(r.label){case 0:return[4,this.exchangeBusyPromise];case 1:return r.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return r.sent(),[2]}})})},e.prototype.setScrambleKey=function(){},e.isSupported=Ts,e.list=je,e.listen=function(r){var n=!1;ws().then(function(i){if(!i)r.error(new Be("Access denied to use Ledger device"));else if(!n){var o=typeof i.productId=="number"?ke(i.productId):void 0;r.next({type:"add",descriptor:i,deviceModel:o}),r.complete()}},function(i){r.error(new Be(i.message))});function s(){n=!0}return{unsubscribe:s}},e}(Ht),Kt=Ss;var we={[N.rejected]:"denied by the user",[N.ledgerBusy]:"Ledger Device is busy",[N.disConnected]:Se,[N.lockedDevice]:"LockedDeviceError"},Ns=t=>!!(N.wrongApp===t.message||t.name.match("TransportStatusError")||t.name.match("InvalidStateError")||t.name.match("Error")&&!t.message),ys=async()=>{let{hid:t}=window.navigator;return t.getDevices?(await t.getDevices()).filter(r=>r.vendorId===V)[0]:null},se=class{constructor(){this.ledgerTransPorter=null}static async hasConnectedLedger(){return!!await ys()}static async requestLedgerDevice(){let{hid:e}=window.navigator,r=[];try{r=await e.requestDevice({filters:[{vendorId:V}]})}catch{r=[]}return r}async initLedgerTransPorter(){return this.ledgerTransPorter||(this.ledgerTransPorter=await Kt.create()),this.ledgerTransPorter}throwTimeoutError(){return new Promise((e,r)=>{setTimeout(()=>{r(new Error("Timeout"))},Ye)})}async checkLedgerConnection(){if(await se.hasConnectedLedger())await this.makeApp();else throw new Error(Se)}handleErrors(e,r){throw e.message.match(we[N.rejected])?k.openModal(N.rejected):e.message.match(we[N.ledgerBusy])?k.openModal(N.ledgerBusy):e.message.match(we[N.disConnected])?k.openModal(N.disConnected):e.name===we[N.lockedDevice]?k.openModal(N.lockedDevice):Ns(e)?k.openModal(N.wrongApp):e.name==="EthAppPleaseEnableContractData"||e.message.match("blind")?k.openModal(N.blindEnable,{network:We[r]}):He.error({title:e.message}),new Error(ze)}makeApp(){throw new Error("you have to override this method")}getAddress(){throw new Error("you have to override this method")}signTransaction(){throw new Error("you have to override this method")}signPersonalMessage(){throw new Error("you have to override this method")}signMessage(){throw new Error("you have to override this method")}},Al=se;export{Ge as a,Oc as b,ys as c,Al as d};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-R7VTXTCL.js.map
