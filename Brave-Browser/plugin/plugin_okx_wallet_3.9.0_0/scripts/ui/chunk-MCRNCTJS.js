import{a as D}from"./chunk-ADIQBHVU.js";import{a as L,b as o,c as n}from"./chunk-RUSRHRGO.js";import{i as U}from"./chunk-LF2PURXZ.js";import{a as A}from"./chunk-SR2BDP3A.js";import{s as E}from"./chunk-5JJQQHKZ.js";import{a as x,b as H}from"./chunk-A7LNVEYU.js";import{c as S,h as B}from"./chunk-2YWUVAR3.js";import{Qa as T,Xa as w,pb as F}from"./chunk-M54COW6Q.js";import{a as z}from"./chunk-CXUPEGDW.js";import{f as q,m as c,o as l}from"./chunk-ICCOEXX5.js";c();l();var u=q(z());F();c();l();B();H();async function N(m){let{data:f={}}=await S(x.getGasReturnCheck,m);return f}var s={empty:1,unavailable:2,error:3,ok:4};function O({walletId:m,coinId:f,fromAddress:y,toAddress:k,txType:d,unavailable:W,disabled:C,fee:K}){let M=A(),G=m||M,{baseCoin:I}=D(f,!0),p=I.chainId,P=U(I.coinId),R=T(K,P),[t,v]=(0,u.useState)(null),[b,e]=(0,u.useState)(null),j=async()=>{if(C||!p||!y||!d){v(null);return}try{let i=await N({accountId:G,chainId:p,address:y,toAddress:k,txType:d});if(i){let{activitySymbol:a,activityStatus:h,errorCode:g}=i;a===L.gasReturn&&h===1&&g!==n.notStart&&v(i)}}catch{}};E(()=>{j()},[G,p,y,k,d,C],{wait:100}),(0,u.useEffect)(()=>{if(!t){e(null);return}let{gas:i,errorCode:a,availableTimes:h,errorMsg:g}=t;a===n.exceedingTheSubsidyLimit?e({key:o.exceedTodayGasLimit,error:!0}):a===n.exceededTheLimit?e({key:o.availableTimesLimit,args:{num:0},error:!0}):a===n.walletAssetNotEnough?e({key:o.walletAssetNotEnough,text:g,error:!0}):w(R,i)?e({key:o.exceedGasLimit,error:!0}):e({key:o.availableTimesLimit,args:{num:h},error:!1})},[t,R]);let r;return t?W?r=s.unavailable:b?.error?r=s.error:r=s.ok:r=s.empty,{status:r,activityId:r===s.ok?t.activityId:void 0,activity:t,tip:b,clear:()=>{v(null),e(null)}}}var ae=O;export{s as a,ae as b};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-MCRNCTJS.js.map
