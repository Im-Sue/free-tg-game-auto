import{a as R,b as T,c as w}from"./chunk-DDX7JWRV.js";import"./chunk-6UZ6RETP.js";import"./chunk-NKCGHO5F.js";import"./chunk-ETTYI3VF.js";import"./chunk-LBYCQPAD.js";import{b as f}from"./chunk-7O3XK67L.js";import"./chunk-EJY3MW2I.js";import"./chunk-3VRAVMMN.js";import"./chunk-YJ45QIWT.js";import"./chunk-WR62TYUO.js";import"./chunk-2G2AXMFT.js";import"./chunk-XGFQCNHX.js";import"./chunk-JXZFOFB5.js";import"./chunk-LYNLETTP.js";import{a as u,u as y}from"./chunk-FQ4XEVKF.js";import"./chunk-VMYDP774.js";import"./chunk-A7LNVEYU.js";import"./chunk-2YWUVAR3.js";import"./chunk-VA2HGDZT.js";import"./chunk-AKPDCNMH.js";import{m as K}from"./chunk-M54COW6Q.js";import"./chunk-PWWHYQAY.js";import"./chunk-RIJWHGTU.js";import"./chunk-K4MPEKC5.js";import"./chunk-X6USBUO5.js";import"./chunk-XIGC6FD5.js";import"./chunk-CXUPEGDW.js";import{a as M}from"./chunk-EEYQV3DA.js";import"./chunk-YGNOWOE7.js";import"./chunk-X3U62T3S.js";import"./chunk-VWOQ4BGW.js";import"./chunk-X4YEESEZ.js";import"./chunk-IR63YTCE.js";import"./chunk-PATHAEX7.js";import"./chunk-664ZTB7N.js";import"./chunk-4WUMETG6.js";import"./chunk-TAJDMRFA.js";import"./chunk-YZ3HFF2L.js";import"./chunk-2BD64J7Y.js";import"./chunk-RYJHESAH.js";import"./chunk-DOQ5NSSP.js";import"./chunk-VULQOB2N.js";import{f as n,m as l,o as h}from"./chunk-ICCOEXX5.js";l();h();var W=n(R()),E=n(M()),a=n(K());var b=W.default.HardwareWebSdk,s=class extends w{async signTransaction(o,e){if(!(0,a.isUndefined)(e.memo)&&!(0,a.isUndefined)(e.memoPos))throw Error(y);return new Promise((g,t)=>{(async()=>{let{address:i}=e,{onekeyInfo:c}=o,d;try{d=await this.initOneKey({onekeyInfo:c,onUiCancel(){t(new Error(u))}})}catch(r){return t(this.handleErrors(r))}let k=f(i,o?.accountsMap||o?.addressType),{path:m}=k,S=e.inputs.map(r=>({...r,address:i,nonWitnessUtxo:r.rawTransaction,derivationPath:m})),B=(0,E.oneKeyBuildBtcTx)({...e,inputs:S,derivationPath:m}),{success:H,payload:p}=await b.btcSignTransaction(c?.connectId,d,B);if(T.closeModal(),H){let{serializedTx:r}=p;return g(r)}return t(this.handleErrors(p))})()})}},z=new s;export{z as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=btcAdapter-M7FEC7CL.js.map
