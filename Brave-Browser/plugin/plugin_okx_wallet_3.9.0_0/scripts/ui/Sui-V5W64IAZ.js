import{a as q}from"./chunk-4XIZPO2A.js";import{a as Y}from"./chunk-LHVA7Q62.js";import{a as V}from"./chunk-T65CW4NW.js";import{a as D}from"./chunk-3TWPOAEX.js";import{a as b,b as U}from"./chunk-4KSIW65U.js";import"./chunk-RMPNHDVC.js";import"./chunk-YWELIV7Q.js";import{a as O}from"./chunk-53Z372L4.js";import"./chunk-EHDEZCO2.js";import"./chunk-TFCBP6UV.js";import"./chunk-FORV77D5.js";import{b as W,k as K}from"./chunk-G35FQ3WW.js";import"./chunk-D4V7ONZY.js";import"./chunk-U3CLRNWK.js";import{a as h}from"./chunk-M4STRGDO.js";import"./chunk-GYUX3JJ3.js";import{a as C}from"./chunk-H43TVLNI.js";import"./chunk-SIKYZQW4.js";import"./chunk-MCRNCTJS.js";import"./chunk-YZAK46Y6.js";import"./chunk-VX7CI7XT.js";import"./chunk-D6HSNWGS.js";import"./chunk-7ODXCTBK.js";import"./chunk-GZMWLE4V.js";import"./chunk-C54I6GL3.js";import"./chunk-ZJICRI36.js";import"./chunk-BIBDTDJA.js";import"./chunk-ADIQBHVU.js";import"./chunk-TPVT7ZCY.js";import"./chunk-A6HNAUBV.js";import"./chunk-6GFVKSAR.js";import"./chunk-JVLSBRR5.js";import"./chunk-5IXTSGAM.js";import"./chunk-OR2KMY5L.js";import"./chunk-FFJ36R7T.js";import"./chunk-NVCWAHOV.js";import"./chunk-RFEJLMRV.js";import{e as R,g as k}from"./chunk-UIABO6UG.js";import"./chunk-KJFAD5C4.js";import"./chunk-BFVA6OLJ.js";import"./chunk-ON3J2WQV.js";import"./chunk-RC3QMLDN.js";import"./chunk-JINEVGIZ.js";import"./chunk-SRU2IM3A.js";import"./chunk-46NSFYB3.js";import"./chunk-FFQESTX4.js";import"./chunk-OCZAVPFZ.js";import"./chunk-P6SDUFQ6.js";import"./chunk-5TNZ4MQV.js";import"./chunk-VPDXC6IS.js";import"./chunk-KKTPGZSO.js";import"./chunk-ESKOSV75.js";import"./chunk-ZDQ5EBGN.js";import"./chunk-2KEW2T4M.js";import"./chunk-R7VTXTCL.js";import"./chunk-LBYCQPAD.js";import"./chunk-CWTKVHHS.js";import"./chunk-Y2PED5BF.js";import"./chunk-RUSRHRGO.js";import"./chunk-IZ5XPPXG.js";import"./chunk-6PN4BR3D.js";import"./chunk-EWK7ZFVN.js";import"./chunk-A23SHFFL.js";import"./chunk-VZ3BFZKL.js";import"./chunk-T6Z2C3RK.js";import"./chunk-R2QYIBE7.js";import"./chunk-KT53NMHD.js";import"./chunk-64STH2HN.js";import"./chunk-EKQH7XTV.js";import"./chunk-R2QKPEWB.js";import"./chunk-RMA2FZOE.js";import"./chunk-KRHB66KZ.js";import"./chunk-4RHFH7IF.js";import"./chunk-LPTRVNVL.js";import"./chunk-PH2A2GR3.js";import"./chunk-2LLM6N6U.js";import"./chunk-LF2PURXZ.js";import"./chunk-JEZIPKDY.js";import"./chunk-SR2BDP3A.js";import"./chunk-CFT6B56M.js";import"./chunk-WK32FAZW.js";import"./chunk-WMUTUJYX.js";import"./chunk-B23OWGFX.js";import"./chunk-OSWXWF4A.js";import"./chunk-Q7FJER56.js";import"./chunk-RBTIRMSE.js";import"./chunk-7GZ2ZCGI.js";import"./chunk-WTP3OIOS.js";import"./chunk-D66ZH3O3.js";import"./chunk-X764QIVO.js";import"./chunk-HISWVX7W.js";import"./chunk-PYJPOVV7.js";import"./chunk-AO6MUSOH.js";import"./chunk-I435LZHT.js";import"./chunk-SJIW4WAV.js";import"./chunk-SLDECH2O.js";import"./chunk-5JJQQHKZ.js";import"./chunk-URG4MCPH.js";import"./chunk-ZPOCIBPN.js";import{H as A,Y as G,Z as N}from"./chunk-CA5MYYD6.js";import"./chunk-RZ7GFYMN.js";import"./chunk-IOCZ22XI.js";import"./chunk-EJY3MW2I.js";import"./chunk-3VRAVMMN.js";import"./chunk-YJ45QIWT.js";import"./chunk-WR62TYUO.js";import"./chunk-2G2AXMFT.js";import"./chunk-XGFQCNHX.js";import"./chunk-7JF42X5G.js";import"./chunk-4JZ3HIS7.js";import"./chunk-JLA5HXVC.js";import"./chunk-I4WIGQLD.js";import"./chunk-ZNGQ6IUR.js";import"./chunk-JERFAOJH.js";import"./chunk-JXZFOFB5.js";import"./chunk-LYNLETTP.js";import"./chunk-FQ4XEVKF.js";import"./chunk-VMYDP774.js";import"./chunk-A7LNVEYU.js";import"./chunk-2YWUVAR3.js";import"./chunk-VA2HGDZT.js";import"./chunk-AKPDCNMH.js";import{$ as B,Ya as I,la as $,m as Z,pb as ee}from"./chunk-M54COW6Q.js";import"./chunk-PWWHYQAY.js";import"./chunk-RIJWHGTU.js";import{I as Q,v as L}from"./chunk-K4MPEKC5.js";import"./chunk-X6USBUO5.js";import"./chunk-674MHQJQ.js";import"./chunk-XIGC6FD5.js";import{a as y}from"./chunk-CXUPEGDW.js";import"./chunk-QAWZYDPQ.js";import"./chunk-PYTKRRY4.js";import"./chunk-363VDWOO.js";import"./chunk-7B5WANGL.js";import"./chunk-4P4FGPYZ.js";import"./chunk-Y47SQ3XQ.js";import"./chunk-YGNOWOE7.js";import"./chunk-N4GKTC7Y.js";import"./chunk-MHPFRLZZ.js";import"./chunk-2BD64J7Y.js";import"./chunk-RYJHESAH.js";import"./chunk-DOQ5NSSP.js";import"./chunk-VULQOB2N.js";import{f as S,m as n,o as i}from"./chunk-ICCOEXX5.js";n();i();var P=S(y());n();i();var T=S(y());$();n();i();ee();n();i();var x=S(y());var v=(e,t)=>{let{from:a,transaction:r,provider:l}=e,[o,s]=(0,x.useState)(!1),[p,c]=(0,x.useState)(null),[m,u]=(0,x.useState)(!1),[g,d]=(0,x.useState)("");return(0,x.useEffect)(()=>{(async()=>{if(!!r){s(!0);try{let f=K.from(r);f.setSenderIfNotSet(a);let M="";l&&(M=W(await f.build({client:l}))),t&&await t(M),c({fee:f?.blockData?.gasConfig?.budget||"0",tx:f,txBytes:M}),u(!1),d("")}catch(f){u(!0),d(f?.message||"")}finally{s(!1)}}})()},[r]),{loading:o,error:m,errorMsg:g,result:p}};var w=S(Z());Q();var te=({coinId:e,unapproved:t})=>{let a=C(t),{address:r,walletId:l}=a,o=k(e,l)?.coinAmountInt,{loading:s,result:p={},error:c,errorMsg:m}=v({from:r,transaction:t?.params?.transaction,provider:V}),u=p?.fee,g=(0,w.isNil)(o)||I(o,u),d=(0,w.isNil)(o)||I(o,0),F={coinId:e,loading:s,estimateFailed:c,networkFee:u},f;return c&&m&&(f=L("wallet_extension_alert_estimate_unavailable_error",{errorMsg:m})),{loading:s,networkFee:p,networkFeeProps:F,isSufficientGas:g,estimateFailed:c,estimateFailedMsg:f,isSufficientBalance:d}},X=te;n();i();var E=S(y()),re=({coinId:e,unapproved:t})=>{let a=h(),[r,l]=(0,E.useState)(!0),{address:o}=C(t),[s,p]=(0,E.useState)({}),c=(0,E.useMemo)(()=>({checkTypes:[G.VERIFY_GAS_LIMIT],coinId:e,from:o,to:"",amount:0,txType:N.CALL_CONTRACT}),[o,e]),m=async g=>{let d=await a({...c,inputData:g});p(d),l(!1)},u=(0,E.useMemo)(()=>s[G.VERIFY_GAS_LIMIT]||{},[s]);return{loading:r,preExecuteRet:s,firePreExecute:m,verifyGasLimitRet:u}},j=re;var oe=(0,T.memo)(({unapproved:e})=>{let t=R(B)||{},a=t?.coinId||B,{networkFee:r,networkFeeProps:l,isSufficientGas:o,estimateFailed:s,estimateFailedMsg:p,loading:c,isSufficientBalance:m}=X({coinId:a,unapproved:e}),{firePreExecute:u,verifyGasLimitRet:g}=j({unapproved:e,coinId:a});(0,T.useEffect)(()=>{r?.txBytes&&u(r?.txBytes)},[r?.txBytes]);let d=U({baseCoin:t,estimateFailed:s,estimateFailedMsg:p,isSufficientGas:o,verifyGasLimitRet:g,isSufficientBalance:m}),{buttonGroup:F}=D({coinId:a,unapproved:e,feeLoading:c,estimateFailed:s,isSufficientGas:o,isSufficientBalance:m,extParams:{txBytes:r?.txBytes,fee:r?.fee},chainConfirmDisabled:O(g)});return T.default.createElement(b,{unapproved:e,tipMessage:d,buttonGroup:F,networkFee:l})}),z=oe;n();i();var H=S(y());function se(e=""){try{return new TextDecoder().decode(e)}catch{return e.toString()}}var J=({unapproved:e})=>{let t=se(q(e.params?.message));return H.default.createElement(Y,{message:t,unapproved:e})};var qe=({unapproved:e})=>{switch(e.method){case A.SIGN_AND_EXECUTE_TRANSACTION_BLOCK:case A.SIGN_TRANSACTION_BLOCK:return P.default.createElement(z,{unapproved:e});case A.SIGN_MESSAGE:case A.SIGN_PERSONAL_MESSAGE:return P.default.createElement(J,{unapproved:e});default:return""}};export{qe as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Sui-V5W64IAZ.js.map
