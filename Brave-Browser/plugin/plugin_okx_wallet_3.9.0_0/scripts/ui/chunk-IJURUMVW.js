import{a as ui,b as xi,c as Ti,d as B,e as Pe,f as ke,h as Zt,l as Ci,m as Ii,n as z}from"./chunk-CIJ7BYW2.js";import{a as Ni}from"./chunk-ODC3QADD.js";import{b as Oe}from"./chunk-YC4OT6UM.js";import{a as Be}from"./chunk-7UZMBJLI.js";import{a as fi}from"./chunk-HNQ4OXOH.js";import{a as mi}from"./chunk-RQ3CXUPA.js";import{a as si,d as ri,l as _i,r as ai}from"./chunk-N3VGDA3L.js";import{a as ii}from"./chunk-DZDHGH5B.js";import{b as Le,e as ci}from"./chunk-PBOUQOH2.js";import{a as _e,b as ni,c as be}from"./chunk-3EYFKVOU.js";import{b as li}from"./chunk-C54I6GL3.js";import{a as Bt}from"./chunk-ADIQBHVU.js";import{d as oi}from"./chunk-FFJ36R7T.js";import{a as Se}from"./chunk-RFEJLMRV.js";import{a as pl,b as ti,e as ve,h as De}from"./chunk-UIABO6UG.js";import{a as Qo}from"./chunk-KJFAD5C4.js";import{c as Ae}from"./chunk-BFVA6OLJ.js";import{h as ei}from"./chunk-FFQESTX4.js";import{b as ye,c as he,e as $o}from"./chunk-ZDQ5EBGN.js";import{c as Re,g as pi,k as Fe,l as di}from"./chunk-RBHUA4Z3.js";import{a as Zo}from"./chunk-QXNKNSJH.js";import{c as Wo}from"./chunk-IGCT3RWS.js";import{b as re}from"./chunk-SQ5W4RLM.js";import{a as Xo}from"./chunk-EWK7ZFVN.js";import{b as lo}from"./chunk-R2QKPEWB.js";import{a as Yo,f as Ko,g as qo}from"./chunk-SR2BDP3A.js";import{D as jo,M as Jo}from"./chunk-CFT6B56M.js";import{M as Po,N as no,O as ko,u as le,x as Oo}from"./chunk-WTP3OIOS.js";import{a as zo}from"./chunk-PYJPOVV7.js";import{b as Ho}from"./chunk-AO6MUSOH.js";import{e as Te,f as Ne,s as Mo,t as X,x as Wt}from"./chunk-SJIW4WAV.js";import{a as Vo,c as Go}from"./chunk-5JJQQHKZ.js";import{$a as Ee}from"./chunk-URG4MCPH.js";import{ab as ge,o as q,y as Ft}from"./chunk-ZPOCIBPN.js";import{a as F,b as o,d as V,e as se,g as Ct}from"./chunk-CA5MYYD6.js";import{a as Uo}from"./chunk-IOCZ22XI.js";import{d as $t,f as So}from"./chunk-2G2AXMFT.js";import{s as Nt}from"./chunk-JLA5HXVC.js";import{a as we}from"./chunk-LYNLETTP.js";import{a as ne,b as Bo}from"./chunk-A7LNVEYU.js";import{f as ie,h as Lo}from"./chunk-2YWUVAR3.js";import{Qa as ue,Sa as xe,Ta as Ro,Ub as Ce,Xb as Ie,Z as oe,_ as bo,a as Eo,b as ml,eb as oo,ha as fe,ib as Fo,la as eo,m as ee,pb as io}from"./chunk-M54COW6Q.js";import{B as mt,G as Do,H as ft,N as Mt,O as xt,o as vo,y as to}from"./chunk-RIJWHGTU.js";import{B as ho,I as U,j as Lt,l as yo,v as s}from"./chunk-K4MPEKC5.js";import{L as Rt,R as At,X as Qe,c as Ut}from"./chunk-XIGC6FD5.js";import{a as v,g as Ao}from"./chunk-CXUPEGDW.js";import{f as x,m as r,o as _}from"./chunk-ICCOEXX5.js";r();_();U();var gi=x(ee());var wi="okx-wallet-plugin-report-centre",Ei="okx-wallet-plugin-nft",dl="okx-wallet-plugin-report-centre",fl="okx-wallet-plugin-lock-1",ul="okx-wallet-plugin-swap-1",xl="okx-wallet-plugin-documentation",yi=(t=[],e="en-US",i=!1)=>{if(!Array.isArray(t))return[[],[]];let n=new Map,a=[],l=[],c=0,m=f=>{let d=Lt(f.txTime,{format:"yyyyMMdd",locale:e});(0,gi.isNil)(n.get(d))&&(n.set(d,c),l[c]={},l[c].date=d,l[c].list=[],c++);let C=n.get(d);l[C].list.push(f)};return t.forEach(f=>{f.txStatus===F.PENDING?!f.isShowPending&&i?m(f):a.push(f):m(f)}),[a,l]},so=(t={})=>{let{txType:e}=t;return e===o.SEND_NFT||e===o.RECEIVE_NFT||e===o.MINT_NFT||e===o.CANCEL_NFT||e===o.NFT_AUTHORIZATION?Ei:e===o.NFT_CANCEL_AUTHORIZATION?xl:e===o.DAPP_NFT||e===o.CONTRACTCALL?dl:e===o.AUTHORIZATION||e===o.CANCEL_AUTHORIZATION?fl:e===o.SWAP||e===o.BUY_NFT||e===o.SELL_NFT?ul:wi},hi=(t={})=>{let{txType:e}=t;return e===o.SEND_NFT||e===o.RECEIVE_NFT||e===o.BUY_NFT||e===o.SELL_NFT||e===o.MINT_NFT||e===o.DAPP_NFT||e===o.CANCEL_NFT},Ai=(t={},e={})=>{let{nftId:i}=t,{txType:n}=e;return i||n===o.ORDINAL_NFT?Ei:n===o.ORDINAL_TEXT?`${we()}/cdn/assets/imgs/237/8FEBB75DDC505B6F.png`:wi},vi=(t={})=>{let{hideTxType:e}=t;return Number.isInteger(e)&&e!==Re.NORMAL},Yt=t=>t.txType===o.TRANS_OUT&&t.okexAccount;r();_();var M=x(v()),Un=x(ee());r();_();var et=x(v());r();_();var ae=x(v());U();So();Bo();Lo();var Tl=({tx:t,closeVisible:e,repeatVisible:i,onClose:n,onConfirm:a})=>{let l=e||i,{txHash:c,coinId:m,txId:p,include:f,coinSymbol:d}=t,C=f?.[0]?.protocolName,T=d,I=Yo(),h=ve(m)?.chainId||0,D=async()=>{let S=await $t().getRequestHeaders({walletId:I,needSign:!0,currency:"usd"}),K={txHash:c,accountId:I,chainId:h};return await ie(ne.postCloseTranscation,K,{headers:S})},H=async()=>{let S=await $t().getRequestHeaders({walletId:I,needSign:!0,currency:"usd"}),K={txHash:c,accountId:I,chainId:h};return(await ie(ne.postRepeatTranscation,K,{headers:S})).code},G=async()=>{try{e?(Po({token_name:T,protocol:C}),await D()):i&&(ko({token_name:T,protocol:C}),await H())}catch{ft.error({title:s("extension_defi_toast_header_tips_request_failed")});return}a(p),ft.success({title:s("extension_defi_toast_header_tips_request_submit")})};return ae.default.createElement(vo.Prompt,{visible:l,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:G,onClose:()=>{n&&n()},confirmText:s("wallet_extension_btn_general_confirm"),confirmBtnProps:{type:Qe.TYPE.highlight,size:Qe.SIZE.lg},renderContent:S=>ae.default.createElement(S,null,ae.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},e&&s("extension_defi_toast_title_release_utxo"),i&&s("extension_defi_toast_title_rebroadcast")),ae.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},e&&s("extension_defi_toast_desc_release_utxo"),i&&s("extension_defi_toast_desc_rebroadcast")))})},Di=Tl;r();_();var O=x(v()),Kt=x(Ut());U();io();r();_();var P={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var Nl=({currentAvgFeeRate:t,expectedFeeRate:e,currentTxSize:i,ancestorsTxSize:n,totalFee:a,totalFeeUSD:l})=>O.default.createElement("div",{className:P.transactionDetailBox},O.default.createElement("div",{className:P.transactionAccelerationDetails},O.default.createElement("p",{className:P.transactionDetailRow},n?O.default.createElement(mt,{title:s("extension_defi_popup_tooltips_feerate_before_speedup"),placement:mt.DIRECTION.topLeft,arrowAlignBoundary:!0},O.default.createElement("span",{className:(0,Kt.default)(P.transactionDetailLabel,P.textUnderline)},s("extension_defi_toast_item_current_fee_rate"))):O.default.createElement("span",{className:P.transactionDetailLabel},s("extension_defi_toast_item_current_fee_rate")),O.default.createElement("span",{className:P.transactionDetailValue},`${t} sats/vb`)),O.default.createElement("p",{className:P.transactionDetailRow},O.default.createElement("span",{className:P.transactionDetailLabel},s("extension_defi_toast_item_speedup_rate")),O.default.createElement("span",{className:P.transactionDetailValue},`${e} sats/vb`)),O.default.createElement("p",{className:P.transactionDetailRow},O.default.createElement("span",{className:P.transactionDetailLabel},s("extension_defi_toast_item_txn_size")),O.default.createElement("span",{className:P.transactionDetailValue},`${i}vb`)),n?O.default.createElement("p",{className:P.transactionDetailRow},O.default.createElement("span",{className:P.transactionDetailLabel},s("extension_defi_toast_item_ancestor_txn")),O.default.createElement("span",{className:P.transactionDetailValue},`${n}vb`)):null,O.default.createElement("div",{className:P.transactionDetailRow},n?O.default.createElement(mt,{title:s("extension_defi_popup_tooltips_desc_total_fee_meaning")},O.default.createElement("span",{className:(0,Kt.default)(P.transactionDetailLabel,P.textUnderline)},s("extension_defi_toast_item_total_fee"))):O.default.createElement("span",{className:(0,Kt.default)(P.transactionDetailLabel)},s("extension_defi_toast_item_total_fee")),O.default.createElement("p",{className:(0,Kt.default)(P.transactionDetailValue,P.transactionDetailFiatValue)},oo(a)," ~ ",l))),O.default.createElement("p",{className:P.transactionAccelerationFooter},s("extension_defi_toast_desc_0service_fee"))),Cl=({tx:t,feeInfo:e,visible:i,networkError:n,onClose:a,onConfirm:l,onRetry:c})=>{let{currencyPrice:m,currencySymbol:p}=oi(t.mainCoinId),f=`${p}${Fo(ue(oo(e.totalFee),m),2)}`;return O.default.createElement(ui,{visible:i,error:n,onClose:a,onConfirm:l,title:s("extension_defi_toast_title_speedup_txn"),headerTitle:ho("extension_defi_toast_subtitle_raise_fee_variable",{cpfp:O.default.createElement(mt,{title:s("extension_defi_popup_tooltips_cpfp_meaning")},O.default.createElement("span",{className:(0,Kt.default)(P.transactionAccelerationSubtitle,P.textUnderline)},`${s("extension_defi_toast_subtitle_using_cpfp")}`))}),content:O.default.createElement(Nl,{...e,totalFeeUSD:f}),errContent:O.default.createElement(to.State,{title:s("extension_defi_toast_title_internet_error"),type:to.State.TYPE.noNetwork,description:s("extension_defi_toast_subtitle_cant_get_fee"),buttonText:s("extension_defi_toast_btn_retry"),onButtonClick:()=>{c&&c()},className:P.emptyState}),confirmText:s("wallet_extension_btn_general_confirm")})},Si=Cl;r();_();var lt=x(v()),bi=x(Ft());U();io();var Il=(t,e,i)=>{let{address:n,mainCoinId:a,txHash:l,txId:c,btcSpeedUpInfo:m}=t,p=m?.cpfpSpeedUpUtxo?.[0].address||n,f=400002,[d,C]=(0,lt.useState)(!1),[T,I]=(0,lt.useState)(!1),[y,h]=(0,lt.useState)(!1),[D,H]=(0,lt.useState)(!1),[G,S]=(0,lt.useState)(!1),[K,tt]=(0,lt.useState)({}),[it,nt]=(0,lt.useState)({}),[W,Z,ht,ut]=si({...t,address:p,canAccelerateBtcTx:i}),b=(0,bi.useSelector)(ge),{currencyId:w}=b,E=_i({address:n,coinId:a,currencyId:w,doubleConfirmSource:ri.ACCELERATE});(0,lt.useEffect)(()=>{(async()=>{if(W&&Z?.expectedFeeRate){let[at,ct,,te]=await ut(W,Z);(at||ct)&&tt({...Z,totalFee:xe(Number(Z.increaseFee)+te)})}})()},[Z,W,ut]);let g=(0,lt.useCallback)((dt,at)=>{if(dt?.code===f){ft.error({title:s("extension_defi_top_toast_speedup_fail")}),e(c);return}if(dt?.code===fi.BALANCE_NOT_ENOUGH){at==="confirm"&&le({accelerate_status:"utxo_fail"}),ft.error({title:s("extension_defi_top_text_insufficient_utxo_pay")});return}at==="init"?(I(!0),C(!0)):(le({accelerate_status:"other_fail"}),h(!0))},[]),A=(0,lt.useCallback)(async()=>{if(!D){H(!0);try{let[dt,at,,ct]=await ut(W,Z);if(dt||at)tt({...Z,totalFee:xe(Number(Z.increaseFee)+ct)});else{ft.error({title:s("extension_defi_top_text_insufficient_utxo_pay")});return}C(!0),I(!1),h(!1)}catch(dt){g(dt,"init")}H(!1)}},[W,Z,g,l]),R=Xo()?.find(dt=>dt.coinId===a)?.localType,$=ai({coinId:a,fromAddr:p,toAddr:p,outputs:[{address:p,amount:it.sendAmountInt}],networkFee:it.networkFeeInt,localType:R,dustSize:it.totalInput,satBytes:Z.expectedFeeRate,coinAmount:it.sendAmountInt,extraPublishParams:{coinAmount:it.sendAmountInt,txType:o.TRANS_OUT}});(0,lt.useEffect)(()=>{(async()=>{try{let{confirm:at,utxoList:ct}=it;at&&(await $({utxoList:ct}),ft.success(s("extension_defi_top_toast_speedup_success")),le({accelerate_status:"success"}))}catch{ft.error({title:s("extension_defi_top_toast_speedup_fail")})}})()},[it]);let _t=(0,lt.useCallback)(async()=>{if(G)return;if(S(!0),await li())try{let[at,ct,te,_l]=await ut(W,Z);if(!at&&!ct){ft.error({title:s("extension_defi_top_text_insufficient_utxo_pay")}),le({accelerate_status:"utxo_fail"}),S(!1);return}try{await E(te)}catch{S(!1);return}let Io=te.reduce((al,cl)=>al+cl.coinAmount,0),go=xe(_l,Number(Z.increaseFee)),wo=Number(Ro(Io,go));ct&&(wo=ht),nt({totalInput:Io,sendAmountInt:wo,networkFeeInt:go,utxoList:te,confirm:!0}),I(!1),h(!1),S(!1),C(!1),e(c)}catch(at){g(at,"confirm"),S(!1)}},[W,Z,l]),Qt=(0,lt.useCallback)(async()=>{T&&A(),y&&_t()},[A,y,T,_t]);return{isFetchingTxFee:D,btcSpeedUpHandle:A,isBTCSpeedUpDialogVisible:d,displayFee:K,isFetchBTCFeeInfoNetworkError:T,isConfirmAccelerateError:y,onConfirmAccelerateBTCTX:_t,setIsBTCSpeedUpDialogVisible:C,onRetryBtcSpeedUp:Qt}},Li=Il;function gl({data:t,onRefresh:e}){let{from:i,coinId:n,txStatus:a,isShowSpeedUp:l,isShowCancel:c,isShowSpeedupCancel:m,mainCoinId:p,showCloseTransaction:f,showTxRepeatBroadcast:d,include:C,coinSymbol:T}=t,I=ve(n),[y,h]=(0,et.useState)(!1),[D,H]=(0,et.useState)(!1),[G,S]=(0,et.useState)(!1),[K,tt]=(0,et.useState)(!1),it=ye(p),nt=$o(p);(0,et.useEffect)(()=>{Oo({button_appear:nt&&l?"yes":"no"})},[nt,l]);let[W]=(0,et.useState)(nt&&l),Z=it&&a===F.PENDING,ht=f||d||W,ut=C?.[0]?.protocolName,b=T,[w,E]=ii({coinId:n,address:i,chainId:I?.chainId},{ready:Z}),{isFetchingTxFee:g,btcSpeedUpHandle:A,isBTCSpeedUpDialogVisible:L,displayFee:R,isFetchBTCFeeInfoNetworkError:$,isConfirmAccelerateError:_t,onConfirmAccelerateBTCTX:Qt,setIsBTCSpeedUpDialogVisible:dt,onRetryBtcSpeedUp:at}=Li(t,e,W);return et.default.createElement("div",{className:"tx-detail-action"},(Z||ht)&&et.default.createElement(et.default.Fragment,null,et.default.createElement(Ci,{isLoading:g,isShowCancel:c,isShowSpeedUp:l&&it,isShowSpeedupCancel:m,showCloseTransaction:f,canAccelerateBtcTx:W,showTxRepeatBroadcast:d,onCancel:()=>{h(!0)},onSpeedUp:()=>{H(!0)},onClose:()=>{S(!0),no({token_name:b,protocol:ut,button_name:"releaseutxo"})},onRepeat:()=>{tt(!0),no({token_name:b,protocol:ut,button_name:"rebroadcast"})},onBtcSpeedUp:A}),y&&et.default.createElement(xi,{tx:t,signInfo:E,visible:y,onConfirm:ct=>{e(ct),h(!1)},onClose:()=>{h(!1)}}),D&&et.default.createElement(Ti,{tx:t,loading:w,signInfo:E,visible:D,onConfirm:ct=>{e(ct),H(!1)},onClose:()=>{H(!1)}}),(G||K)&&et.default.createElement(Di,{tx:t,closeVisible:G,repeatVisible:K,onConfirm:ct=>{e(ct),S(!1),tt(!1)},onClose:()=>{S(!1),tt(!1)}}),L&&et.default.createElement(Si,{tx:t,feeInfo:R,networkError:$||_t,visible:L,onConfirm:async()=>{await Qt()},onClose:()=>{dt(!1)},onRetry:at})))}var Ri=gl;r();_();var J=x(v()),Me=x(Ut()),dn=x(Ao());r();_();var Y=x(v()),ki=x(Ut());U();r();_();var Ue=x(v());U();r();_();var Fi=x(v());U();Lo();Bo();So();var wl=t=>{let{coinId:e}=t||{},i=(0,Fi.useRef)(!1),n=ei();return Vo(async()=>{try{if(i.current===!0||!e)return;i.current=!0;let a=await $t().getUserUniqueId(),l={coinId:e,accountId:n,userUniqueId:a},m={headers:await $t().getSignRequestHeaders({walletId:n})},[p]=await Promise.all([Jo({coinId:e}),ie(ne.postAddCoin,l,m)]);await Wo(p),ft.success(s("wallet_extension_customtoken_notification_title_token_added"))}catch{ft.error(s("wallet_home_toast_network_error"))}finally{i.current=!1}})},Bi=wl;r();_();var Oi={root:"_root_4qsur_1"};function El({coinId:t,hideTxType:e}){let i=mi(),n=(0,Ue.useMemo)(()=>!i||!t||!!i.some(l=>l.coinId===t),[t,i]),a=Bi({coinId:t});return n||e===Re.RISKY?null:Ue.default.createElement(Ho.IconButton,{className:Oi.root,icon:"okx-wallet-plugin-add",tooltip:{title:s("wallet_extension_customtoken_tooltips_add_token"),placement:mt.DIRECTION.topLeft},onClick:a})}var Pi=El;r();_();var u={"coin-flow":"_coin-flow_1t7y4_1",coinFlow:"_coin-flow_1t7y4_1","coin-flow__include":"_coin-flow__include_1t7y4_7",coinFlowInclude:"_coin-flow__include_1t7y4_7","coin-flow__include-title":"_coin-flow__include-title_1t7y4_14",coinFlowIncludeTitle:"_coin-flow__include-title_1t7y4_14","coin-flow__include-item":"_coin-flow__include-item_1t7y4_21",coinFlowIncludeItem:"_coin-flow__include-item_1t7y4_21","coin-flow__include-item-icon":"_coin-flow__include-item-icon_1t7y4_27",coinFlowIncludeItemIcon:"_coin-flow__include-item-icon_1t7y4_27","coin-flow__include-item-token":"_coin-flow__include-item-token_1t7y4_33",coinFlowIncludeItemToken:"_coin-flow__include-item-token_1t7y4_33","coin-flow__include-item-protocol":"_coin-flow__include-item-protocol_1t7y4_42",coinFlowIncludeItemProtocol:"_coin-flow__include-item-protocol_1t7y4_42","coin-flow__protocol":"_coin-flow__protocol_1t7y4_46",coinFlowProtocol:"_coin-flow__protocol_1t7y4_46","coin-flow__protocol-title":"_coin-flow__protocol-title_1t7y4_53",coinFlowProtocolTitle:"_coin-flow__protocol-title_1t7y4_53","coin-flow__protocol-item":"_coin-flow__protocol-item_1t7y4_60",coinFlowProtocolItem:"_coin-flow__protocol-item_1t7y4_60","coin-flow__protocol-item-icon":"_coin-flow__protocol-item-icon_1t7y4_66",coinFlowProtocolItemIcon:"_coin-flow__protocol-item-icon_1t7y4_66","coin-flow__protocol-item-token":"_coin-flow__protocol-item-token_1t7y4_72",coinFlowProtocolItemToken:"_coin-flow__protocol-item-token_1t7y4_72","coin-flow__protocol-item-protocol":"_coin-flow__protocol-item-protocol_1t7y4_81",coinFlowProtocolItemProtocol:"_coin-flow__protocol-item-protocol_1t7y4_81","coin-flow__mul-icons__top-right":"_coin-flow__mul-icons__top-right_1t7y4_85",coinFlowMulIconsTopRight:"_coin-flow__mul-icons__top-right_1t7y4_85","coin-flow__mul-icons__bottom-right":"_coin-flow__mul-icons__bottom-right_1t7y4_89",coinFlowMulIconsBottomRight:"_coin-flow__mul-icons__bottom-right_1t7y4_89","coin-flow__hidden-label":"_coin-flow__hidden-label_1t7y4_93",coinFlowHiddenLabel:"_coin-flow__hidden-label_1t7y4_93","coin-flow__label-text":"_coin-flow__label-text_1t7y4_93",coinFlowLabelText:"_coin-flow__label-text_1t7y4_93","coin-flow__label":"_coin-flow__label_1t7y4_93",coinFlowLabel:"_coin-flow__label_1t7y4_93","coin-flow__label__overflow":"_coin-flow__label__overflow_1t7y4_105",coinFlowLabelOverflow:"_coin-flow__label__overflow_1t7y4_105","coin-flow__label__expand":"_coin-flow__label__expand_1t7y4_108",coinFlowLabelExpand:"_coin-flow__label__expand_1t7y4_108","coin-flow__receive":"_coin-flow__receive_1t7y4_121",coinFlowReceive:"_coin-flow__receive_1t7y4_121","coin-flow__record-title":"_coin-flow__record-title_1t7y4_121",coinFlowRecordTitle:"_coin-flow__record-title_1t7y4_121","coin-flow__record":"_coin-flow__record_1t7y4_121",coinFlowRecord:"_coin-flow__record_1t7y4_121","coin-flow__record-left-box":"_coin-flow__record-left-box_1t7y4_132",coinFlowRecordLeftBox:"_coin-flow__record-left-box_1t7y4_132","coin-flow__record-title-box":"_coin-flow__record-title-box_1t7y4_138",coinFlowRecordTitleBox:"_coin-flow__record-title-box_1t7y4_138","coin-flow__tool-tip":"_coin-flow__tool-tip_1t7y4_144",coinFlowToolTip:"_coin-flow__tool-tip_1t7y4_144","coin-flow__record-left-box--middle":"_coin-flow__record-left-box--middle_1t7y4_148",coinFlowRecordLeftBoxMiddle:"_coin-flow__record-left-box--middle_1t7y4_148","coin-flow__record-left-box--has-right":"_coin-flow__record-left-box--has-right_1t7y4_152",coinFlowRecordLeftBoxHasRight:"_coin-flow__record-left-box--has-right_1t7y4_152","protocol-margin":"_protocol-margin_1t7y4_168",protocolMargin:"_protocol-margin_1t7y4_168","coin-flow__record-icon":"_coin-flow__record-icon_1t7y4_173",coinFlowRecordIcon:"_coin-flow__record-icon_1t7y4_173","coin-flow__record-icon-nft":"_coin-flow__record-icon-nft_1t7y4_181",coinFlowRecordIconNft:"_coin-flow__record-icon-nft_1t7y4_181","coin-flow__record-icon__mul-icons-wrap":"_coin-flow__record-icon__mul-icons-wrap_1t7y4_184",coinFlowRecordIconMulIconsWrap:"_coin-flow__record-icon__mul-icons-wrap_1t7y4_184","coin-flow__record-right-box":"_coin-flow__record-right-box_1t7y4_201",coinFlowRecordRightBox:"_coin-flow__record-right-box_1t7y4_201","coin-flow__record-halfwidth":"_coin-flow__record-halfwidth_1t7y4_206",coinFlowRecordHalfwidth:"_coin-flow__record-halfwidth_1t7y4_206","coin-flow__record-jumpInfo-box":"_coin-flow__record-jumpInfo-box_1t7y4_210",coinFlowRecordJumpInfoBox:"_coin-flow__record-jumpInfo-box_1t7y4_210","coin-flow__record__plus":"_coin-flow__record__plus_1t7y4_217",coinFlowRecordPlus:"_coin-flow__record__plus_1t7y4_217","coin-flow__pointer":"_coin-flow__pointer_1t7y4_222",coinFlowPointer:"_coin-flow__pointer_1t7y4_222","coin-flow__invest-apply-right":"_coin-flow__invest-apply-right_1t7y4_225",coinFlowInvestApplyRight:"_coin-flow__invest-apply-right_1t7y4_225","coin-flow__invest-apply-num":"_coin-flow__invest-apply-num_1t7y4_231",coinFlowInvestApplyNum:"_coin-flow__invest-apply-num_1t7y4_231","coin-flow__invest-apply-num__tooltip":"_coin-flow__invest-apply-num__tooltip_1t7y4_241",coinFlowInvestApplyNumTooltip:"_coin-flow__invest-apply-num__tooltip_1t7y4_241","coin-flow__invest-apply-num__tooltip__content":"_coin-flow__invest-apply-num__tooltip__content_1t7y4_247",coinFlowInvestApplyNumTooltipContent:"_coin-flow__invest-apply-num__tooltip__content_1t7y4_247","coin-flow__invest-apply-token":"_coin-flow__invest-apply-token_1t7y4_253",coinFlowInvestApplyToken:"_coin-flow__invest-apply-token_1t7y4_253","coin-flow__invest-platform-name":"_coin-flow__invest-platform-name_1t7y4_264",coinFlowInvestPlatformName:"_coin-flow__invest-platform-name_1t7y4_264","coin-flow__claim":"_coin-flow__claim_1t7y4_269",coinFlowClaim:"_coin-flow__claim_1t7y4_269","coin-flow__claim__icon":"_coin-flow__claim__icon_1t7y4_273",coinFlowClaimIcon:"_coin-flow__claim__icon_1t7y4_273","coin-flow__claim-info":"_coin-flow__claim-info_1t7y4_276",coinFlowClaimInfo:"_coin-flow__claim-info_1t7y4_276",flowRightToken:"_flowRightToken_1t7y4_288",flowRightApply:"_flowRightApply_1t7y4_293"};var yl=(t,e)=>{!t||globalThis.platform.openTab({url:`https://${e}/${t}`})},hl=t=>{t||(t=""),typeof t!="string"&&(t=t.toString());let e=t?.length;return e<=15?"18px":e<=17?"16px":e<=19?"14px":(e<=22,"12px")};function Al(t){t||(t=""),typeof t!="string"&&(t=t.toString());let e=t?.length;return e<=13?"32px":e===14?"30px":e===15?"28px":e===16?"26px":e===17?"24px":e<=19?"22px":e<=21?"20px":e<=23?"18px":e<=26?"16px":e<=30?"14px":"12px"}function vl({recordData:t,isNFT:e,icon:i,title:n,subTitle:a,right:l,autoWidth:c,jumpInfo:m,hasPlus:p,isNewInclude:f,addCustomCoin:d}){let C=Zo(),T=we(),I=typeof i=="string"?Y.default.createElement(ni,{isNFT:e,className:(0,ki.default)({}),src:i,alt:""}):i;return f?Y.default.createElement("div",{className:`${f?u["coin-flow__protocol"]:u["coin-flow__include"]}`},Y.default.createElement("div",{className:`${u["coin-flow__include-title"]}`},s("extension_defi_card_text_include_assets")),(t?.items||[]).map(y=>Y.default.createElement("div",{className:`${u["coin-flow__include-item"]}`},Y.default.createElement("img",{className:`${u["coin-flow__include-item-icon"]}`,alt:"",src:y.icon}),Y.default.createElement(Wt.AdaptiveText,{className:`${u["coin-flow__include-item-token"]}`,text:y.title,ellipsis:{tooltip:!0},autoSize:hl},y.title),y.right))):Y.default.createElement(Y.default.Fragment,null,Y.default.createElement("div",{className:`${u["coin-flow__record"]} ${m?u["coin-flow__pointer"]:""}`,onClick:()=>{yl(m,C)}},Y.default.createElement("div",{className:u["coin-flow__record-icon"]},I),Y.default.createElement("div",{className:u["coin-flow__record-left-box--middle"]},Y.default.createElement("div",{className:l?u["coin-flow__record-left-box--has-right"]:u["coin-flow__record-left-box"]},Y.default.createElement("div",{className:`${c?u["protocol-margin"]:u["coin-flow__record-title-box"]}`},!l||c?Y.default.createElement(Wt.AdaptiveText,{className:"coin-flow__record-title",text:n,ellipsis:{tooltip:!0},autoSize:Al},n):Y.default.createElement(Wt.Text,{ellipsis:{tooltip:!0},className:`coin-flow__record-title ${u["coin-flow__record-title"]}`},n),a&&Y.default.createElement("div",{className:u["coin-flow__record-sub-title"]},a)),l&&Y.default.createElement("div",{className:`${u["coin-flow__record-right-box"]} ${c?"":u["coin-flow__record-halfwidth"]}`},l))),d&&Y.default.createElement(Pi,{...d}),m&&Y.default.createElement("img",{className:u["coin-flow__record-jumpInfo-box"],src:`${T}/cdn/assets/imgs/236/1708B3075C6617C7.svg`,alt:"goto"})),p&&Y.default.createElement(Rt,{className:`${u["coin-flow__record__plus"]} okds-plus`}))}var ce=vl;r();_();var j=x(v()),ro=x(Ut());U();r();_();var Ht=x(v());function Dl({logo:t}){let{middleLogo:e,bottomRightLogo:i,topRightLogo:n}=t||{},a=i&&i.length>0,l=n&&n.length>0;return Ht.default.createElement(Ht.default.Fragment,null,Ht.default.createElement(be,{srcset:e&&e.length>0?e:[Nt],topRightLogo:n,bottomRightLogo:i}),(l||a)&&Ht.default.createElement("div",{className:u["coin-flow__record-icon__mul-icons-wrap"]},l&&Ht.default.createElement(be,{className:u["coin-flow__mul-icons__top-right"],size:"small",srcset:n}),a&&Ht.default.createElement(be,{className:u["coin-flow__mul-icons__bottom-right"],size:"small",srcset:i})))}var qt=Dl;r();_();var vt=(t,e)=>t?e?`+ ${X(t,{symbol:e})}`:`+ ${X(t)}`:"--",Vt=(t,e)=>t?e?`- ${X(t,{symbol:e})}`:`- ${X(t)}`:"--";var{NFT_AUTHORIZATION:Ui,NFT_CANCEL_AUTHORIZATION:Mi,CANCEL_NFT:_o,AUTHORIZATION:Hi,CANCEL_AUTHORIZATION:Vi,REGISTRATION:Sl,DAPP_APPLY:Gi,DAPP_REDEEM:$i,DAPP_CLAIM:Wi,BRC20_TRADE:Zi,BRC20_SEND:Yi,BRC20_RECEIVE:Ki,BRC20_MINT:qi,BRC20_INSCRIBE:zi,BRC20_DEPLOY:Xi,BRC30_TRADE:bl,EARN_BRC30_APPLY:ji,EARN_BRC30_REDEEM:Ji,EARN_BRC30_CLAIM:Qi,EARN_BRC30_DEPLOY:Ll,BRC30_SEND:tn,BRC30_RECEIVE:en,BRC30_INSCRIBE:on,ORDINAL_NFT:nn,ORDINAL_TEXT:ln,MINT_NFT:Rl,BTC_NFT_BULK_RECEIVE:Fl,BTC_NFT_BULK_SEND:Bl,BTC_NFT_BULK_TRADE:Ol,DEFI_MINT:Pl,DEFI_REPAY:kl,RUNES_ETCH:sn,RUNES_SWEEP:rn}=o,Ul="/static/images/tx-history/default-nft-detail.svg";function Ml(t){return t?Ul:Nt}var Ot={[Hi]:"wallet_extension_header_approval_title_for",[Vi]:"wallet_extension_header_approval_title_for",[_o]:"wallet_extension_text_cancel_listing_on",[Ui]:"wallet_extension_approve_text_for",[Mi]:"wallet_extension_approve_text_for",[Gi]:"wallet_extension_subtitle_into",[$i]:"wallet_extension_subtitle_receive",[Wi]:"wallet_extension_subtitle_from",[Ji]:"wallet_extension_subtitle_receive",[ji]:"wallet_extension_subtitle_into",[Qi]:"wallet_extension_subtitle_receive",[on]:"wallet_extension_header_redeem_title_reveive",[zi]:"wallet_extension_header_redeem_title_reveive",[en]:"extension_wallet_details_text_include",[Ki]:"extension_wallet_details_text_include",[nn]:"extension_wallet_details_text_receive",[ln]:"extension_wallet_details_text_receive",[Xi]:"extension_wallet_details_text_receive",[qi]:"extension_wallet_details_text_receive",[tn]:"extension_wallet_details_text_include",[Yi]:"extension_wallet_details_text_include",[Zi]:"extension_wallet_details_text_receive",[sn]:"extension_wallet_details_text_receive",[rn]:"extension_wallet_details_text_receive",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_RECEIVE]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_TRADE]:"extension_defi_header_textarea_receive",[o.DEFI_MINT]:"extension_defi_history_header_text_receive",[o.DEFI_REPAY]:"extension_defi_history_header_text_into"},Hl="/static/images/tx-history/default-protocol.svg",me="/static/images/tx-history/default-brcnft.svg";function Vl(t){let e=s("wallet_extension_history_text_unknown_token"),i=s("wallet_extension_history_text_unknown_protocol"),n=Object.values(o);return(0,j.useMemo)(()=>{let{txType:a,input:l,include:c,investTxData:m,contractInfo:p,output:f,hideTxType:d}=t,{investInfo:C,investOutCoins:T}=m??{},I=()=>!l||!l.length?null:{label:s("wallet_extension_header_redeem_title_reveive"),items:l.map(({name:w,amount:E,icon:g,nftId:A,protocolName:L,coinId:R})=>(g=g||Ml(A),{isNFT:!!A,icon:g,title:vt(E,w),right:L?j.default.createElement(xt,{className:u.protocol,size:Mt.SIZE.sm},L):null,autoWidth:!!L,addCustomCoin:{coinId:R,hideTxType:d}})),className:"coin-flow__receive"},y=()=>m?{label:s("wallet_extension_header_redeem_title_reveive"),items:[{isNFT:!0,icon:m?.investInfo?.investLogo?.middleLogo[0]||Nt,title:m?.investInfo?.investName,subTitle:j.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},m?.investInfo?.poolId?`ID: ${m?.investInfo?.poolId}`:"")}]}:null,h=()=>l&&l.length>0?{label:s(Ot[t.txType]),items:l.map(({name:w,amount:E,icon:g,nftId:A,brc20Coin:L,brc20sCoin:R,protocolName:$})=>(g=g||me,{isNFT:!!A||L||R,icon:g,title:vt(E,w),right:$?j.default.createElement(xt,{className:u.protocol,size:Mt.SIZE.sm},$):null,autoWidth:!!$})),className:"coin-flow__receive"}:null,D=()=>c?.length?{isNewInclude:!0,items:(c||[]).map(({name:w,amount:E,icon:g,vdecimalNum:A,nftId:L,brc20Coin:R,brc20sCoin:$,protocolName:_t})=>({isNFT:!!L||R||$,icon:g||me,title:`- ${lo(E,{fixed:A})} ${w}`,right:_t?j.default.createElement(xt,{className:u.protocol,size:Mt.SIZE.sm},_t):null,autoWidth:!!_t}))}:null,H=()=>({items:(f||[]).map(({name:w,amount:E,icon:g,vdecimalNum:A,nftId:L,brc20Coin:R,brc20sCoin:$})=>({isNFT:!!L||R||$,icon:g||me,title:`- ${lo(E,{fixed:A})} ${w}`}))}),G=()=>l&&l.length>0?{items:(l||[]).map(({name:w,amount:E,icon:g,nftId:A,brc20Coin:L,brc20sCoin:R})=>({isNFT:!!A||L||R,icon:g||me,title:`+ ${X(E,{symbol:w})}`}))}:null,S=()=>({label:s(Ot[t.txType]),items:[{icon:p?.icon||Hl,title:p?.name||i,subTitle:t.txType!==_o&&p?.address&&j.default.createElement(Zt,{className:u["coin-flow__record-address"],label:q(p.address),value:p.address,message:s("wallet_extension_popup_title_receiving_address_copied"),addressStyle:{color:"var(--okd-color-content-contrast)"}})}]}),K=()=>{let{investName:w,investLogo:E,poolId:g}=C||{},A;return{isNFT:!0,label:s(Ot[t.txType]),items:[{icon:j.default.createElement(qt,{logo:E}),title:w??e,subTitle:j.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},g?`ID: ${g}`:""),right:A}]}},tt=()=>{let{investName:w,platformName:E,investLogo:g}=C||{},A,L="",R="";if(!t.investTxData)return null;if(t.investTxData.investmentDetailType===Ct.FARM_OTHER_TOKEN&&(L=u.flowRightToken,R=u.flowRightApply),(t.investTxData.investmentDetailType===Ct.SAVE_OTHER_COIN||t.investTxData.investmentDetailType===Ct.VAULTS_OTHER_COIN||t.investTxData.investmentDetailType===Ct.FARM_OTHER_TOKEN)&&T&&T.length>0){let[{tokenName:$,num:_t}]=T;A=j.default.createElement("div",{className:(0,ro.default)(u["coin-flow__invest-apply-right"],R)},j.default.createElement("div",{className:u["coin-flow__invest-apply-num"]},j.default.createElement(_e,{text:X(_t),maxWidth:"85px"})),j.default.createElement("div",{className:(0,ro.default)(u["coin-flow__invest-apply-token"],L)},$))}return{label:s(Ot[t.txType]),items:[{icon:j.default.createElement(qt,{logo:g}),title:w??e,subTitle:j.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},E??i),right:A}]}},it=()=>({label:s(Ot[t.txType]),items:(m.investInCoins||[]).map(({tokenName:E,num:g,tokenLogo:A})=>(g=vt(g),{icon:A??e,title:`${g} ${E}`})),className:"coin-flow__receive"}),nt=()=>!T||T?.length===0?null:{label:s(Ot[t.txType]),items:(T||[]).map(({tokenName:w,num:E,tokenLogo:g,tokenId:A})=>{let L=vt(E),R=t.txStatus===F.SUCCESS&&A,$=R?`${L} ${w} #${R}`:`${L} ${w}`;return{icon:g,title:$}}),className:"coin-flow__receive"},W=()=>{let w=s(Ot[t.txType]);return m?{isNFT:!0,label:w,items:(m.investInCoins||[]).map(({tokenName:E,num:g,tokenLogo:A})=>(g=vt(g),{icon:A??e,title:`${g} ${E}`})),className:"coin-flow__receive"}:null},Z=()=>{let{platformName:w,investLogo:E,investName:g}=C||{};return{label:s(Ot[t.txType]),items:[{icon:j.default.createElement(qt,{logo:E}),title:g??e,subTitle:j.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},w??i)}]}},ht=()=>c&&c.length>0?{isNewInclude:!0,items:(c||[]).map(({name:w,amount:E,icon:g,nftId:A,brc20Coin:L,brc20sCoin:R,protocolName:$})=>({isNFT:!!A||L||R,icon:g||me,title:`+ ${X(E,{symbol:w})}`,right:$?j.default.createElement(xt,{className:u.protocol,size:Mt.SIZE.sm},$):null,autoWidth:!!$,includeAssets:c}))}:null,ut=()=>null,b={[Ll]:y,[on]:h,[zi]:h,[nn]:h,[ln]:h,[Xi]:h,[qi]:h,[sn]:h,[rn]:h,[en]:ht,[Ki]:ht,[bl]:h,[Zi]:h,[tn]:D,[Yi]:D,[Ui]:S,[Mi]:S,[Vi]:S,[Hi]:S,[_o]:S,[ji]:K,[Gi]:tt,[Ji]:it,[$i]:nt,[Qi]:W,[Wi]:Z,[Sl]:ut,[Rl]:I,[Bl]:H,[Fl]:G,[Ol]:h,[Pl]:nt,[kl]:tt};return b[a]?b[a]():n.includes(a)?I():null},[t])}var _n=Vl;r();_();var Q=x(v()),zt=x(Ut());U();var mn="/static/images/tx-history/default-nft-detail.svg",Gl="/static/images/tx-history/default-nft.svg",an="/static/images/tx-history/default-brcnft.svg";function cn(t){return t?mn:Nt}var Et={[o.AUTHORIZATION]:"wallet_extension_header_approval_title_approve",[o.CANCEL_AUTHORIZATION]:"wallet_extension_header_approval_title_cancel_approval",[o.CANCEL_NFT]:"wallet_extension_text_cancel_listing",[o.NFT_AUTHORIZATION]:"wallet_extension_approve_text_approve",[o.NFT_CANCEL_AUTHORIZATION]:"wallet_extension_title_revoke_approve",[o.DAPP_APPLY]:"wallet_extension_subtitle_investwith",[o.DAPP_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_DEPLOY]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_APPLY]:"wallet_extension_subtitle_investwith",[o.EARN_BRC30_CLAIM]:"wallet_extension_subtitle_claim",[o.BRC20_RECEIVE]:"extension_wallet_details_text_receive",[o.BRC30_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_DEPLOY]:"extension_wallet_details_text_send",[o.ORDINAL_NFT]:"extension_wallet_details_text_send",[o.ORDINAL_TEXT]:"extension_wallet_details_text_send",[o.BRC20_MINT]:"extension_wallet_details_text_send",[o.BRC30_TRADE]:"extension_wallet_details_text_send",[o.BRC20_TRADE]:"extension_wallet_details_text_send",[o.BRC20_SEND]:"extension_wallet_details_text_send",[o.BRC30_SEND]:"extension_wallet_details_text_send",[o.RUNES_SWEEP]:"extension_wallet_details_text_send",[o.DAPP_CLAIM]:"wallet_extension_subtitle_claimwith",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_send",[o.BTC_NFT_BULK_RECEIVE]:"extension_defi_header_textarea_pay",[o.BTC_NFT_BULK_TRADE]:"extension_wallet_details_text_send",[o.DEFI_MINT]:"extension_defi_history_header_text_mint_from",[o.DEFI_REPAY]:"extension_defi_history_header_text_repay_with"};function $l(t){let e=s("wallet_extension_history_text_unknown_token"),i=s("wallet_extension_history_text_unknown_protocol");return(0,Q.useMemo)(()=>{let{txType:n,txStatus:a,approveInfo:l,input:c,output:m,investTxData:p,poolId:f}=t,{investInCoins:d}=t.investTxData||{},C=Object.values(o),T=()=>m&&m.length>0?{label:s(Et[n]),items:(m||[]).map(({name:b,amount:w,icon:E,nftId:g,brc20Coin:A,brc20sCoin:L,protocolName:R})=>({isNFT:!!g||A||L,icon:E||an,title:Vt(w,b),right:R?Q.default.createElement(xt,{className:u.protocol,size:Mt.SIZE.sm},R):null,autoWidth:!!R}))}:null,I=()=>!c||!c?.length?null:{label:s("extension_wallet_details_text_receive"),className:"coin-flow__receive",items:(c||[]).map(({name:b,amount:w,icon:E,nftId:g,brc20Coin:A,brc20sCoin:L,protocolName:R})=>({isNFT:!!g||A||L,icon:E||an,title:vt(w,b),right:R?Q.default.createElement("div",{className:(0,zt.default)(u.protocol)},R):null,autoWidth:!!R}))},y=()=>({label:s(Et[n]),items:[{icon:l?.icon||Nt,title:l?.name||e}]}),h=()=>({label:s(Et[n]),items:[{icon:l?.nftCollectionIcon||Gl,title:l?.nftCollectionName||s("wallet_extension_title_approve_nft_collection")}]}),D=()=>({label:s(Et[n]),items:(m||[]).map(({nftId:b,icon:w,name:E})=>({isNFT:!!b,icon:w||mn,title:E||s("wallet_extension_title_approve_nft")}))}),H=()=>{let{registerInfo:b}=t;return b?{label:"",items:[{icon:b?.icon||Nt,title:b?.name||e}],title:s("wallet_extension_title_approve_nft")}:null},G=()=>({label:s(Et[n]),items:(d||[]).map(({tokenName:b,num:w,tokenLogo:E})=>(w=Vt(w),{icon:E??e,title:`${w} ${b}`}))}),S=()=>({label:s(Et[n]),items:(d||[]).map(({tokenName:b,num:w,tokenLogo:E})=>(w=Vt(w),{icon:E??e,title:`${w} ${b}`}))}),K=()=>{let{investInfo:b,redeemShowNum:w}=t.investTxData||{},{investName:E,platformName:g,investLogo:A}=b||{},L=null,R="",$="";if(!t.investTxData)return null;let _t=t.investTxData.investmentDetailType;if((_t==Ct.FARM_LP_TOKEN||_t==Ct.FARM_OTHER_TOKEN)&&(R=u.flowRightToken,$=u.flowRightApply),w&&d&&d.length){let Qt=Vt(d[0]?.num);L=Q.default.createElement("div",{className:(0,zt.default)(u["coin-flow__invest-apply-right"],$)},Q.default.createElement("div",{className:u["coin-flow__invest-apply-num"]},Q.default.createElement(Wt.Text,{ellipsis:{tooltip:!0},className:u["coin-flow__invest-apply-num__tooltip"]},Qt)),Q.default.createElement("div",{className:(0,zt.default)(u["coin-flow__invest-apply-token"],R)},d[0]?.tokenName))}return{label:s(Et[n]),items:[{icon:Q.default.createElement(qt,{logo:A}),title:E??e,right:L,subTitle:Q.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},g??i)}]}},tt=()=>p?{label:s(Et[n]),items:[{isNFT:!1,icon:p.investInfo.investLogo.middleLogo[0]||Nt,title:p.investInfo.investName,subTitle:Q.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},p.investInfo.poolId?`ID: ${p.investInfo.poolId}`:"")}]}:null,it=()=>p?{label:s(Et[n]),items:[{isNFT:!1,icon:p.investInfo.investLogo.middleLogo[0]||Nt,title:p.investInfo.investName,subTitle:Q.default.createElement("div",{className:u["coin-flow__invest-platform-name"]},f?`ID: ${f}`:"")}]}:null,nt=()=>{let b;return a===F.PENDING?b=Q.default.createElement("div",{className:u["coin-flow__claim"]},s("wallet_extension_subtitle_claimwith"),Q.default.createElement(mt,{title:s("wallet_extension_card_ntfy_claim_text"),placement:mt.DIRECTION.bottomLeft},Q.default.createElement("span",{className:`okds-information-circle ${u["coin-flow__claim__icon"]}`}))):b=s(Et[n]),{label:b,items:(d||[]).map(({tokenName:w,num:E,tokenLogo:g})=>(E=vt(E),{icon:g??e,title:`${E} ${w}`,className:"coin-flow__receive"}))}},W=()=>m&&m.length>0?{label:s("wallet_extension_header_redeem_title_sent"),items:(m||[]).map(({name:b,amount:w,icon:E,nftId:g,protocolName:A,include:L})=>({isNFT:!!g,icon:E||cn(g),title:Vt(w,b),right:A?Q.default.createElement("div",{className:(0,zt.default)(u.protocol)},A):null,autoWidth:!!A,includeAssets:L}))}:null,Z=()=>m&&m.length>0?{label:s("wallet_extension_header_redeem_title_sent"),items:(m||[]).map(({name:b,amount:w,icon:E,nftId:g,protocolName:A})=>({isNFT:!!g,icon:E||cn(g),title:Vt(w,b),right:A?Q.default.createElement("div",{className:(0,zt.default)(u.protocol)},A):null,autoWidth:!!A}))}:null,ht=()=>null,ut={[o.BRC30_INSCRIBE]:T,[o.BRC20_INSCRIBE]:T,[o.BRC20_DEPLOY]:T,[o.ORDINAL_NFT]:T,[o.ORDINAL_TEXT]:T,[o.BRC20_MINT]:T,[o.BRC20_TRADE]:T,[o.BRC30_TRADE]:T,[o.BRC20_RECEIVE]:I,[o.BRC30_RECEIVE]:I,[o.RUNES_SWEEP]:T,[o.CANCEL_AUTHORIZATION]:y,[o.AUTHORIZATION]:y,[o.NFT_CANCEL_AUTHORIZATION]:h,[o.NFT_AUTHORIZATION]:h,[o.CANCEL_NFT]:D,[o.REGISTRATION]:H,[o.EARN_BRC30_APPLY]:G,[o.DAPP_APPLY]:S,[o.EARN_BRC30_REDEEM]:tt,[o.DAPP_REDEEM]:K,[o.EARN_BRC30_CLAIM]:it,[o.DAPP_CLAIM]:nt,[o.BTC_NFT_BULK_SEND]:ht,[o.BTC_NFT_BULK_RECEIVE]:ht,[o.BRC20_SEND]:W,[o.BRC30_SEND]:W,[o.DEFI_MINT]:K,[o.DEFI_REPAY]:S,default:Z};return ut[n]?ut[n]():C.includes(n)?Z():null},[t])}var pn=$l;function ao({className:t,label:e,children:i}){return J.default.createElement("div",{className:(0,Me.default)(e?u["coin-flow__label"]:"",t)},J.default.createElement("div",{className:u["coin-flow__label-text"]},e),J.default.createElement("div",null,i))}function Wl({className:t,label:e,children:i,isExpand:n,setExpand:a}){return J.default.createElement("div",{className:(0,Me.default)(e?u["coin-flow__label__overflow"]:"",t)},J.default.createElement("div",{className:u["coin-flow__label-text"]},e),J.default.createElement("div",null,n?i:i.slice(0,2)),J.default.createElement(Oe,{className:u["coin-flow__label__expand"],side:n?Oe.SIDE.TOP:Oe.SIDE.BOTTOM,onClick:()=>{a(!n)}}))}function co({data:t}){let{txType:e}=t,i=pn(t),n=_n(t),[a,l]=(0,J.useState)(!1);if(!i&&!n||e===o.CANCEL_NFT&&i.items.length===0)return null;let c=!i||!n,m=p=>{if(!p)return null;let{items:f,label:d,...C}=p,T=t?.investmentPath;return p?.isNewInclude?J.default.createElement(ao,{...C,label:d},J.default.createElement(ce,{recordData:p,isNewInclude:p?.isNewInclude})):e===o.DAPP_APPLY||e===o.DAPP_REDEEM?J.default.createElement(ao,{...C,label:d},f.map((I,y)=>J.default.createElement(ce,{jumpInfo:I.subTitle?T:void 0,...I,key:y,hasPlus:f.length>=2&&y!==f.length-1,label:d}))):f?.length>2?J.default.createElement(Wl,{...C,label:d,isExpand:a,setExpand:l},f.map((I,y)=>J.default.createElement(ce,{...I,key:y}))):J.default.createElement(ao,{...C,label:d},f?.map((I,y)=>J.default.createElement(ce,{jumpInfo:I.subTitle?T:void 0,...I,key:y})))};return J.default.createElement("div",{className:(0,Me.default)(u["coin-flow"],{[u["coin-flow__hidden-label"]]:c})},m(i),m(n))}var fn=co;co.propTypes={data:dn.default.object};co.defaultProps={data:{}};r();_();var rt=x(v());var un=x(pl());U();r();_();var It=x(v());U();r();_();var He={"tx-detail-info__add-address":"_tx-detail-info__add-address_11gsp_1",txDetailInfoAddAddress:"_tx-detail-info__add-address_11gsp_1","tx-detail-info__add-address__tooltip":"_tx-detail-info__add-address__tooltip_11gsp_1",txDetailInfoAddAddressTooltip:"_tx-detail-info__add-address__tooltip_11gsp_1","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_11gsp_1",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_11gsp_1"};function Zl({address:t,network:e}){let[i,n]=(0,It.useState)(!1),[a,l]=(0,It.useState)({}),[c,m]=(0,It.useState)(""),p=ci(()=>{m(Be.TYPE.ADD),l({address:t,network:e}),n(!0)}),f=C=>{n(!1),setTimeout(()=>{m(Be.TYPE.EDIT),l({...C,network:e}),n(!0)})},d=()=>{n(!1),l({}),m("")};return It.default.createElement(It.default.Fragment,null,It.default.createElement("div",{className:He["tx-detail-info__add-address"]},It.default.createElement(mt,{className:He["tx-detail-info__add-address__tooltip"],title:s("wallet_extension_history_pop_tap_to_add"),type:mt.TYPES.neutral,placement:mt.DIRECTION.bottomRight},It.default.createElement(Rt,{className:`${He["tx-detail-info__add-address__img"]} okds-plus-circle`,onClick:p}))),i&&It.default.createElement(Be,{type:c,data:a,onClose:d,onChangeToEdit:f}))}var Ve=Zl;r();_();var gt={address:"_address_1fl2c_1","address-type":"_address-type_1fl2c_5",addressType:"_address-type_1fl2c_5","address-content":"_address-content_1fl2c_12",addressContent:"_address-content_1fl2c_12","address-string":"_address-string_1fl2c_21",addressString:"_address-string_1fl2c_21","address-right":"_address-right_1fl2c_28",addressRight:"_address-right_1fl2c_28","address-container":"_address-container_1fl2c_31",addressContainer:"_address-container_1fl2c_31","address-tag":"_address-tag_1fl2c_36",addressTag:"_address-tag_1fl2c_36"};function Yl({data:t}){let{inAdrList:e,txType:i,mainCoinId:n,coinId:a}=t,[,l]=De(a),m=Ae({coinId:+n})?.localType,[p,f]=rt.default.useState(!0),d=Le(m),C=Ko(),T=Go(()=>[...new Set((e||[]).map(({address:y})=>y))].map(y=>{let h=!1,D;(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.BRC20_RECEIVE||i===o.BRC20_SEND||i===o.BRC20_INSCRIBE||i===o.BRC20_MINT||i===o.BRC20_DEPLOY||i===o.ORDINAL_NFT||i===o.ORDINAL_TEXT||i===o.BRC20_TRADE||i===o.BRC30_TRADE||i===o.RUNES_SWEEP)&&(D=d(y),h=!D);let G=Object.values(C).find(tt=>!(0,un.default)(tt[y]))?.[y],S=G?Se(s,G,l?.symbol):s("wallet_extension_popup_title_receiving_address_copied"),K=G?s(Ce[Ie[G]]):"";return{address:y,canAdd:h,msg:S,tag:K,tag2:D}}),[e,i,d,C,l,s]);return!T||T.length===0?null:rt.default.createElement("div",{className:gt.address},rt.default.createElement("div",{className:gt["address-type"]},s("wallet_extension_mid_text_from")),T.map(I=>rt.default.createElement(rt.default.Fragment,null,rt.default.createElement("div",{className:gt["address-content"]},rt.default.createElement("div",{className:gt["address-string"]},I.address),rt.default.createElement("div",{className:gt["address-right"]},rt.default.createElement(Zt,{label:I.label,value:I.address,message:I.msg}),I.canAdd&&rt.default.createElement(Ve,{address:I.address,network:m}))),rt.default.createElement("div",{className:gt["address-container"]},I.tag&&rt.default.createElement(xt,{className:gt["address-tag"]},I?.tag),I?.tag2?.name&&rt.default.createElement(xt,{className:gt["address-tag"]},I?.tag2?.name)))),rt.default.createElement("div",{className:p?gt.fold:gt.unfold,onClick:()=>{f(!p)}}))}var xn=Yl;r();_();var pt=x(v());U();r();_();var Pt={"address-to":"_address-to_1029p_1",addressTo:"_address-to_1029p_1","address-type":"_address-type_1029p_4",addressType:"_address-type_1029p_4","address-content":"_address-content_1029p_12",addressContent:"_address-content_1029p_12","address-string":"_address-string_1029p_21",addressString:"_address-string_1029p_21","address-right":"_address-right_1029p_28",addressRight:"_address-right_1029p_28","address-container":"_address-container_1029p_31",addressContainer:"_address-container_1029p_31","tx-clipboard__tag":"_tx-clipboard__tag_1029p_36",txClipboardTag:"_tx-clipboard__tag_1029p_36"};function Kl({data:t}){let{to:e,txType:i,contractInfo:n,mainCoinId:a,coinId:l}=t,[,c]=De(l),p=Ae({coinId:+a})?.localType,f=Le(p),d=qo(p),{label:C,toAddress:T,msg:I,tags:y,canAdd:h}=(0,pt.useMemo)(()=>{let D,H,G=!1,S=[];if(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||[o.BRC20_INSCRIBE,o.BRC20_MINT,o.ORDINAL_NFT,o.ORDINAL_TEXT,o.BRC20_DEPLOY,o.BRC20_RECEIVE,o.BRC20_SEND,o.BRC20_TRADE,o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY,o.BRC30_SEND,o.BRC30_RECEIVE,o.EARN_BRC30_CLAIM,o.BRC30_INSCRIBE,o.BRC30_TRADE,o.RUNES_SWEEP].includes(i)){let nt=f(e);G=!nt,D=s("wallet_extension_mid_text_to"),nt?.name&&S.push(nt.name);let W=Yt(t);W&&S.push(W),H=e}else{let{address:nt,name:W}=n||{};D=i===o.REGISTRATION?s("wallet_extension_item_register_address"):s("wallet_extension_mid_text_interaction_address"),S.push(W),i===o.AUTHORIZATION||i===o.CANCEL_AUTHORIZATION||i===o.NFT_AUTHORIZATION||i===o.NFT_CANCEL_AUTHORIZATION?H=e:H=nt}let K=d[H],tt=K?s(Ce[Ie[K]]):"",it=K?Se(s,K,c?.symbol):s("wallet_extension_popup_title_receiving_address_copied");return S.unshift(tt),{label:D,toAddress:H,tags:S,canAdd:G,msg:it}},[i,d,f,e,s,n]);return i===o.ZK_REGISTER||!T?null:pt.default.createElement(pt.default.Fragment,null,pt.default.createElement("div",{className:Pt["address-to"]},pt.default.createElement("div",{className:Pt["address-type"]},C),pt.default.createElement("div",{className:Pt["address-content"]},pt.default.createElement("div",{className:Pt["address-string"]},T),pt.default.createElement("div",{className:Pt["address-right"]},pt.default.createElement(Zt,{value:T,message:I}),h&&pt.default.createElement(Ve,{address:T,network:p}))),pt.default.createElement("div",{className:Pt["address-container"]},y.map(D=>D&&pt.default.createElement(xt,{className:Pt["tx-clipboard__tag"]},D)))))}var Tn=Kl;r();_();var k=x(v()),On=x(Ft()),fo=x(ee());U();eo();r();_();var St=x(v()),Nn=x(Ut()),pe=x(Ao());U();r();_();var Dt={"tx-hash__inner":"_tx-hash__inner_1f08g_1",txHashInner:"_tx-hash__inner_1f08g_1","tx-hash__inner-wrap":"_tx-hash__inner-wrap_1f08g_5",txHashInnerWrap:"_tx-hash__inner-wrap_1f08g_5","tx-hash__vertical":"_tx-hash__vertical_1f08g_14",txHashVertical:"_tx-hash__vertical_1f08g_14","tx-hash__icon":"_tx-hash__icon_1f08g_20",txHashIcon:"_tx-hash__icon_1f08g_20","okx-wallet-plugin-copy-1":"_okx-wallet-plugin-copy-1_1f08g_25",okxWalletPluginCopy1:"_okx-wallet-plugin-copy-1_1f08g_25","tx-hash__message":"_tx-hash__message_1f08g_36",txHashMessage:"_tx-hash__message_1f08g_36","tx-hash__tag":"_tx-hash__tag_1f08g_40",txHashTag:"_tx-hash__tag_1f08g_40"};function mo({className:t,label:e,value:i,message:n,tag:a,url:l,showExplorerUrl:c}){let[m,p]=Ni(),f=()=>{m||(p(i),Do.success({title:n||s("wallet_receive_toast_address_copied"),desc:St.default.createElement("div",{className:Dt["tx-hash__message"]},i)}))},d=()=>{!c||globalThis.platform.openTab({url:l})};return St.default.createElement("div",{className:(0,Nn.default)(Dt["tx-hash"],t)},St.default.createElement("div",{className:Dt["tx-hash__inner"]},St.default.createElement("div",{className:Dt[c?"tx-hash__inner-wrap":""],onClick:d},e,a&&St.default.createElement("div",{className:Dt["tx-hash__tag"]},a)),St.default.createElement("div",{className:Dt["tx-hash__vertical"]}),St.default.createElement("div",{className:Dt["tx-hash__icon"],onClick:f},St.default.createElement(Rt,{className:`okx-wallet-plugin-copy-1 ${Dt["okx-wallet-plugin-copy-1"]}`}))))}var Ge=mo;mo.propTypes={label:pe.default.any,value:pe.default.string,message:pe.default.string,className:pe.default.string};mo.defaultProps={label:"",value:"",className:"",message:""};r();_();var $e=x(v());U();function ql(t){let{txType:e,approveInfo:i}=t,{amount:n,decimalNum:a}=i||{},l=(0,$e.useMemo)(()=>n==="115792089237316195423570985008687907853269984665640564039457584007913129639935"?s("wallet_extension_mid_text_unlimited"):X(n,{decimals:a}),[n]);return e!==o.AUTHORIZATION?null:$e.default.createElement(z,{label:s("wallet_extension_mid_text_approved_amount"),value:l})}var Cn=ql;r();_();var In=x(v());U();eo();function zl({txType:t,mainCoinId:e,confirmedCount:i}){return t===o.ZK_REGISTER&&e===oe?null:In.default.createElement(z,{label:s("wallet_extension_mid_text_block_confirmation"),value:i})}var gn=zl;r();_();var We=x(v());U();r();_();var wn=x(v());ml();function po(){let t=ti(),e=Qo();return(0,wn.useCallback)(i=>{try{let n=i??`type: ${String(i)}`;Eo.captureEvent({message:"coin not found in tx detail",contexts:{report:{info:JSON.stringify({coinId:n,coinIdType:typeof i,coinsReady:t,coinsMapSize:Object.keys(e??{}).length,coinExisted:i!=null?e?.[i]:!1})}},exception:{values:[{type:"BIZ_ERROR_txHistoryCoinNofFound",value:String(n)}]},level:"info"})}catch(n){console.log(n)}},[t,e])}function Xl({mainCoinId:t}){let{coin:e}=Bt(t,!1),i=po();return(0,We.useEffect)(()=>{setTimeout(()=>{e?.coinId||i(t)},1500)},[e,t,i]),We.default.createElement(z,{label:s("wallet_extension_mid_text_network"),value:e.chainName})}var En=Xl;r();_();var Ze=x(v()),yn=x(Ft());U();eo();io();var jl=[oe,bo];function Jl({mainCoinId:t,txStatus:e,serviceCharge:i,chainSymbol:n,serviceChargeUsd:a,feeName:l,feeDecimalNum:c,txType:m}){let p=ye(t),f=jl.includes(t),d=t===fe,{coin:C}=Bt(t,!1),T=(0,yn.useSelector)(ge),I,y;if(m===o.DAPP_UNISAT||m===o.ZK_REGISTER&&t===oe)return null;f?(I=c,y=l):(I=C.decimals,y=n);let h=yo.div(i||0,10**(I||0)),D=`${X(h)} ${y}`;if((p||f||d)&&e!==F.PENDING){let{usdToThisRate:H}=T,G=ue(a,H);D+=` (${Mo(G,{symbol:T.symbol,useApproximate:!1})})`}return Ze.default.createElement(Ze.default.Fragment,null,Ze.default.createElement(z,{label:s("wallet_extension_mid_text_network_fee"),value:D}))}var hn=Jl;r();_();var An=x(v());U();function Ql({txType:t,investTxData:e}){if(!e||!e.lpTokenInfo||[Ct.FARM_LP_TOKEN,Ct.FARM_OTHER_TOKEN].includes(e?.investmentDetailType))return null;let i;if(t===o.DAPP_APPLY?i="wallet_extension_info_receive":t===o.DAPP_REDEEM&&(i="wallet_extension_info_pay"),!i)return null;let{num:n,tokenName:a}=e.lpTokenInfo;return An.default.createElement(z,{label:s(i),value:X(n,{symbol:a})})}var vn=Ql;r();_();var Rn=x(v());U();r();_();var Dn=x(ee());U();var ts="okx-wallet-plugin-lock-1",es="okx-wallet-plugin-enrollment",Sn=(t={})=>{let{txType:e,assetChange:i=[],poolLogo:n}=t;if(e===o.AUTHORIZATION||e===o.CANCEL_AUTHORIZATION||e===o.DAPP_NFT||e===o.CONTRACTCALL||e===o.CANCEL_NFT||e===o.NFT_CANCEL_AUTHORIZATION)return[t.contractIcon||so(t)];if(e===o.NFT_AUTHORIZATION)return[t.contractIcon||ts];if(e===o.ZK_REGISTER)return[es];if(e===o.EARN_BRC30_DEPLOY)return[n];let a=i.map(l=>{let{coinImgUrl:c}=l||{};return c||Ai(l,t)});return a.reverse(),a.length===0?[so(t)]:a},Ye=(t={})=>{let{txType:e,approveSymbol:i,nftCollectionName:n}=t;return ke(e,{symbol:i,collection:n},t)},bn=(t={},e="en-US")=>{let i=[],{txType:n,txStatus:a}=t;if(n===o.TRANS_OUT||n===o.SEND_NFT||n===o.BRC20_SEND||n===o.BRC20_RECEIVE||n===o.BRC30_TRADE||n===o.BRC30_SEND){let l=Yt(t)||q(t.to),c=`${s("wallet_extension_history_list_send_to")}   ${l}`;i.push(c)}else if(n===o.TRANS_IN||n===o.RECEIVE_NFT||n===o.BRC30_RECEIVE){let l=q(t.from),c=`${s("wallet_extension_history_list_receive_from")}   ${l}`;i.push(c)}else if(n===o.CANCEL_NFT){let l=t.contractName||q(t.to);i.push(l)}else if(n===o.ZK_REGISTER)i.push(q(t.from));else if(n===o.EARN_BRC30_APPLY||n===o.EARN_BRC30_REDEEM||n===o.EARN_BRC30_CLAIM||n===o.EARN_BRC30_DEPLOY)t.poolId&&i.push(`Pool ID: ${t.poolId}`);else if(n===o.BRC30_INSCRIBE){let l=q(t.from);i.push(l)}else{let{contractName:l,contractAddress:c}=t,m=l||q(c)||"";i.push(m)}if(a===F.PENDING){let l=Lt(t.txTime,{format:"yyyyMMddHHmmss",locale:e});i.push(l)}return i},Ln=(t={})=>{let{assetChange:e=[],txType:i,repeatTxType:n,coinId:a}=t,{baseCoin:l}=Bt(a,!0),c=he(l.coinId);return e.map(p=>{let{direction:f,coinAmount:d,coinSymbol:C}=p||{};if((0,Dn.isNil)(d))return null;let T=null;return(d!=="0"||c&&(i===o.TRANS_IN||i===o.TRANS_OUT)&&n!==V.CANCELING&&n!==V.SPEEDING_CANCEL)&&(T=X(d)),i===o.CANCEL_NFT?{coinAmount:"",symbol:C}:{direction:f,coinAmount:T,symbol:C}}).filter(Boolean)};function os(t){let{txType:e}=t,i=Ye(t);return e===o.ZK_REGISTER&&(i=s("wallet_extension_history_text_change_pubkey")),Rn.default.createElement(z,{label:s("wallet_extension_info_text_type"),value:i})}var Fn=os;r();_();var Bn={"tx-detail-info":"_tx-detail-info_pqo7x_1",txDetailInfo:"_tx-detail-info_pqo7x_1","tx-detail-info__tooltip":"_tx-detail-info__tooltip_pqo7x_5",txDetailInfoTooltip:"_tx-detail-info__tooltip_pqo7x_5","tx-detail-info__status":"_tx-detail-info__status_pqo7x_8",txDetailInfoStatus:"_tx-detail-info__status_pqo7x_8","tx-detail-info__status--loading":"_tx-detail-info__status--loading_pqo7x_20",txDetailInfoStatusLoading:"_tx-detail-info__status--loading_pqo7x_20",spin:"_spin_pqo7x_1","tx-detail-info__network":"_tx-detail-info__network_pqo7x_23",txDetailInfoNetwork:"_tx-detail-info__network_pqo7x_23","tx-detail-info__to-name":"_tx-detail-info__to-name_pqo7x_33",txDetailInfoToName:"_tx-detail-info__to-name_pqo7x_33","tx-detail-info__gas-fee":"_tx-detail-info__gas-fee_pqo7x_43",txDetailInfoGasFee:"_tx-detail-info__gas-fee_pqo7x_43","tx-detail-info__add-address":"_tx-detail-info__add-address_pqo7x_50",txDetailInfoAddAddress:"_tx-detail-info__add-address_pqo7x_50","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_pqo7x_54",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_pqo7x_54"};function is({memo:t,mainCoinId:e}){return(0,fo.isNil)(t)?null:k.default.createElement(z,{label:e===fe?s("wallet_extension_import_desc_comment"):s("wallet_extension_text_memocontent"),value:k.default.createElement(_e,{text:t||"--",maxWidth:"260px"})})}function ns({mev:t}){return(0,fo.isNil)(t)?null:k.default.createElement(z,{label:s("wallet_extension_ton_order_header_mev"),value:k.default.createElement(_e,{text:t||"--",maxWidth:"260px"})})}function ls({data:t}){let e=(0,On.useSelector)(Ne),{txTime:i,txHash:n,investTxData:a,txHash1:l,txHash2:c,explorerUrl:m,explorerUrl1:p,explorerUrl2:f,showExplorerUrl:d}=t;return k.default.createElement("div",{className:Bn["tx-detail-info"]},k.default.createElement(z,{label:s("wallet_extension_mid_text_time"),value:Lt(i,{format:"yyyyMMddHHmmss",locale:e})}),k.default.createElement(Fn,{...t}),k.default.createElement(vn,{...t}),k.default.createElement(hn,{...t}),k.default.createElement(En,{...t}),!l&&n&&k.default.createElement(z,{label:s("wallet_extension_mid_text_transaction_hash"),value:k.default.createElement(Ge,{showExplorerUrl:d,label:q(n),value:n,url:m,message:s("wallet_extension_popup_title_transaction_hash_copied")})}),l&&k.default.createElement(z,{label:s("extension_wallet_details_item_transaction_hash1"),value:k.default.createElement(k.default.Fragment,null,k.default.createElement(Ge,{showExplorerUrl:d,label:q(l),value:l,url:p,message:s("wallet_extension_popup_title_transaction_hash_copied")}))}),c&&k.default.createElement(z,{label:s("extension_wallet_details_item_transaction_hash2"),value:k.default.createElement(k.default.Fragment,null,k.default.createElement(Ge,{showExplorerUrl:d,label:q(c),value:c,url:f,message:s("wallet_extension_popup_title_transaction_hash_copied")}))}),k.default.createElement(gn,{...t}),a?.validateName&&k.default.createElement(z,{label:s("extension_wallet_history_text_validator"),value:q(a?.validateName)}),k.default.createElement(Cn,{...t}),k.default.createElement(ns,{...t}),k.default.createElement(is,{...t}))}var Pn=ls;r();_();var de={"tx-detail":"_tx-detail_xwwkm_1",txDetail:"_tx-detail_xwwkm_1","metax-ok-navigator":"_metax-ok-navigator_xwwkm_13",metaxOkNavigator:"_metax-ok-navigator_xwwkm_13","tx-detail__inner":"_tx-detail__inner_xwwkm_19",txDetailInner:"_tx-detail__inner_xwwkm_19","tx-detail__underline":"_tx-detail__underline_xwwkm_24",txDetailUnderline:"_tx-detail__underline_xwwkm_24","tx-detail__loading":"_tx-detail__loading_xwwkm_29",txDetailLoading:"_tx-detail__loading_xwwkm_29"};r();_();var Gt=x(v());U();r();_();var Xt={"tx-detail-status":"_tx-detail-status_1py5p_1",txDetailStatus:"_tx-detail-status_1py5p_1","tx-detail-icon":"_tx-detail-icon_1py5p_5",txDetailIcon:"_tx-detail-icon_1py5p_5","tx-detail-loading":"_tx-detail-loading_1py5p_11",txDetailLoading:"_tx-detail-loading_1py5p_11","tx-detail-loader":"_tx-detail-loader_1py5p_16",txDetailLoader:"_tx-detail-loader_1py5p_16","tx-detail-text":"_tx-detail-text_1py5p_20",txDetailText:"_tx-detail-text_1py5p_20","tx-detail-failed":"_tx-detail-failed_1py5p_30",txDetailFailed:"_tx-detail-failed_1py5p_30"};var ss={"tx-detail-completed":"wallet_extension_history_tab_completed1","tx-detail-waiting":"wallet_extension_history_status_waiting","tx-detail-pending":"wallet_extension_history_status_pending","tx-detail-speeding":"wallet_extension_send_status_speedingup1","tx-detail-canceling":"wallet_extension_send_status_canceling1","tx-detail-speedingcancel":"wallet_extension_send_status_canceling1","tx-detail-failed":"wallet_extension_history_status_failed1","tx-detail-canceled":"wallet_extension_send_status_canceled"},rs={"tx-detail-completed":"okds-success-circle","tx-detail-canceled":"okx-wallet-plugin-warning-circle","tx-detail-waiting":"okx-wallet-plugin-waiting","tx-detail-failed":"okx-wallet-plugin-failed"};function _s({data:t}){if(!t)return Gt.default.createElement(Gt.default.Fragment,null);let{txStatus:e,isShowPending:i,repeatTxType:n}=t,a="";e===F.CONFIRMING||e===F.SUCCESS?e===F.SUCCESS&&n===V.SPEEDING_CANCEL||n===V.CANCELING?a="tx-detail-canceled":a="tx-detail-completed":e===F.PENDING?(i&&n===V.CONFIRMING&&(a="tx-detail-pending"),!i&&n===V.CONFIRMING&&(a="tx-detail-waiting"),n===V.SPEEDING&&(a="tx-detail-speeding"),n===V.CANCELING&&(a="tx-detail-canceling"),n===V.SPEEDING_CANCEL&&(a="tx-detail-speedingcancel")):e===F.ERROR&&(a="tx-detail-failed");let l=rs[a]||"";return Gt.default.createElement("div",{className:Xt["tx-detail-status"]+(a==="tx-detail-failed"?` ${Xt["tx-detail-failed"]}`:"")},Gt.default.createElement(Rt,{className:`${Xt["tx-detail-icon"]} ${l}`}),!l&&Gt.default.createElement(At.Circle,{size:At.SIZE.md,className:Xt["tx-detail-loading"],loaderClassName:Xt["tx-detail-loader"]}),Gt.default.createElement("div",null,s(ss[a])))}var kn=_s;r();_();function cs({params:t,onRefresh:e,onClose:i}){let n=(0,M.useRef)(""),a=(0,M.useRef)(null),[l,c]=(0,M.useState)(),m=()=>{if(!t)return;let{coinId:C,address:T,orderType:I,orderId:y}=t;jo({coinId:C,txId:n.current,address:T,orderType:I,orderId:y}).then(h=>{t&&!(0,Un.isEmpty)(h)&&c({...h,address:T})}).catch(()=>{})};(0,M.useEffect)(()=>{t?(n.current=t.txId,m(),a.current=m):(n.current="",c(null))},[t]);let p=()=>{a.current&&n.current&&a.current()},f=re("wallet-transaction"),d=re("wallet-tx-confirm",{onError:p});return(0,M.useEffect)(()=>{(f&&l?.orderTxIdList?.includes(f.data?.txId)||d&&d.data?.txId===n.current&&d.data?.confirmedCount<=d.data?.totalConfirm)&&m()},[f,d]),t?M.default.createElement("div",{className:de["tx-detail"]},M.default.createElement(zo,{onBack:i,title:M.default.createElement(kn,{data:l})}),l?M.default.createElement(M.default.Fragment,null,M.default.createElement(Ii,{message:l.failReason}),M.default.createElement("div",{className:de["tx-detail__inner"]},M.default.createElement(fn,{data:l}),l&&M.default.createElement(xn,{data:l}),l&&M.default.createElement(Tn,{data:l}),M.default.createElement("div",{className:de["tx-detail__underline"]}),M.default.createElement(Pn,{data:l}),M.default.createElement(Ri,{data:l,onRefresh:C=>{n.current=C,m(),e&&e()}}))):M.default.createElement("div",{className:de["tx-detail__loading"]},M.default.createElement(At.Circle,{size:At.SIZE.lg}))):null}var uo=cs;r();_();r();_();var ze=x(v());r();_();var yt=x(v()),Mn=x(Ft()),Hn=x(Uo());r();_();U();var Ke=(t={})=>{let{txStatus:e,isShowPending:i,repeatTxType:n}=t;if(e===F.SUCCESS&&(n===V.CANCELING||n===V.SPEEDING_CANCEL))return s("wallet_extension_send_status_canceled");if(e===F.CONFIRMING||e===F.SUCCESS)return"";if(e===F.ERROR)return s("wallet_extension_history_status_failed");if(e===F.PENDING&&!i)return s("wallet_extension_history_list_status_waiting");if(e===F.PENDING&&i){if(n===V.CONFIRMING)return"";if(n===V.SPEEDING)return s("wallet_extension_send_status_speedingup");if(n===V.CANCELING)return s("wallet_extension_send_status_canceling");if(n===V.SPEEDING_CANCEL)return s("wallet_extension_send_status_canceling")}return""},qe=(t={})=>{let{txStatus:e,isShowPending:i,repeatTxType:n}=t;return e===F.SUCCESS&&(n===V.CANCELING||n===V.SPEEDING_CANCEL)?se.CANCELED:e===F.CONFIRMING||e===F.SUCCESS?"":e===F.ERROR?se.FAILED:e===F.PENDING&&!i?se.WAITING:se.PENDING};var ms=({data:t={},onClick:e,onRepeat:i})=>{let n=(0,Hn.useHistory)(),a=(0,Mn.useSelector)(Te),l=Sn(t),c=Ln(t),m=Ye(t),p=bn(t,a),f=qe(t),d=Ke(t),C=hi(t),T=vi(t),I=Pe(p,c),y=yt.default.createElement(B.Label,{className:"tx-history-ml4",type:f,text:d,data:t}),h=t?.dexOrderId;return yt.default.createElement(B.ItemContainer,{onClick:()=>{h&&n.push(`${Ee}/${t.dexOrderId}`),e()}},yt.default.createElement(B.Row,{assets:c,align:I},yt.default.createElement(B.Info,{icons:l,title:m,details:p,label:y,data:t}),yt.default.createElement(B.Assets,{assets:c,isValuelessNftTxType:T})),C&&yt.default.createElement(B.NFTs,{data:t}),!h&&yt.default.createElement(B.Actions,{data:t,onRepeat:i}))},Vn=(0,yt.memo)(ms);var ps=({data:t={},onClick:e,onRepeat:i})=>ze.default.createElement(Vn,{data:t,onClick:e,onRepeat:i}),jt=(0,ze.memo)(ps);r();_();var ot=x(v());var To=x(Ft());r();_();var xo=x(v()),$n=x(Ut());r();_();var Gn={root:"_root_17ca3_1"};function ds({className:t}){return xo.default.createElement("div",{className:(0,$n.default)(Gn.root,t)},xo.default.createElement(At.Circle,{size:At.SIZE.md}))}var Xe=ds;r();_();var Jt=x(v());var fs=({date:t,list:e,onClick:i})=>Jt.default.createElement(B.List,null,Jt.default.createElement(B.Date,null,t),e.map((n,a)=>Jt.default.createElement(jt,{data:n,key:a,onClick:()=>{i(n)}}))),Wn=(0,Jt.memo)(fs);r();_();var Zn={list:"_list_1ou1i_1"};var us=({pendingList:t,completedList:e,isLoading:i,onRepeat:n,onClick:a,onContainer:l})=>{let c=(0,To.useSelector)(Fe),m=(0,To.useSelector)(di),[p,f]=(0,ot.useState)({}),[d,C]=(0,ot.useState)(0);return m?ot.default.createElement(B.Loading,{top:160}):i||!t?null:!i&&t.length===0&&e.length===0?ot.default.createElement(B.Empty,{top:72}):ot.default.createElement(B.ListContainer,{onContainer:l},ot.default.createElement(B.Dialogs,{data:p,type:d,onConfirm:()=>{f({}),C(0),n()},onCancel:()=>{C(0)}}),t.length>0?ot.default.createElement(ot.default.Fragment,null,ot.default.createElement(B.PendingTag,null),ot.default.createElement("div",{className:Zn.list},t.map((T,I)=>ot.default.createElement(jt,{data:T,key:I,onClick:()=>{a(T)},onRepeat:y=>{f(T),C(y)}})))):null,e.map(({date:T,list:I},y)=>ot.default.createElement(Wn,{date:T,list:I,key:y,onClick:a})),c&&ot.default.createElement(Xe,null))},Yn=(0,ot.memo)(us);var xs={VirtualItem:jt,HistoryList:Yn};r();_();r();_();r();_();var st=x(v()),Co=x(Ft());var nl=x(Uo());r();_();var wt=x(v());r();_();var je=x(v());r();_();var bt=x(v()),Qn=x(Ft());r();_();U();var Ts="okx-wallet-plugin-report-centre",Kn="okx-wallet-plugin-pointer-up",qn="okx-wallet-plugin-pointer-down",Ns="okx-wallet-plugin-lock-1",Cs="okx-wallet-plugin-swap-1",Is="okx-wallet-plugin-mint-nft",gs="okx-wallet-plugin-report-centre",ws="okx-wallet-plugin-supply",Es="okx-wallet-plugin-claim",ys="okx-wallet-plugin-enrollment",hs="okx-wallet-plugin-mint",As="okx-wallet-plugin-mint",vs="okx-wallet-plugin-coin-inscribe-brc20",Ds="okx-wallet-plugin-pointer-down",Ss="okx-wallet-plugin-pointer-up",bs="okx-wallet-plugin-quick",zn=(t={})=>{let{txType:e}=t,i=[];return e===o.TRANS_OUT&&i.push(Kn),e===o.PERPETUAIL&&i.push(Ds),e===o.WITHDRAW&&i.push(Ss),e===o.QUICK_WITHDRAW&&i.push(bs),e===o.TRANS_IN&&i.push(qn),(e===o.AUTHORIZATION||e===o.CANCEL_AUTHORIZATION)&&i.push(Ns),(e===o.SWAP||e===o.BUY_NFT||e===o.SELL_NFT||e===o.GAS_STATION||e===o.DEX_CROSS_CHAIN_SWAP||e===o.BRC20_TRADE||e===o.BRC30_TRADE||e===o.RUNES_SWEEP)&&i.push(Cs),e===o.MINT_NFT&&i.push(Is),(e===o.CONTRACTCALL||e===o.DAPP_NFT)&&i.push(gs),e===o.DAPP_APPLY&&i.push(ws),(e===o.DAPP_REDEEM||e===o.DAPP_CLAIM||e===o.EARN_BRC30_CLAIM||e===o.EARN_BRC30_APPLY||e===o.EARN_BRC30_REDEEM)&&i.push(Es),(e===o.REGISTRATION||e===o.ZK_REGISTER)&&i.push(ys),(e===o.BRC20_RECEIVE||e===o.BRC30_RECEIVE||e===o.DEFI_MINT)&&i.push(qn),(e===o.BRC20_INSCRIBE||e===o.BRC30_INSCRIBE)&&i.push(vs),(e===o.BRC20_MINT||e===o.ORDINAL_NFT||e===o.ORDINAL_TEXT||e===o.BRC20_DEPLOY)&&i.push(hs),(e===o.BRC20_SEND||e===o.BRC30_SEND||e===o.DEFI_REPAY)&&i.push(Kn),e===o.EARN_BRC30_DEPLOY&&i.push(As),i.length||i.push(Ts),i},Xn=(t={})=>{let{txType:e,coinSymbol:i}=t;return ke(e,{symbol:i},t)},jn=(t={},e="en-US")=>{let i=[],{txType:n,txStatus:a}=t;if(n===o.TRANS_OUT||n===o.SEND_NFT||n===o.BRC20_SEND||n===o.BRC20_TRADE||n===o.BRC30_SEND||n===o.RUNES_SWEEP){let l=Yt(t)||q(t.to),c=`${s("wallet_extension_history_list_send_to")}  ${l}`;i.push(c)}else if(n===o.TRANS_IN||n===o.RECEIVE_NFT||n===o.BRC20_RECEIVE||n===o.BRC20_MINT||n===o.ORDINAL_NFT||n===o.ORDINAL_TEXT||n===o.BRC20_INSCRIBE||n===o.BRC20_DEPLOY||n===o.BRC30_RECEIVE||n===o.RUNES_ETCH){let l=q(t.from),c=`${s("wallet_extension_history_list_receive_from")}   ${l}`;i.push(c)}else if(n===o.BRC30_INSCRIBE){let l=q(t.to);i.push(l)}else if(n===o.ZK_REGISTER)i.push(q(t.from));else{let{contractName:l,contractAddress:c}=t,m=l||q(c)||"";i.push(m)}if(a===F.PENDING){let l=Lt(t.txTime,{format:"yyyyMMddHHmmss",locale:e});i.push(l)}return i},Jn=(t={})=>{let e=[],{direction:i,coinAmount:n,coinSymbol:a,txType:l,repeatTxType:c,coinId:m}=t,{baseCoin:p}=Bt(m,!0),f=he(p.coinId);if(l===o.AUTHORIZATION||l===o.CANCEL_AUTHORIZATION||l===o.REGISTRATION)return e;let d=null;return(n!=="0"||f&&(l===o.TRANS_IN||l===o.TRANS_OUT)&&c!==V.CANCELING&&c!==V.SPEEDING_CANCEL)&&(d=X(n)),e.push({direction:i,coinAmount:d,symbol:a}),!t?.brc20Type&&t?.ordinalNftName&&t?.ordinalNftDirection&&t?.ordinalNftAmount&&e.push({direction:t?.ordinalNftDirection,coinAmount:t?.ordinalNftAmount,symbol:t?.ordinalNftName}),e};var Ls=({data:t={},onClick:e,onRepeat:i})=>{let n=(0,Qn.useSelector)(Te),a=zn(t),l=Xn(t),c=jn(t,n),m=Jn(t),p=Pe(c,m),f=qe(t),d=Ke(t),C=bt.default.createElement(B.Label,{className:"tx-history-ml4",type:f,text:d,data:t});return bt.default.createElement(B.ItemContainer,{onClick:e},bt.default.createElement(B.Row,{assets:m,align:p},bt.default.createElement(B.Info,{icons:a,title:l,details:c,label:C,data:t}),bt.default.createElement(B.CoinAssets,{assets:m})),bt.default.createElement(B.Actions,{data:t,onRepeat:i}))},tl=(0,bt.memo)(Ls);var Rs=({data:t={},onRepeat:e,onClick:i})=>je.default.createElement(tl,{data:t,onClick:i,onRepeat:e}),Je=(0,je.memo)(Rs);r();_();var el={root:"_root_1otry_1"};var Fs=({pendingList:t,onRepeat:e,onClick:i})=>{let[n,a]=(0,wt.useState)({}),[l,c]=(0,wt.useState)(0);return t.length===0?null:wt.default.createElement(wt.default.Fragment,null,wt.default.createElement(B.Dialogs,{data:n,type:l,onConfirm:()=>{a({}),c(0),e()},onCancel:()=>{c(0)}}),wt.default.createElement("div",{className:el.root},t.map((m,p)=>wt.default.createElement(Je,{data:m,key:p,onRepeat:f=>{a(m),c(f)},onClick:()=>{i(m)}}))))},ol=(0,wt.memo)(Fs);r();_();var kt=x(v());var Bs=({completedList:t,onClick:e})=>kt.default.createElement(kt.default.Fragment,null,t.map(({date:i,list:n},a)=>kt.default.createElement(B.List,{key:a},kt.default.createElement(B.Date,null,i),n.map((l,c)=>kt.default.createElement(Je,{data:l,key:c,onClick:()=>{e(l)}}))))),il=(0,kt.memo)(Bs);r();_();var No={loading:"_loading_arfpq_1",scrollLoading:"_scrollLoading_arfpq_7"};var Os=({txList:t,isLoading:e,onRepeat:i})=>{let[n,a]=(0,st.useState)(),l=(0,Co.useSelector)(Ne),c=(0,Co.useSelector)(Fe),m=(0,nl.useHistory)(),[p,f]=(0,st.useMemo)(()=>yi(t,l,!0),[t,l]);if(!e&&p.length===0&&f.length===0)return st.default.createElement(B.Empty,null);if(e)return st.default.createElement(B.Loading,{top:0,className:No.loading});if(!Array.isArray(t))return null;let d=C=>{C?.dexOrderId?m.push(`${Ee}/${C.dexOrderId}`):a(C)};return st.default.createElement(st.default.Fragment,null,st.default.createElement("div",{className:"coin-history__list"},st.default.createElement(ol,{pendingList:p,onRepeat:i,onClick:d}),st.default.createElement(il,{completedList:f,onClick:d}),c&&st.default.createElement(Xe,{className:No.scrollLoading})),st.default.createElement(uo,{params:n,onRefresh:i,onClose:()=>{a(null)}}))},ll=(0,st.memo)(Os);var Ps={TxList:ll};r();_();var Tt=x(v()),sl=x(Ft()),rl=x(ee());function Du({scrollContainer:t,selector:e=".tx-history-item-container",index:i=15},n){let a=(0,Tt.useRef)(null),l=(0,Tt.useRef)(null),c=(0,sl.useSelector)(pi),m=()=>{if(a.current)if(l.current){let{bottom:h}=a.current.getBoundingClientRect(),{top:D}=l.current.getBoundingClientRect();D>=h&&n()}else n()},p=re("wallet-transaction",{onError:m}),[f,d]=(0,Tt.useState)(!1),[C,T]=(0,Tt.useState)(!1),[I,y]=(0,Tt.useState)(0);(0,Tt.useEffect)(()=>{p&&T(!0)},[p]),(0,Tt.useLayoutEffect)(()=>{let h;if(t){let D=t.querySelectorAll(e);h=(0,rl.throttle)(()=>{let{bottom:H}=t.getBoundingClientRect(),{top:G}=l.current.getBoundingClientRect();d(G>=H)},200),l.current=D[i],l.current?(h(),t.addEventListener("scroll",h)):d(!0),a.current=t}else d(!0);return()=>{t&&(t.removeEventListener("scroll",h),l.current=null)}},[I,t,e,i,c]),(0,Tt.useEffect)(()=>{f&&C&&(n&&n(),d(!1),T(!1),y(h=>{let D=h+1;return D>=1e6&&(D=1),D}))},[f,C])}export{yi as a,uo as b,Ps as c,xs as d,Du as e};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-IJURUMVW.js.map
