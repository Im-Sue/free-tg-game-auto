import{e as D}from"./chunk-GZMWLE4V.js";import{a as q}from"./chunk-RC3QMLDN.js";import{g as k}from"./chunk-SR2BDP3A.js";import{t as R}from"./chunk-SJIW4WAV.js";import{o as O}from"./chunk-5JJQQHKZ.js";import{Pa as I,y as W}from"./chunk-ZPOCIBPN.js";import{q as b}from"./chunk-CA5MYYD6.js";import{d as g,f as P}from"./chunk-2G2AXMFT.js";import{a as A,b as V}from"./chunk-A7LNVEYU.js";import{f as h,h as K}from"./chunk-2YWUVAR3.js";import{S as y,la as v}from"./chunk-M54COW6Q.js";import{I as H,l as T}from"./chunk-K4MPEKC5.js";import{a as N}from"./chunk-CXUPEGDW.js";import{f as S,m as L,o as M}from"./chunk-ICCOEXX5.js";L();M();var a=S(N()),x=S(W());H();P();K();V();v();function _(t={},e,m=!1){let r=(0,x.useSelector)(I),u=k()[e],i=q(t?.localType),c=e?u:i;return async()=>{let o=await g().getRequestHeaders({walletId:r,needSign:!0,currency:"usd"}),n={coinId:t?.coinId,utxoRequests:[{address:c,utxoType:12}]};try{let{data:s=[]}=await h(A.getBTCUTXO,n,{headers:o});return m?s?.map(l=>({...l,utxoList:l?.utxoList?.filter(p=>p.utxoStatusType===2)})):s}catch{return[]}}}function at(t={},e,m=!1){let r=_(t,e,m),{coinAmountInt:f=0}=D(t?.coinId,e),[u,{setTrue:i,setFalse:c}]=O(!1),[o,{setTrue:n}]=O(!1),[s,l]=(0,a.useState)(""),{coinId:p,decimals:C}=t||{};return(0,a.useEffect)(()=>{p===y?r().then((w=[])=>{w.some((d={})=>d.utxoList?.length>0)?i():c();let U=w?.reduce((d,E)=>{let F=E?.utxoList?.reduce((X,B)=>B?.utxoStatusType===2?T.add(X,B?.coinAmount):X,0);return T.add(d,F)},0);if(U){let d=R(U,{decimals:C});l(d)}n()}).catch(()=>{n(),c()}):(n(),c())},[p,C,f,n,i]),{showManageUTXO:u,NFTAmountDisplay:s,isCheckFinished:o}}function it(t,e){let[m,r]=(0,a.useState)(0),[f,u]=(0,a.useState)([]),i=(0,x.useSelector)(I),c=async()=>{let o=await g().getRequestHeaders({walletId:i,needSign:!0,currency:"usd"}),n={coinId:e.coinId,utxoRequests:[{address:t,utxoType:b.NORMAL_TRADE}]};try{let{data:s}=await h(A.getBTCUTXO,n,{headers:o});return s[0]||null}catch{return null}};return(0,a.useEffect)(()=>{e.coinId===y?c().then(o=>{r(o?.lockAmount||0),u(o?.utxoList||[])}).catch(()=>{r(0),u([])}):(r(0),u([]))},[t,e]),{lockedAmount:m,UTXOList:f}}export{at as a,it as b};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-XCM743XO.js.map
