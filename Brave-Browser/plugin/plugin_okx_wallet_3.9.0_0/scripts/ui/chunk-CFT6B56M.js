import{S as Q,Y,Z,ca as tt,ea as ot,ga as rt,ha as et,la as nt,ua as B,va as F}from"./chunk-ZPOCIBPN.js";import{h as M,k as y,l as _}from"./chunk-CA5MYYD6.js";import{d as G,f as $}from"./chunk-2G2AXMFT.js";import{a as n,b as m}from"./chunk-A7LNVEYU.js";import{c as g,d as R,e as k,f as c,h as f}from"./chunk-2YWUVAR3.js";import{Gb as E,Kb as b,Qa as U,a as O,b as W,m as z,pb as V}from"./chunk-M54COW6Q.js";import{c as K,f as L,m as s,o as a}from"./chunk-ICCOEXX5.js";var J=K((tr,H)=>{s();a();var at=rt(),ct=nt(),it=Y(),pt=Q(),dt=et(),ut=Z(),lt=ot(),ft=tt(),mt="[object Map]",gt="[object Set]",xt=Object.prototype,ht=xt.hasOwnProperty;function yt(t){if(t==null)return!0;if(dt(t)&&(pt(t)||typeof t=="string"||typeof t.splice=="function"||ut(t)||ft(t)||it(t)))return!t.length;var o=ct(t);if(o==mt||o==gt)return!t.size;if(lt(t))return!at(t).length;for(var r in t)if(ht.call(t,r))return!1;return!0}H.exports=yt});s();a();f();m();$();var S=L(z()),N=async()=>{let t=await G().getSelectedWallet(),o=await G().getRequestHeaders({walletId:t,needSign:!0,currency:"usd"});return{walletId:t,config:{headers:o}}},Tt=async(t={...M},o)=>{let{walletId:r,config:e}=await N(),i=n.postAllTxListUrl,p={lastRowId:"",limit:20,accountIds:[r],...t};try{let{data:d=[]}=await c(i,p,(0,S.merge)(e,o));return d}catch(d){throw new Error(d)}},At=async(t={coinId:3,txId:"",txHash:"",address:"",orderId:"",orderType:""},o)=>{let{walletId:r,config:e}=await N(),{coinId:i}=t,p=n.postTxDetailInfoUrl,d={accountId:r,...t,coinId:i};try{let{data:l={}}=await c(p,d,(0,S.merge)(e,o));return l}catch(l){throw new Error(l)}},Pt=async(t={coinId:3,address:""},o)=>{let{walletId:r,config:e}=await N(),{coinId:i}=t,p=n.postCoinTxListUrl,d={lastRowId:"",limit:20,accountIds:[r],coinId:i,...t};try{let{data:l={}}=await c(p,d,(0,S.merge)(e,o));return l}catch(l){throw new Error(l)}};var kt=async(t={coinId:3,txHash:"",address:""},o)=>{let{config:r}=await N(),{coinId:e}=t,i=n.postBtcAccelerationFeeInfo,p={...t,coinId:e},{data:d={}}=await c(i,p,(0,S.merge)(r,o));return d};s();a();s();a();s();a();W();m();f();var Rt=(t={})=>{let{coinId:o,address:r}=t,e=n.getGasSignInfo.replace("{coinId}",o).replace("{address}",r);return g(e)},x=(t={},o,r={})=>{let{coinId:e,address:i}=t,p=n.getGasSignInfo.replace("{coinId}",e).replace("{address}",i);return c(p,o,r)},j=async(t,o)=>{let r={scenario:y.SCENARIO_SEND_COIN,...o},{data:e={}}=await x(t,r);return e},v=(t={})=>c(n.postGasLimit,t),Ut=(t={})=>{let{coinId:o}=t,r=n.postTxToastCheckUrl.replace("{coinId}",o);return c(r,t)},bt=async(t,o)=>{let r=n.postTx,{data:e}=await c(r,t,o);return e},Bt=t=>c(n.getDomainAddress,t),Ft=async(t={},o={})=>{try{let{coinId:r}=t,e=n.postExtFee.replace("{coinId}",r);r||O.captureEvent({message:`coinId is ${r}`,contexts:{report:{info:JSON.stringify({href:window?.location?.href})}},exception:{values:[{type:"POSTEXTFEE_ERROR",value:"coinId is undefined"}]},tags:{pathname:e},level:"info"});let{data:i}=await c(e,o);return i?.extFee}catch{return"0"}},Mt=async(t,o)=>{let r=n.postBatchTx,{data:e}=await c(r,t,o);return e};var _t=async(t,o)=>{let r=n.postUTXOInfoFromTxs;return c(r,t,o)};s();a();f();m();b();var zt=async(t={})=>{let{data:o={}}=await x(t),{info:r={}}=o;return r};var $t=async(t={},o={})=>{let{data:r={}}=await x(t,o),{info:e={}}=r,{recentBlockhash:i}=e;return i},Vt=(t={})=>{let{coinId:o,address:r}=t,e=n.getSolanaTokenAccountAddress.replace("{coinId}",o).replace("{address}",r);return g(e)},Qt=(t={})=>{let{mint:o,address:r}=t,e=n.getSolanaTokenAccountAddressWithMint.replace("{mint}",o).replace("{address}",r);return g(e)};async function Yt(t,o){let r=await k(n.requestSolanaMethodUrlToFullnode,{jsonrpc:"2.0",id:E(),method:t,params:o});return r.status===200?r.data:Promise.reject(r)}async function Zt(t){let{data:o={}}=await c(n.getSolanaJitoSignInfo,t);return o}s();a();var so=async t=>{let{address:o}=t,r={fromAddr:o,scenario:y.SCENARIO_SEND_COIN},{data:e={}}=await x(t,r),{info:i={}}=e,{trc:p}=i;return p===_.TRC20},st=async(t,o)=>{let r={scenario:y.SCENARIO_SEND_COIN,...o},{data:e={}}=await x(t,r);return e},ao=async(t,o)=>{let r={...o,scenario:y.SCENARIO_SEND_COIN},e=await st(t,r),{info:i={}}=e,{fee:p="0"}=i;return p};s();a();m();f();V();var xo=async t=>{let{data:o}=await c(n.getAptosGasLimit,{inputData:t}),{gasLimit:r}=o;return r},ho=async(t,o,r)=>{let e={...o,scenario:y.SCENARIO_SEND_COIN},{data:i={}}=await x(t,e),{info:p={}}=i,{maxGasAmount:d="0"}=p,{gasUnitPrice:l="0"}=p;if(r)try{let{data:{gasLimit:T}}=await c(n.getAptosGasLimit,{inputData:r,chainIndex:t?.chainId});d=T}catch{d="8000"}let h=U(l,d);return{gasUnitPrice:l,maxGasAmount:d,fee:h}},yo=async(t={})=>{let{address:o,chainIndex:r=""}=t,e=n.getAptosABI.replace("{moduleAddress}",o).replace("{chainIndex}",r),{data:i}=await R(e);return i},Io=async t=>{let o=n.postAptosNftClaim,{data:r}=await c(o,{address:t,pageNo:1,pageSize:1e3});return r},So=async(t,o,r)=>{let e=n.saveAptosNftSaveOrder,{data:i}=await c(e,{scene:t,chain:637,txHash:o,walletAddress:r,source:4,appVersion:"2.23.9"});return i};s();a();m();f();b();async function Eo(t){let o=await k(n.requestSuiMethodUrlToFullnode,{jsonrpc:"2.0",id:E(),...t||{}});return o.status===200?o.data:Promise.reject(new Error)}s();a();var Lo=async(t={})=>{let{coinId:o,from:r,to:e}=t,i={address:r,coinId:o},p={value:"0",fromAddr:r,toAddr:e},{info:d={}}=await j(i,p);return d},Oo=async(t={})=>{let{coinId:o,from:r,inputData:e}=t,i={coinId:o,address:r,value:"0",inputData:e},{data:p={}}=await v(i);return p.gasLimit};s();a();m();f();var Mo=async t=>{let o=n.getBrcJson;return(await g(o,t)).data||{}};s();a();s();a();var X=L(J());m();f();s();a();var w=class{constructor(o=50){this.cache=new Map;this.keysIndex=0;this.keys=Array.from(new Array(o))}delete(o){this.keys=this.keys.map(r=>r===o?void 0:r),this.keysIndex=(this.keysIndex-1)%this.keys.length,this.cache.delete(o)}clear(){this.cache.clear(),this.keys.fill(void 0),this.keysIndex=0}get(o){return this.cache.get(o)}set(o,r){if(!this.keys.includes(o)){let e=this.keys[this.keysIndex];e!==void 0&&this.cache.delete(e),this.keys[this.keysIndex]=o,this.keysIndex=(this.keysIndex+1)%this.keys.length}this.cache.set(o,r)}};s();a();function C(t){return/^\d+$/.test(String(t))}var D=null,mr=async t=>{let{data:o={}}=await c(n.postAddressRegisterStatus,t);return o},gr=async t=>{let{data:o={}}=await c(n.postCheckTransfer,t);return o},xr=async t=>{try{let{data:o=[]}=await c(n.getCoinList,t);return o.length?o.map(r=>F(r)):[]}catch{return[]}},hr=async t=>{try{let o={coinIds:[t]},{data:r=[]}=await c(n.postMarketUrl,o,{headers:{currency:"usd"}});return r[0]??null}catch{return null}},yr=async t=>{if(!t||(0,X.default)(t))return null;D||(D=new w(50));let{address:o,aggregation:r,symbol:e,coinId:i,chainId:p,coinType:d}=t,l={};if(r)l.aggregationSymbol=e;else if(C(i)){l.coinId=+i;let h=D.get(i);if(h)return h}else(e||o)&&(e&&(l.symbol=e),o&&(l.contractAddress=o),C(p)&&(l.chainId=+p),C(d)&&(l.coinType=+d));try{let{data:h={}}=await c(n.getCoinDetail,l);if(h.length){let T=new Map,A=null;return h.forEach(P=>{let I=B(P);if(D.set(I.coinId,I),P.aggregation){let q=T.get(P.symbol);q?q.childrenCoin.push(I):(A={...I,childrenCoin:[I]},T.set(P.symbol,A))}else A=I}),A}return null}catch{return null}};s();a();f();m();s();a();f();m();s();a();f();m();s();a();f();m();s();a();f();m();var Jr=t=>c(n.getGasStationSupportChainListUrl,t),Xr=t=>g(n.getGasStationSupportCoinListUrl,t);var Qr=t=>c(n.checkAndGetCallDataUrl,t),Yr=t=>c(n.orderSaveUrl,t);export{J as a,Rt as b,x as c,j as d,v as e,Ut as f,bt as g,Bt as h,Ft as i,Mt as j,_t as k,zt as l,$t as m,Vt as n,Qt as o,Yt as p,Zt as q,so as r,st as s,ao as t,xo as u,ho as v,yo as w,Io as x,So as y,Eo as z,Lo as A,Oo as B,Tt as C,At as D,Pt as E,kt as F,Mo as G,C as H,mr as I,gr as J,xr as K,hr as L,yr as M,Jr as N,Xr as O,Qr as P,Yr as Q};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-CFT6B56M.js.map
