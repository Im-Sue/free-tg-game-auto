import{h as k}from"./chunk-FFQESTX4.js";import{b as R}from"./chunk-KT53NMHD.js";import{K as F}from"./chunk-CFT6B56M.js";import{e as q}from"./chunk-WMUTUJYX.js";import{a as B,v as N}from"./chunk-5JJQQHKZ.js";import{Va as h,Wa as b,xb as w,y as W}from"./chunk-ZPOCIBPN.js";import{a as S}from"./chunk-CXUPEGDW.js";import{f as d,m as f,o as m}from"./chunk-ICCOEXX5.js";f();m();var p=d(W());var v=d(S());function L(e){let r=(0,p.useSelector)(h),n=(0,p.useSelector)(b),i=k(),u=e??i;return(0,v.useCallback)(t=>t?q({coins:t,walletIdentityMap:r,createdMap:n,walletId:u}):[],[r,n,u])}f();m();var c=d(S());var C=d(W());var K=e=>{let r=(0,c.useMemo)(()=>n=>R(n,{enableEmptyAccount:e}),[e]);return(0,C.useSelector)(r)},re=(e,{beforeRequest:r,onFinally:n,reloadDeps:i,enableEmptyAccountCoins:u=!1,enable:t,filter:U=!0}={})=>{let x=K(u),D=(0,C.useSelector)(w),I=(0,c.useRef)(null),P=L(),z=B(async(o=0)=>{if(t===!1)return{list:[],pageNo:o,isNoMore:!0};let g=await r?.();if(g)return g;let y=0,l=null,s=null,M=o;e?.chainIds||(e.chainIds=x.map(H=>H.chainId));do s=await F({...e,userUniqueId:D,pageNo:o}),U?l=P(s):l=s,M++,y++;while(s&&s.length>0&&l?.length===0&&y<5);return{list:l,pageNo:M,isNoMore:l.length===0}}),a;typeof t=="boolean"?i?a=[...i,t]:a=[t]:a=i;let{data:A,loading:G,loadingMore:j,reload:E}=N(o=>z(o?.pageNo??0),{target:I,isNoMore:o=>o?.isNoMore,onFinally:n,reloadDeps:a});return{data:A,loading:G,loadingMore:j,listRef:I,reload:E}};export{L as a,re as b};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-KG3C55VT.js.map
